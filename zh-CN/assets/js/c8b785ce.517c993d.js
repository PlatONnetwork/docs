"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[119],{3905:function(e,t,n){n.d(t,{Zo:function(){return u},kt:function(){return m}});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},p=Object.keys(e);for(a=0;a<p.length;a++)n=p[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(e);for(a=0;a<p.length;a++)n=p[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=a.createContext({}),o=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},u=function(e){var t=o(e.components);return a.createElement(s.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},y=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,p=e.originalType,s=e.parentName,u=i(e,["components","mdxType","originalType","parentName"]),y=o(n),m=r,c=y["".concat(s,".").concat(m)]||y[m]||d[m]||p;return n?a.createElement(c,l(l({ref:t},u),{},{components:n})):a.createElement(c,l({ref:t},u))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var p=n.length,l=new Array(p);l[0]=y;var i={};for(var s in t)hasOwnProperty.call(t,s)&&(i[s]=t[s]);i.originalType=e,i.mdxType="string"==typeof e?e:r,l[1]=i;for(var o=2;o<p;o++)l[o]=n[o];return a.createElement.apply(null,l)}return a.createElement.apply(null,n)}y.displayName="MDXCreateElement"},7037:function(e,t,n){n.r(t),n.d(t,{contentTitle:function(){return s},default:function(){return y},frontMatter:function(){return i},metadata:function(){return o},toc:function(){return u}});var a=n(7462),r=n(3366),p=(n(7294),n(3905)),l=["components"],i={id:"qianqian_prc721_tutorial",title:"PRC721NFT\u53d1\u884c\u6559\u7a0b",sidebar_label:"PRC721NFT\u53d1\u884c\u6559\u7a0b"},s=void 0,o={unversionedId:"qianqian_prc721_tutorial",id:"qianqian_prc721_tutorial",isDocsHomePage:!1,title:"PRC721NFT\u53d1\u884c\u6559\u7a0b",description:"\u524d\u8a00",source:"@site/i18n/zh-CN/docusaurus-plugin-content-docs/current/PRC721NFT\u53d1\u884c\u6559\u7a0b.md",sourceDirName:".",slug:"/qianqian_prc721_tutorial",permalink:"/docs/zh-CN/qianqian_prc721_tutorial",editUrl:"https://github.com/PlatONnetwork/docs/tree/master/website/i18n/zh-CN/docusaurus-plugin-content-docs/current/PRC721NFT\u53d1\u884c\u6559\u7a0b.md",version:"current",frontMatter:{id:"qianqian_prc721_tutorial",title:"PRC721NFT\u53d1\u884c\u6559\u7a0b",sidebar_label:"PRC721NFT\u53d1\u884c\u6559\u7a0b"},sidebar:"docs",previous:{title:"\u4ee5\u592a\u574aDApp\u5feb\u901f\u8fc1\u79fb\u6559\u7a0b",permalink:"/docs/zh-CN/DApp_migrate"},next:{title:"WASM\u5408\u7ea6\u5f00\u53d1\u5165\u95e8",permalink:"/docs/zh-CN/WASM_Contract_1"}},u=[{value:"\u524d\u8a00",id:"\u524d\u8a00",children:[]},{value:"\u73af\u5883\u914d\u7f6e",id:"\u73af\u5883\u914d\u7f6e",children:[]},{value:"\u8f6f\u4ef6\u51c6\u5907",id:"\u8f6f\u4ef6\u51c6\u5907",children:[]},{value:"\u7f16\u7801\u51c6\u5907",id:"\u7f16\u7801\u51c6\u5907",children:[]},{value:"\u7f16\u8bd1NFT_example \u5408\u7ea6\u3010\u8fd9\u91cc\u662f\u963f\u91cc\u4e91\u670d\u52a1\u5668\u54e6\u3011",id:"\u7f16\u8bd1nft_example-\u5408\u7ea6\u8fd9\u91cc\u662f\u963f\u91cc\u4e91\u670d\u52a1\u5668\u54e6",children:[]},{value:"\u90e8\u7f72 NFT_example \u5408\u7ea6",id:"\u90e8\u7f72-nft_example-\u5408\u7ea6",children:[]},{value:"\u8c03\u7528 NFT_example \u5408\u7ea6",id:"\u8c03\u7528-nft_example-\u5408\u7ea6",children:[]}],d={toc:u};function y(e){var t=e.components,n=(0,r.Z)(e,l);return(0,p.kt)("wrapper",(0,a.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,p.kt)("h3",{id:"\u524d\u8a00"},"\u524d\u8a00"),(0,p.kt)("p",null,"\u6d45\u6d45\u793e\u533a\u6709\u5f88\u591a\u4e1a\u52a1\u9700\u8981\u901a\u8fc7NFT\u8fdb\u884c\u6743\u76ca\u8ba4\u8bc1\uff0c\u56e0\u6b64\u6d45\u6d45\u5f00\u59cb\u7740\u624b\u5b9e\u8df5\u57fa\u4e8ePRC721\u6807\u51c6\u7684NFT\u521b\u5efa\u3002\u8fd9\u91cc\u91cd\u70b9\u611f\u8c22\u793e\u533a\u7684\u6a59\u5b50\u3001Shing\u3001Boney\u3001Bing\u7b49\u6280\u672f\u540c\u5b66\u7684\u652f\u6301\uff0c\u5982\u679c\u6ca1\u6709\u4ed6\u4eec\u7684\u5e2e\u52a9\uff0c\u6d45\u6d45\u7684\u63a2\u7d22\u4e4b\u8def\u4f1a\u66f4\u52a0\u8270\u96be\u3002"),(0,p.kt)("p",null,"\u597d\u5566\uff0c\u901a\u8fc7\u672c\u6559\u7a0b\uff0c\u8bfb\u8005\u53ef\u4ee5\u5728 PlatON \u5f00\u53d1\u7f51\u7edc\u4e0a\u53d1\u5e03\u81ea\u5df1\u7684 NFT\uff0c\u4f46\u5982\u679c\u8981\u5728ATON\u94b1\u5305\u4e0a\u8fdb\u884c\u663e\u793a\uff0c\u9700\u5411ATON\u56e2\u961f\u63d0\u4ea4\u7533\u8bf7\uff0c\u5ba1\u6838\u901a\u8fc7\u5373\u53ef\u3002"),(0,p.kt)("p",null,"\u5e9f\u8bdd\u5c31\u4e0d\u591a\u8bf4\u4e86\uff0c\u6211\u4eec\u5f00\u59cb\u5427\u3002"),(0,p.kt)("h3",{id:"\u73af\u5883\u914d\u7f6e"},"\u73af\u5883\u914d\u7f6e"),(0,p.kt)("p",null,"\u4ecd\u7136\u662f\u90a3\u4e00\u53f0\u4f4e\u914d\u7f6e\u963f\u91cc\u4e91\u670d\u52a1\u5668\u3002"),(0,p.kt)("p",null,"\u4e2d\u592e\u5904\u7406\u5668\uff1a1\u68382G\n\u786c\u76d8\uff1a40GSSD\n\u7cfb\u7edf\uff1aUbuntu16.04\n\u8fdc\u7a0b\u8fde\u63a5\u5de5\u5177\uff1aMobaXterm"),(0,p.kt)("h3",{id:"\u8f6f\u4ef6\u51c6\u5907"},"\u8f6f\u4ef6\u51c6\u5907"),(0,p.kt)("p",null,"\u8fdc\u7a0b\u8fde\u63a5\u5de5\u5177\uff1aMobaXterm\n\u672c\u5730\u4e3b\u673aIDE\uff1aVScode\u3001Notepad++"),(0,p.kt)("p",null,"\u51c6\u5907\u4e00\u4e2aPlatON\u5f00\u53d1\u7f51\u7edc\u7684\u8d26\u53f7\uff0c\u5e76\u4e14\u5411",(0,p.kt)("a",{parentName:"p",href:"https://faucet.platon.network/faucet/"},"\u6c34\u9f99\u5934"),"\u7533\u8bf7\u6d4b\u8bd5LAT\uff0c\u6211\u8fd9\u8fb9\u7684\u6d4b\u8bd5\u8d26\u53f7\u662f ",(0,p.kt)("inlineCode",{parentName:"p"},"lat1ex4ue95ap7tjcrxqnfjp8j479nn0927vuug2l7")," "),(0,p.kt)("h3",{id:"\u7f16\u7801\u51c6\u5907"},"\u7f16\u7801\u51c6\u5907"),(0,p.kt)("p",null,"\u7531\u4e8ePRC721\u517c\u5bb9ERC721\uff0c\u56e0\u6b64\u672c\u6559\u7a0b\u7f16\u7801\u4f7f\u7528\u5f00\u6e90\u7684 OpenZeppelin \u6e90\u7801\uff0c\u5e76\u4ece\u4e2d\u5265\u79bb\u51fa\u6211\u4eec\u9700\u8981\u7684\u6e90\u6587\u4ef6\u3002\u5177\u4f53\u9700\u8981\u7684\u6587\u4ef6\u5982\u4e0b\u56fe\u6240\u793a\uff1a"),(0,p.kt)("p",null,(0,p.kt)("img",{parentName:"p",src:"https://forum.latticex.foundation/uploads/default/original/2X/2/290291103364aca66ae9f74e98261ef3d8498cda.png",alt:"image|690x388"})," "),(0,p.kt)("p",null,"\u6211\u7684\u6587\u4ef6\u6811\u5982\u4e0b\u56fe\u6240\u793a\uff1a"),(0,p.kt)("p",null,(0,p.kt)("img",{parentName:"p",src:"https://forum.latticex.foundation/uploads/default/original/2X/2/2f4f70d875368920a5a15c9efc7ccd18f0b054ec.png",alt:"image|257x328"})," "),(0,p.kt)("p",null,"\u7136\u540e\u6709\u4e9b\u5730\u65b9\u9700\u8981\u4fee\u6539\uff0c\u62ff\u5176\u4e2d\u7684 ERC721Full.sol \u4f5c\u4e3a\u8bf4\u660e\u793a\u4f8b\uff0c\u793a\u4f8b\u8bf7\u770b\u4e2d\u6587\u6ce8\u91ca\uff0c\u8fd9\u4e9b\u7f16\u7801\u8fc7\u7a0b\u90fd\u5728\u672c\u5730\u4e3b\u673a\u7684VScode\u4e2d\u5b8c\u6210\uff1a"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre"},'pragma solidity 0.5.17; //\u8fd9\u91cc\u9700\u8981\u4fee\u6539\u4e3aPlatON\u652f\u6301\u7684 solidity \u7248\u672c\uff0c\u4f8b\u5982 0.5.17\uff0c0.6.12\uff0c0.7.6\uff0c0.8.2\n\n/*\u6b64\u5904\u7684 import \u6307\u4ee4\u9700\u8981\u505a\u597d\u6587\u4ef6\u4ee3\u7801\u7684\u5f15\u7528\u8def\u5f84\u4fee\u6539*/\nimport "./ERC721.sol";\nimport "./ERC721Enumberable.sol";\nimport "./ERC721Metadata.sol";\n\n/**\n * @title Full ERC721 Token\n * @dev This implementation includes all the required and some optional functionality of the ERC721 standard\n * Moreover, it includes approve all functionality using operator terminology.\n *\n * See https://eips.ethereum.org/EIPS/eip-721\n */\ncontract ERC721Full is ERC721, ERC721Enumerable, ERC721Metadata {\n    constructor (string memory name, string memory symbol) public ERC721Metadata(name, symbol) {\n        // solhint-disable-previous-line no-empty-blocks\n    }\n}\n\nfunction awardItem(address recipient, string memory hash, string memory metadata)  \n      public  \n      returns (uint256){  \n\n      require(hashes[hash] != 1);  \n      hashes[hash] = 1;  \n     _tokenIds.increment();  \n      uint256 newItemId =_tokenIds.current();  \n     _mint(recipient, newItemId);  \n     _setTokenURI(newItemId, metadata);  \n      return newItemId;  \n\n    }  \n')),(0,p.kt)("p",null,"\u597d\u5566\uff0c\u4e4b\u540e\u7684\u6240\u6709 .sol \u6587\u4ef6\u90fd\u8bf7\u6ce8\u610f\u8fd9\u4e24\u70b9\uff0c\u7136\u540e\u4f9d\u7167\u8111\u56fe\u548c\u6587\u4ef6\u76ee\u5f55\u6811\u7684\u5e03\u7f6e\uff0c\u6211\u5df2\u7ecf\u628a\u4ee3\u7801\u51c6\u5907\u597d\u4e86\u3002"),(0,p.kt)("p",null,"\u73b0\u5728\u6765\u5199\u4e00\u4e2a\u5b9e\u4f8b\uff0c\u7528\u4ee5\u5b9e\u4f8b\u5316\u8be5\u5408\u7ea6\u3010\u4e5f\u5c31\u662f\u76ee\u5f55\u6811\u4e2d\u7684 NFT_example.sol \u3011\uff0c\u4ee3\u7801\u5982\u4e0b\uff1a"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre"},'pragma solidity 0.5.17;\n\nimport "./ERC721/ERC721Full.sol";\nimport "./ERC721/ERC721Pausable.sol";\nimport "./ERC721/ERC721Mintable.sol";\nimport "./ERC721/ERC721MetadataMintable.sol";\nimport "./ownship/Ownable.sol";\n\ncontract NFT_example is ERC721Full, ERC721Pausable, ERC721Mintable, ERC721MetadataMintable, Ownable {\n  using SafeMath for uint256;\n    constructor () public ERC721Full("\u4ee4\u724c\u540d\u79f0", "\u4ee4\u724c\u7f29\u5199") {}\n}\n\n')),(0,p.kt)("p",null,"\u8bf4\u660e\uff1a",(0,p.kt)("strong",{parentName:"p"},"\u4ee4\u724c\u540d\u79f0"),"\uff1a\u8bf7\u586b\u5199\u4f60\u60f3\u8981\u7684\u540d\u5b57\uff08\u5168\u79f0\uff09\uff1b",(0,p.kt)("strong",{parentName:"p"},"\u4ee4\u724c\u7f29\u5199"),"\uff1a\u8bf7\u586b\u5199\u5bf9\u5e94\u7684\u7f29\u5199\uff08\u7b80\u79f0\uff09"),(0,p.kt)("hr",null),(0,p.kt)("p",null,"\u8fd9\u4e9b\u51c6\u5907\u5de5\u4f5c\u90fd\u505a\u5b8c\u4e86\uff0c\u8ba9\u6211\u4eec\u5f00\u59cb\u5236\u4f5c\u53ed\uff01"),(0,p.kt)("h3",{id:"\u7f16\u8bd1nft_example-\u5408\u7ea6\u8fd9\u91cc\u662f\u963f\u91cc\u4e91\u670d\u52a1\u5668\u54e6"},"\u7f16\u8bd1NFT_example \u5408\u7ea6\u3010\u8fd9\u91cc\u662f\u963f\u91cc\u4e91\u670d\u52a1\u5668\u54e6\u3011"),(0,p.kt)("h4",{id:"step1-\u4e3a-nft_example-\u9879\u76ee\u65b0\u5efa\u76ee\u5f55"},"Step1. \u4e3a NFT_example \u9879\u76ee\u65b0\u5efa\u76ee\u5f55"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre"},"mkdir NFT_example && cd NFT_example\n")),(0,p.kt)("ul",null,(0,p.kt)("li",{parentName:"ul"},"\u4ee5\u4e0b\u547d\u4ee4\u5982\u679c\u6ca1\u6709\u7279\u6b8a\u8bf4\u660e\u90fd\u5728 NFT_example \u76ee\u5f55\u4e0b\u8fdb\u884c")),(0,p.kt)("h4",{id:"step2-\u4f7f\u7528-platon-truffle-\u521d\u59cb\u5316\u4e00\u4e2a\u5de5\u7a0b"},"Step2. \u4f7f\u7528 platon-truffle \u521d\u59cb\u5316\u4e00\u4e2a\u5de5\u7a0b"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre"},"platon-truffle init\n")),(0,p.kt)("p",null,"\u5728\u64cd\u4f5c\u5b8c\u6210\u4e4b\u540e\uff0c\u5c31\u4f1a\u51fa\u73b0\u5982\u4e0b\u9879\u76ee\u7ed3\u6784\uff1a"),(0,p.kt)("ul",null,(0,p.kt)("li",{parentName:"ul"},(0,p.kt)("strong",{parentName:"li"},"contracts")," \uff1a\u5408\u7ea6\u76ee\u5f55"),(0,p.kt)("li",{parentName:"ul"},(0,p.kt)("strong",{parentName:"li"},"migrations"),"\uff1a\u90e8\u7f72\u5408\u7ea6\u7684\u811a\u672c\u6587\u4ef6\u76ee\u5f55"),(0,p.kt)("li",{parentName:"ul"},(0,p.kt)("strong",{parentName:"li"},"test"),"\uff1a\u6d4b\u8bd5\u811a\u672c\u76ee\u5f55"),(0,p.kt)("li",{parentName:"ul"},(0,p.kt)("strong",{parentName:"li"},"truffle-config.js"),"\uff1aplaton-truffle \u914d\u7f6e\u6587\u4ef6")),(0,p.kt)("h4",{id:"step3-\u5c06\u4e4b\u524d\u7f16\u5199\u597d\u7684-nft_example-\u5168\u90e8\u5408\u7ea6\u653e\u81f3-nft_example-contracts\u76ee\u5f55\u4e0b\u505a\u597d\u6587\u4ef6\u76ee\u5f55\u5f52\u6863"},"Step3. \u5c06\u4e4b\u524d\u7f16\u5199\u597d\u7684 NFT_example \u5168\u90e8\u5408\u7ea6\u653e\u81f3 NFT_example /contracts/\u76ee\u5f55\u4e0b\uff0c\u505a\u597d\u6587\u4ef6\u76ee\u5f55\u5f52\u6863"),(0,p.kt)("h4",{id:"step4-\u4fee\u6539-platon-truffle-\u914d\u7f6e\u6587\u4ef6-truffle-configjs-\u9700\u8981\u4fee\u6539\u7684\u5730\u65b9\u5982\u4e0b\u6240\u793a"},"Step4. \u4fee\u6539 platon-truffle \u914d\u7f6e\u6587\u4ef6 truffle-config.js \uff0c\u9700\u8981\u4fee\u6539\u7684\u5730\u65b9\u5982\u4e0b\u6240\u793a\uff1a"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre"},'networks: {\n    development: {\n      host: "35.247.155.162",     // Localhost (default: none)\n      port: 6789,            // Standard Ethereum port (default: none)\n      network_id: "*",       // Any network (default: none)\n      from: "lat1ex4ue95ap7tjcrxqnfjp8j479nn0927vuug2l7",        // Account to send txs from (default: accounts[0])\n    },\n},\ncompilers: {\n    solc: {\n      version: "0.5.17",    // Fetch exact version from solc-bin (default: 0.6.12)\n      // docker: true,        // Use "0.5.1" you\'ve installed locally with docker (default: false)\n      settings: {          // See the solidity docs for advice about optimization and evmVersion\n        optimizer: {\n          enabled: true,\n          runs: 200\n        },\n      //  evmVersion: "byzantium"\n      }\n    }\n  }\n\n')),(0,p.kt)("h4",{id:"step5-\u7f16\u8bd1\u5408\u7ea6"},"Step5. \u7f16\u8bd1\u5408\u7ea6"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre"},"platon-truffle compile\n")),(0,p.kt)("p",null,"\u7f16\u8bd1\u5b8c\u6210\u4e4b\u540e\uff0c\u4f1a\u51fa\u73b0\u4e00\u4e2a ",(0,p.kt)("strong",{parentName:"p"},"build")," \u6587\u4ef6\u5939\uff0c\u91cc\u9762\u7684 ",(0,p.kt)("strong",{parentName:"p"},"contracts")," \u6587\u4ef6\u5939\u91cc\u9762\u5982\u4e0b\u56fe\u6240\u793a\uff1a"),(0,p.kt)("p",null,(0,p.kt)("img",{parentName:"p",src:"https://forum.latticex.foundation/uploads/default/original/2X/3/3b4e85d28ded7d407286a43a82f9bd1180254e23.png",alt:"image|251x500"})," "),(0,p.kt)("p",null,"\u3010\u7ea2\u8272\u6846\u51fa\u6765\u7684 json \u6587\u4ef6\u5f85\u4f1a\u6211\u4eec\u8981\u7528\u5230\u3011"),(0,p.kt)("h3",{id:"\u90e8\u7f72-nft_example-\u5408\u7ea6"},"\u90e8\u7f72 NFT_example \u5408\u7ea6"),(0,p.kt)("h4",{id:"step1-\u65b0\u589e\u5408\u7ea6\u90e8\u7f72\u811a\u672c\u6587\u4ef6"},"Step1. \u65b0\u589e\u5408\u7ea6\u90e8\u7f72\u811a\u672c\u6587\u4ef6"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre"},"cd migrations/ && touch 2_initial_migration.js\n")),(0,p.kt)("p",null,"\u5185\u5bb9\u5982\u4e0b\uff1a"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre"},'const NFT_example = artifacts.require("NFT_example"); //\u62ec\u53f7\u4e2d\u4e3a\u8fc1\u79fb\u5408\u7ea6\u7c7b\u540d\nmodule.exports = function(deployer) {\n    deployer.deploy(NFT_example); \n};  \n')),(0,p.kt)("h4",{id:"step2-\u89e3\u9501\u94b1\u5305\u8d26\u6237"},"Step2. \u89e3\u9501\u94b1\u5305\u8d26\u6237"),(0,p.kt)("p",null,"\u8fdb\u5165 platon-truffle \u63a7\u5236\u53f0"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre"},"platon-truffle console\n")),(0,p.kt)("p",null,"\u5bfc\u5165\u79c1\u94a5\uff08\u5982\u679c\u4e4b\u524d\u5df2\u7ecf\u5bfc\u5165\u8fc7\u4e86\u90a3\u4e48\u53ef\u4ee5\u8df3\u8fc7\u8fd9\u4e2a\u6b65\u9aa4\uff09"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre"},'web3.platon.personal.importRawKey("\u60a8\u7684\u94b1\u5305\u79c1\u94a5","\u60a8\u7684\u94b1\u5305\u5bc6\u7801");\n')),(0,p.kt)("p",null,"\u89e3\u9501\u94b1\u5305\u8d26\u6237"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre"}," web3.platon.personal.unlockAccount('\u60a8\u7684\u94b1\u5305\u5730\u5740','\u60a8\u7684\u94b1\u5305\u5bc6\u7801',999999);\n")),(0,p.kt)("p",null,"\u89e3\u9501\u6210\u529f\u5c06\u4f1a\u8fd4\u56de ",(0,p.kt)("inlineCode",{parentName:"p"},"true")),(0,p.kt)("h4",{id:"step3-\u90e8\u7f72\u5408\u7ea6"},"Step3. \u90e8\u7f72\u5408\u7ea6"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre"},"platon-truffle migrate\n")),(0,p.kt)("p",null,"\u90e8\u7f72\u6210\u529f\u540e\uff0c\u4f1a\u770b\u5230\u4e00\u6bb5\u4fe1\u606f\uff0c\u5176\u4e2d\u5305\u542b\u7740\u60a8\u7684\u5408\u7ea6\u5730\u5740 ",(0,p.kt)("inlineCode",{parentName:"p"},"contract address"),"\uff0c\u8fd9\u4e2a\u5730\u5740\u5185\u5bb9\u505a\u597d\u4fdd\u5b58\uff0c\u5f85\u4f1a\u8981\u7528\u3002"),(0,p.kt)("h3",{id:"\u8c03\u7528-nft_example-\u5408\u7ea6"},"\u8c03\u7528 NFT_example \u5408\u7ea6"),(0,p.kt)("h4",{id:"step1-\u8fdb\u5165-platon-truffle-\u63a7\u5236\u53f0"},"Step1. \u8fdb\u5165 platon-truffle \u63a7\u5236\u53f0"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre"},"platon-truffle console\n")),(0,p.kt)("h4",{id:"step2-\u6784\u5efa\u5408\u7ea6\u5bf9\u8c61"},"Step2. \u6784\u5efa\u5408\u7ea6\u5bf9\u8c61"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre"},'var abi = [{"inputs":[],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"approved","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"operator","type":"address"},{"indexed":false,"internalType":"bool","name":"approved","type":"bool"}],"name":"ApprovalForAll","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"account","type":"address"}],"name":"MinterAdded","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"account","type":"address"}],"name":"MinterRemoved","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"account","type":"address"}],"name":"Paused","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"account","type":"address"}],"name":"PauserAdded","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"account","type":"address"}],"name":"PauserRemoved","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"Transfer","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"account","type":"address"}],"name":"Unpaused","type":"event"},{"constant":false,"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"addMinter","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"addPauser","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"approve","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"internalType":"address","name":"owner","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"getApproved","outputs":[{"internalType":"address","name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"operator","type":"address"}],"name":"isApprovedForAll","outputs":[{"internalType":"bool","name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"isMinter","outputs":[{"internalType":"bool","name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"isOwner","outputs":[{"internalType":"bool","name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"isPauser","outputs":[{"internalType":"bool","name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"mint","outputs":[{"internalType":"bool","name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"string","name":"tokenURI","type":"string"}],"name":"mintWithTokenURI","outputs":[{"internalType":"bool","name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"ownerOf","outputs":[{"internalType":"address","name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[],"name":"pause","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"paused","outputs":[{"internalType":"bool","name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[],"name":"renounceMinter","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[],"name":"renounceOwnership","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[],"name":"renouncePauser","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"bytes","name":"_data","type":"bytes"}],"name":"safeMint","outputs":[{"internalType":"bool","name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"safeMint","outputs":[{"internalType":"bool","name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"safeTransferFrom","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"bytes","name":"_data","type":"bytes"}],"name":"safeTransferFrom","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"bool","name":"approved","type":"bool"}],"name":"setApprovalForAll","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"internalType":"bytes4","name":"interfaceId","type":"bytes4"}],"name":"supportsInterface","outputs":[{"internalType":"bool","name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"internalType":"uint256","name":"index","type":"uint256"}],"name":"tokenByIndex","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"uint256","name":"index","type":"uint256"}],"name":"tokenOfOwnerByIndex","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"tokenURI","outputs":[{"internalType":"string","name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"transferFrom","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[],"name":"unpause","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"}]; //\u53ef\u4ee5\u4eceHelloWorld/build/contracts/HelloWorld.json\u6587\u4ef6\u4e2d\u83b7\u53d6\u5230\n\nvar contractAddr = \'lat152f3ve4l6ly44k5v98e3lvfps6dfqeeshwpsht\';//\u90e8\u7f72\u5408\u7ea6\u65f6\u7684\u83b7\u53d6\u7684\u5730\u5740\nvar nftExample = new web3.platon.Contract(abi,contractAddr);\n')),(0,p.kt)("p",null,"\u8fd9\u91cc\u8bf4\u4e00\u4e0b ",(0,p.kt)("inlineCode",{parentName:"p"},"abi")," \u4ece\u54ea\u91cc\u6765\uff0c\u8fd8\u8bb0\u5f97\u4e4b\u524d\u6211\u7528\u7ea2\u6846\u5708\u51fa\u6765\u7684 NFT_example.json \u5417\uff1f abi\u6587\u4ef6\u5c31\u5728\u91cc\u9762\u3002"),(0,p.kt)("h4",{id:"step3-\u8c03\u7528\u5408\u7ea6"},"Step3. \u8c03\u7528\u5408\u7ea6"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre"},"nftExample.methods.mintWithTokenURI(\"\u60a8\u7684\u6d4b\u8bd5\u94b1\u5305\u5730\u5740\",1,'ipfs\u7684uri').send({from: '\u60a8\u7684\u6d4b\u8bd5\u94b1\u5305\u5730\u5740',gasPrice: '0x' + parseInt(80000000000).toString(16), gas: '0x' + parseInt(4999999).toString(16), value: '0x' + (0).toString(16)}).on('receipt', function(receipt) {console.log(receipt);}).on('error', console.error);\n")),(0,p.kt)("p",null,"\u8fd9\u91cc\u505a\u4e2a\u8bf4\u660e\uff0c\u5176\u4e2d\u7b2c\u4e8c\u4e2a\u53c2\u6570 ",(0,p.kt)("inlineCode",{parentName:"p"},"1")," \u8868\u793a\u8fd9\u4e2a\u4ee4\u724c\u7f16\u53f7\u662f 1 \uff0c\u540e\u9762\u7684 ",(0,p.kt)("inlineCode",{parentName:"p"},"ipfs\u7684uri")," \u53ef\u4ee5\u53c2\u8003\u672c\u8d34",(0,p.kt)("a",{parentName:"p",href:"https://devdocs.platon.network/docs/zh-CN/PRC721_contract#%E4%B8%8A%E4%BC%A0metadata%E5%88%B0ipfs%E7%BD%91%E7%BB%9C"},"\u300a\u4e0a\u4f20Matedata\u5230IPFS\u7f51\u7edc\u300b")),(0,p.kt)("p",null,"\u7efc\u4e0a\u6240\u8ff0\uff0c\u4e00\u6b65\u6b65\u8d70\u4e0b\u6765\uff0c\u4f60\u5c31\u80fd\u62e5\u6709\u4e00\u4e2a\u5c5e\u4e8e\u81ea\u5df1\u7684\u5f00\u53d1\u7f51 NFT \u5566\uff0c\u81f3\u4e8e\u5982\u4f55\u5728\u4e3b\u7f51\u4e0a\u7ebf\uff0c\u4f60\u53ea\u9700\u8981\u627e\u5230\u4e00\u4e2a\u8282\u70b9\u6216\u8005\u81ea\u5df1\u90e8\u7f72\u4e00\u4e2a\u4e3b\u7f51\u8282\u70b9\uff0c\u7136\u540e\u628a truffle-config.js \u7684host\u4fee\u6539\u6210\u5bf9\u5e94\u7684ip\u5c31\u53ef\u4ee5\u5566\u3002"),(0,p.kt)("p",null,"\u672c\u6559\u7a0b\u8d21\u732e\u8005 @",(0,p.kt)("a",{parentName:"p",href:"https://github.com/LeQianQian"},"\u4e50\u6d45\u6d45")))}y.isMDXComponent=!0}}]);