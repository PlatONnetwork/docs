<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.3">
<link rel="search" type="application/opensearchdescription+xml" title="PlatON" href="/docs/opensearch.xml">
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML"></script>
<script src="https://cdn.jsdelivr.net/npm/mermaid@8.4.0/dist/mermaid.min.js"></script>
<script src="/docs/js/custom.js"></script><title data-react-helmet="true">PlaTrust Wallet js-sdk-API | PlatON</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://luo-dahui.github.io//docs/PlaTrust-wallet-js-sdk-api"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="PlaTrust Wallet js-sdk-API | PlatON"><meta data-react-helmet="true" name="description" content="1. Enumerations (enum)"><meta data-react-helmet="true" property="og:description" content="1. Enumerations (enum)"><meta data-react-helmet="true" property="og:image" content="https://luo-dahui.github.io//docs/img/undraw_online.svg"><meta data-react-helmet="true" name="twitter:image" content="https://luo-dahui.github.io//docs/img/undraw_online.svg"><link data-react-helmet="true" rel="shortcut icon" href="/docs/img/logo.png"><link data-react-helmet="true" rel="canonical" href="https://luo-dahui.github.io//docs/PlaTrust-wallet-js-sdk-api"><link data-react-helmet="true" rel="alternate" href="https://luo-dahui.github.io//docs/PlaTrust-wallet-js-sdk-api" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://luo-dahui.github.io//docs/zh-CN/PlaTrust-wallet-js-sdk-api" hreflang="zh-CN"><link data-react-helmet="true" rel="alternate" href="https://luo-dahui.github.io//docs/PlaTrust-wallet-js-sdk-api" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/docs/assets/css/styles.8127251d.css">
<link rel="preload" href="/docs/assets/js/runtime~main.86ddb8e0.js" as="script">
<link rel="preload" href="/docs/assets/js/main.f09feca8.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_OuoZ">Skip to main content</a></div><nav class="navbar navbar--fixed-top navbar--dark"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/docs/"><img src="/docs/img/PlatON-logo.svg" alt="PlatON" class="themedImage_TMUO themedImage--light_4Vu1 navbar__logo"><img src="/docs/img/PlatON-logo.svg" alt="PlatON" class="themedImage_TMUO themedImage--dark_uzRr navbar__logo"></a></div><div class="navbar__items navbar__items--right"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" class="navbar__item navbar__link"><span>English</span></a><ul class="dropdown__menu"><li><a href="/docs/PlaTrust-wallet-js-sdk-api" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" style="text-transform:capitalize">English</a></li><li><a href="/docs/PlaTrust-wallet-js-sdk-api" target="_self" rel="noopener noreferrer" class="dropdown__link" style="text-transform:capitalize">中文</a></li></ul></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/docs/"><img src="/docs/img/PlatON-logo.svg" alt="PlatON" class="themedImage_TMUO themedImage--light_4Vu1 navbar__logo"><img src="/docs/img/PlatON-logo.svg" alt="PlatON" class="themedImage_TMUO themedImage--dark_uzRr navbar__logo"></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a href="#" role="button" class="menu__link menu__link--sublist"><span>Languages</span></a><ul class="menu__list"><li class="menu__list-item"><a href="/docs/PlaTrust-wallet-js-sdk-api" target="_self" rel="noopener noreferrer" class="menu__link dropdown__link--active" style="text-transform:capitalize">English</a></li><li class="menu__list-item"><a href="/docs/PlaTrust-wallet-js-sdk-api" target="_self" rel="noopener noreferrer" class="menu__link" style="text-transform:capitalize">中文</a></li></ul></li></ul></div></div></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_lDyR"><aside class="docSidebarContainer_0YBq"><div class="sidebar_a3j0"><nav class="menu menu--responsive thin-scrollbar menu_cyFh menuWithAnnouncementBar_+O1J" aria-label="Sidebar navigation"><button aria-label="Open menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg class="sidebarMenuIcon_iZzd" width="24" height="24" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/">Overview</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Basics</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/lat_introduced">Intro to LAT</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/staking_and_delegation">Staking&amp;Delegation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/Network_Description">Networks</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Advanced</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/PlatON_Overall_Solution">Architecture</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/Economic_Model">Economic model</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/PlatON_Solution">PlatON Consensus Solution</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/PlatON_Governance_Solution">Governance mechanism</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/Wasm_Operation_Principle">WebAssembly(Wasm)</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">PlatON Node</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/PlatON_Validation_Introduce">Intro to validator</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/Become_PlatON_Main_Verification">Run a validator node</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="-1">Tools for nodes</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/OnLine_MTool_Manual">MTool online tutorial</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/OffLine_MTool_Manual">MTool offline tutorial</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/Command_Line_Tools">Command line tools</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/CTool_Manual">CTool tutorial</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Developers</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/PlatON_Overview_DevGuide">Development guide</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="-1">Set up local environment</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/Join_Dev_Network">Dev Network</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/Build_Private_Chain">Private Network</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="-1">Smart contract</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="-1">System contract</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/PlatON_system_contract">System contracts</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/PlatON_system_contract_api">System contract api</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="-1">Solidity contract</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/Solidity_Dev_Manual">Getting started</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/Solidity_Contract_Migrate">Migration tutorial</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/Solidity_Contract_Dev_Costs">Development costs</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/Solidity_Contract_Best_Practice">Best practices</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/Solidity_Contract_Security_Dev_Guide">Contract security</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/Solidity_Inner_Contract">Call Inner Contract</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="-1">Wasm contract</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/Wasm_Dev_Manual">Getting started</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/Wasm_Contract_Dev_Costs">Development Costs</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/Wasm_Contract_Best_Practice">Best practices</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/Wasm_Contract_API">Wasm API</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="-1">References</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/Python_SDK">Python SDK</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/JS_SDK">JS SDK</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/Java_SDK">Java SDK</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/Go_SDK">Go SDK</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/NET_SDK">.NET SDK</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/Json_Rpc">JSON-RPC</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/GraphQL_Server">GraphQL Server</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/Explorer_API">Explorer API</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/Samurai_API">Samurai API</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="-1">PRC Token</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/PRC20_contract">PRC-20</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/PRC721_contract">PRC-721</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Data and analytics</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/PlatON_BlockChain_Browser">PlatScan</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/PlatEye">PlatEye</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Tutorials</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/DApp_migrate">DApp Quick Migration Tutorial</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/qianqian_prc721_tutorial">PRC721 NFT Release Tutorial</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="-1">WASM Tutorials</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/WASM_Contract_1">WASM—Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/WASM_Contract_2">WASM—Cross contracts Interaction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/WASM_Contract_3">WASM—Contract Event</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/WASM_Contract_4">WASM—Parameters</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/WASM_Contract_5">WASM—Proxy</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/WASM_Contract_6">WASM—Proxy Event</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/WASM_Contract_7">WASM—General Proxy</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/WASM_Contract_8">WASM—Build-in Type</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/WASM_Contract_9">WASM—Build-in Type Performance Test</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="-1">WalletConnect</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/walletconnect_tutorial">WalletConnect</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/DApp_integration_with_WalletConnect_for_ATON">WalletConnect integration Tutorial</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/get_vrf_random_number">Get a Random Number</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/eip55-bech32-compatible">EIP55 and Bech32 address</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Wallet</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/ATON-user-manual">ATON Wallet User Manual</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Samurai_user_manual">Samurai</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Third_Party_Walle">Third-party wallets</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Ledger-hardware-wallet">Ledger hardware wallet</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/MetaMask">MetaMask</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/PlatON_wallet_plugin">PlatON wallet plugin</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/PlatON_wallet_plugin_sdk">PlatON wallet plugin SDK</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#" tabindex="0">PlaTrust Wallet</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/PlaTrust_Wallet">PlaTrust Wallet</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/PlaTrust-wallet-js-sdk">PlaTrust Wallet js-sdk</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/PlaTrust-wallet-js-sdk-api">PlaTrust Wallet js-sdk-API</a></li></ul></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/docs/community">Community Projects</a></li></ul></nav></div></aside><main class="docMainContainer_r8cw"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_zHA2"><div class="docItemContainer_oiyr"><article><div class="markdown"><header><h1 class="h1Heading_dC7a">PlaTrust Wallet js-sdk-API</h1></header><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="1-enumerations-enum"></a>1. Enumerations (enum)<a class="hash-link" href="#1-enumerations-enum" title="Direct link to heading">#</a></h2><ol><li><strong>Operation:</strong> Transaction call methods</li></ol><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token constant" style="color:rgb(130, 170, 255)">CALL</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name">Cross</span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token plain">contract call</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token literal-property property">DElEGATECALL</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name">Cross</span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token plain">contract delegatecall</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><ol start="2"><li><strong>SignatureMode:</strong> Signature composition modes</li></ol><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token literal-property property">guardians</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name">Multi</span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token plain">signature must be wallet&#x27;s guardian members</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token literal-property property">owner</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name">Multi</span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token plain">signature must be wallet&#x27;s owner members</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token literal-property property">session</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name">Single</span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token plain">signature under session mode without multi</span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token plain">signature</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="2-classes-class"></a>2. Classes (class)<a class="hash-link" href="#2-classes-class" title="Direct link to heading">#</a></h2><ol><li><strong>WalletLib:</strong> Wallet base library</li><li><strong>Bundler:</strong> Bundler RPC library</li><li><strong>Paymaster:</strong> Paymaster operation library</li><li><strong>UserOperation:</strong> Encapsulation of user operations structure</li><li><strong>Callbase:</strong> Base class for assembling wallet function calls in UserOperation</li><li><strong>ERC20:</strong> UserOperation entry for assembling ERC20 related function calls (Depends on Callbase class)</li><li><strong>ERC721:</strong> UserOperation entry for assembling ERC721 related function calls (Depends on Callbase class)</li><li><strong>ERC1155:</strong> UserOperation entry for assembling ERC1155 related function calls (Depends on Callbase class)</li><li><strong>LAT:</strong> UserOperation entry for assembling LAT transfer related function calls (Depends on Callbase class)</li></ol><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="3-interfaces-interface"></a>3. Interfaces (interface)<a class="hash-link" href="#3-interfaces-interface" title="Direct link to heading">#</a></h2><ol><li><strong>ApproveToken:</strong> Encapsulation of ERC20 approve parameters</li><li><strong>ExecutionResult:</strong> Encapsulation of transaction normal execution results</li><li><strong>ValidationResult:</strong> Definition of the execution verification userOp result according to EIP-4337</li><li><strong>FailedOp:</strong> Exception information</li><li><strong>Result:</strong> Wrapper information for ExecutionResult, ValidationResult, and FailedOp</li><li><strong>StakeInfo:</strong> Staking information</li><li><strong>ReturnInfo:</strong> Gas and content returned when simulating a transaction</li><li><strong>EstimateUserOpGas:</strong> Estimation result of userOp gas</li><li><strong>ParsedTransaction:</strong> Encapsulation of transaction receipt</li><li><strong>UserOperationReceipt:</strong> Execution receipt information of userOp</li><li><strong>Logs:</strong> Encapsulation of transaction receipt logs</li></ol><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="4-global-functions"></a>4. Global Functions<a class="hash-link" href="#4-global-functions" title="Direct link to heading">#</a></h2><ol><li><strong>encodeSignature:</strong> Encodes the signature information of userOp.<blockquote></blockquote></li></ol><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">encodeSignature</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">signatureMode</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> signature</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> validAfter</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> validUntil</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> aggregator</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> string</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><blockquote><p>Input Parameters:</p><table><thead><tr><th>Field Name</th><th>Type</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>signatureMode</td><td>BigNumber</td><td>Signature mode, 0: owner; 1: guardians; 2: session</td><td>Y</td></tr><tr><td>signature</td><td>string</td><td>Hexadecimal signature information</td><td>Y</td></tr><tr><td>aggregator</td><td>string</td><td>Aggregator address for aggregate signatures (optional)</td><td>N</td></tr><tr><td>validAfter</td><td>BigNumber</td><td>Signature&#x27;s valid-after timestamp (optional)</td><td>N</td></tr><tr><td>validUntil</td><td>BigNumber</td><td>Signature&#x27;s valid-until timestamp (optional)</td><td>N</td></tr></tbody></table><p>Return Parameters:</p><table><thead><tr><th>Field Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>packedSignature</td><td>string</td><td>Signature information of userOp</td></tr></tbody></table><ol start="2"><li><strong>decodeSignature:</strong> Decodes the signature information of userOp.</li></ol><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">decodeSignature</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">packedSignature</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(255, 203, 107)">Object</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Input Parameters:</p><table><thead><tr><th>Field Name</th><th>Type</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>packedSignature</td><td>string</td><td>Signature information of userOp</td><td>Y</td></tr></tbody></table><p>Return Parameters:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> </span><span class="token maybe-class-name">Field</span><span class="token plain"> </span><span class="token maybe-class-name">Name</span><span class="token plain">    </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> </span><span class="token maybe-class-name">Type</span><span class="token plain">      </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> </span><span class="token maybe-class-name">Description</span><span class="token plain">                                        </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">--</span><span class="token operator" style="color:rgb(137, 221, 255)">--</span><span class="token operator" style="color:rgb(137, 221, 255)">--</span><span class="token operator" style="color:rgb(137, 221, 255)">--</span><span class="token operator" style="color:rgb(137, 221, 255)">--</span><span class="token operator" style="color:rgb(137, 221, 255)">--</span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">--</span><span class="token operator" style="color:rgb(137, 221, 255)">--</span><span class="token operator" style="color:rgb(137, 221, 255)">--</span><span class="token operator" style="color:rgb(137, 221, 255)">--</span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">--</span><span class="token operator" style="color:rgb(137, 221, 255)">--</span><span class="token operator" style="color:rgb(137, 221, 255)">--</span><span class="token operator" style="color:rgb(137, 221, 255)">--</span><span class="token operator" style="color:rgb(137, 221, 255)">--</span><span class="token operator" style="color:rgb(137, 221, 255)">--</span><span class="token operator" style="color:rgb(137, 221, 255)">--</span><span class="token operator" style="color:rgb(137, 221, 255)">--</span><span class="token operator" style="color:rgb(137, 221, 255)">--</span><span class="token operator" style="color:rgb(137, 221, 255)">--</span><span class="token operator" style="color:rgb(137, 221, 255)">--</span><span class="token operator" style="color:rgb(137, 221, 255)">--</span><span class="token operator" style="color:rgb(137, 221, 255)">--</span><span class="token operator" style="color:rgb(137, 221, 255)">--</span><span class="token operator" style="color:rgb(137, 221, 255)">--</span><span class="token operator" style="color:rgb(137, 221, 255)">--</span><span class="token operator" style="color:rgb(137, 221, 255)">--</span><span class="token operator" style="color:rgb(137, 221, 255)">--</span><span class="token operator" style="color:rgb(137, 221, 255)">--</span><span class="token operator" style="color:rgb(137, 221, 255)">--</span><span class="token operator" style="color:rgb(137, 221, 255)">--</span><span class="token operator" style="color:rgb(137, 221, 255)">--</span><span class="token operator" style="color:rgb(137, 221, 255)">--</span><span class="token operator" style="color:rgb(137, 221, 255)">--</span><span class="token operator" style="color:rgb(137, 221, 255)">--</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> signatureMode </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> </span><span class="token maybe-class-name">BigNumber</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> </span><span class="token maybe-class-name">Signature</span><span class="token plain"> mode</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> owner</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> guardians</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> session </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> signature     </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> string    </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> </span><span class="token maybe-class-name">Hexadecimal</span><span class="token plain"> signature information                  </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> aggregator    </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> string    </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> </span><span class="token maybe-class-name">Aggregator</span><span class="token plain"> address </span><span class="token keyword control-flow" style="font-style:italic">for</span><span class="token plain"> aggregate signatures        </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> validAfter    </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> </span><span class="token maybe-class-name">BigNumber</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> </span><span class="token maybe-class-name">Signature</span><span class="token plain">&#x27;s valid</span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token plain">after timestamp                  </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> validUntil    </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> </span><span class="token maybe-class-name">BigNumber</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> </span><span class="token maybe-class-name">Signature</span><span class="token plain">&#x27;s valid</span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token plain">until timestamp                  </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><ol start="3"><li><strong>packSignatureHash:</strong> Computes the signature information of a data hash.</li></ol><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">packSignatureHash</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">hash</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> signatureMode</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> validAfter</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> validUntil</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> aggregator</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> string</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Input Parameters:</p><table><thead><tr><th>Field Name</th><th>Type</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>hash</td><td>string</td><td>Data hash to be signed</td><td>Y</td></tr><tr><td>signatureMode</td><td>BigNumber</td><td>Signature mode, 0: owner; 1: guardians; 2: session</td><td>N</td></tr><tr><td>aggregator</td><td>string</td><td>Aggregator address for aggregate signatures (optional)</td><td>N</td></tr><tr><td>validAfter</td><td>BigNumber</td><td>Signature&#x27;s valid-after timestamp (optional)</td><td>N</td></tr><tr><td>validUntil</td><td>BigNumber</td><td>Signature&#x27;s valid-until timestamp (optional)</td><td>N</td></tr></tbody></table><p>Return Parameters:</p><table><thead><tr><th>Field Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>_hash</td><td>string</td><td>keccak256(abi.encodePacked(hash,signatureMode,aggregator&amp;validAfter&amp;validUntil))</td></tr></tbody></table><ol start="4"><li><strong>recoverAddress:</strong> Resolves the signer&#x27;s account address.</li></ol><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">recoverAddress</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">msg</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> signature</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> string</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Input Parameters:</p><table><thead><tr><th>Field Name</th><th>Type</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>msg</td><td>string</td><td>Data used for signing</td><td>Y</td></tr><tr><td>signature</td><td>string</td><td>Signature information</td><td>Y</td></tr></tbody></table><p>Return Parameters:</p><table><thead><tr><th>Field Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>-</td><td>string</td><td>Signer&#x27;s account address</td></tr></tbody></table><ol start="5"><li><strong>signMessage:</strong> Signs a message using a private key.</li></ol><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">signMessage</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">msg</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> privateKey</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> string</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Input Parameters:</p><table><thead><tr><th>Field Name</th><th>Type</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>msg</td><td>string</td><td>Message to be signed</td><td>Y</td></tr><tr><td>privateKey</td><td>string</td><td>Private key</td><td>Y</td></tr></tbody></table><p>Return Parameters:</p><table><thead><tr><th>Field Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>-</td><td>string</td><td>Signature</td></tr></tbody></table><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="5-walletlib-external-functions"></a>5. WalletLib External Functions<a class="hash-link" href="#5-walletlib-external-functions" title="Direct link to heading">#</a></h2></blockquote><ol><li><strong>Constructor</strong><blockquote></blockquote></li></ol><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">WalletLib</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">singletonFactory</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><blockquote><p>Input:</p><table><thead><tr><th>Field Name</th><th>Type</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>singletonFactory</td><td>string</td><td>Wallet factory contract address</td><td>No</td></tr></tbody></table><p>Output:</p><p>WalletLib</p><ol start="2"><li><strong>singletonFactory</strong> Get the wallet&#x27;s factory contract address</li></ol><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">singletonFactory</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> string</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Input:</p><p>None</p><p>Output:</p><table><thead><tr><th>Field Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>-</td><td>string</td><td>Wallet factory contract address</td></tr></tbody></table><ol start="3"><li><strong>getInitCode</strong> Get the wallet&#x27;s initCode</li></ol><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">getInitCode</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">walletFactory</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> walletLogic</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> initializer</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> salt</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> string</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Input:</p><table><thead><tr><th>Field Name</th><th>Type</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>walletFactory</td><td>string</td><td>Wallet factory contract address</td><td>Yes</td></tr><tr><td>walletLogic</td><td>string</td><td>Wallet logic contract address</td><td>Yes</td></tr><tr><td>initializer</td><td>string</td><td>Wallet initialization encoding (setUp function encoding)</td><td>Yes</td></tr><tr><td>salt</td><td>string</td><td>Salt (controls create2-generated wallet address)</td><td>Yes</td></tr></tbody></table><p>Output:</p><table><thead><tr><th>Field Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>-</td><td>string</td><td>Wallet&#x27;s initCode</td></tr></tbody></table><ol start="4"><li><strong>getNonce</strong> Get the wallet&#x27;s nonce value</li></ol><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">getNonce</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">walletAddress</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> etherProvider</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> defaultBlock</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(255, 203, 107)">Promise</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">number</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Input:</p><table><thead><tr><th>Field Name</th><th>Type</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>walletAddress</td><td>string</td><td>Wallet contract address</td><td>Yes</td></tr><tr><td>etherProvider</td><td>ethers.providers.BaseProvider</td><td>ethers.js provider (e.g., ethers.provider)</td><td>Yes</td></tr><tr><td>defaultBlock</td><td>string</td><td>earliest, latest, pending, default: latest</td><td>No</td></tr></tbody></table><p>Output:</p><table><thead><tr><th>Field Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>-</td><td>number</td><td>Wallet&#x27;s nonce value</td></tr></tbody></table><ol start="5"><li><strong>getPaymasterData</strong> Get the paymaster call information for assembling userOp</li></ol><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">getPaymasterData</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">payMasterAddress</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> token</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> maxCost</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> string</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Input:</p><table><thead><tr><th>Field Name</th><th>Type</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>payMasterAddress</td><td>string</td><td>Paymaster address</td><td>Yes</td></tr><tr><td>token</td><td>string</td><td>Paymaster&#x27;s accepted token address</td><td>Yes</td></tr><tr><td>maxCost</td><td>BigNumber</td><td>Maximum cost</td><td>Yes</td></tr></tbody></table><p>Output:</p><table><thead><tr><th>Field Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>-</td><td>number</td><td>Paymaster call information</td></tr></tbody></table><ol start="6"><li><strong>getSetupCode</strong> Get the setup call encoding for the wallet instance</li></ol><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">getSetupCode</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">entryPoint</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> owners</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> threshold</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> to</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> data</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> fallbackHandler</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> lockPeriod</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> string</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Input:</p><table><thead><tr><th>Field Name</th><th>Type</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>entryPoint</td><td>string</td><td>EntryPoint contract address</td><td>Yes</td></tr><tr><td>owners</td><td>string[]</td><td>Multiple owners of the wallet, at least one is required</td><td>Yes</td></tr><tr><td>threshold</td><td>BigNumber</td><td>Multisig threshold of the wallet owners</td><td>Yes</td></tr><tr><td>to</td><td>string</td><td>&#x27;to&#x27; parameter for the module call in the wallet</td><td>Yes</td></tr><tr><td>data</td><td>string</td><td>&#x27;calldata&#x27; information for the module call in the wallet (in hexadecimal)</td><td>Yes</td></tr><tr><td>fallbackHandler</td><td>string</td><td>Wallet&#x27;s fallback handler contract address</td><td>Yes</td></tr><tr><td>lockPeriod</td><td>BigNumber</td><td>Wallet&#x27;s lock duration, [recommended to be 1 week] (unit: ms)</td><td>Yes</td></tr></tbody></table><p>Output:</p><table><thead><tr><th>Field Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>-</td><td>string</td><td>Setup call encoding</td></tr></tbody></table><ol start="7"><li><strong>getWalletCode</strong> Get the wallet&#x27;s deployment encoding</li></ol><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">getWalletCode</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">walletLogicAddress</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> walletProxyConfig</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> string</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Input:</p><table><thead><tr><th>Field Name</th><th>Type</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>walletLogicAddress</td><td>string</td><td>Wallet logic contract address</td><td>Yes</td></tr><tr><td>walletProxyConfig</td><td>struct</td><td>Proxy configuration (including proxy&#x27;s ABI and proxy&#x27;s bytecode)</td><td>No</td></tr></tbody></table><p>Output:</p><table><thead><tr><th>Field Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>-</td><td>string</td><td>Actual walletproxy encoding (includes the bytecode from walletProxyConfig)</td></tr></tbody></table><ol start="8"><li><strong>activateWalletOp</strong> Assemble userOp for deploying the wallet</li></ol><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">activateWalletOp</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">walletLogic</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> initializer</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> paymasterAndData</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> salt</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> walletFactory</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> maxFeePerGas</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> maxPriorityFeePerGas</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> callGasLimit</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> verificationGasLimit</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> preVerificationGas</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name">UserOperation</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Input:</p><table><thead><tr><th>Field Name</th><th>Type</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>walletLogic</td><td>string</td><td>Wallet logic contract address</td><td>Yes</td></tr><tr><td>initializer</td><td>string</td><td>Initialization function call encoding for the wallet</td><td>Yes</td></tr><tr><td>paymasterAndData</td><td>string</td><td>Paymaster call information</td><td>Yes</td></tr><tr><td>salt</td><td>string</td><td>Salt (controls create2-generated wallet address)</td><td>Yes</td></tr><tr><td>walletFactory</td><td>string</td><td>Wallet factory contract address</td><td>Yes</td></tr><tr><td>maxFeePerGas</td><td>number</td><td>Maximum fee per gas (similar to EIP-1559 max_fee_per_gas)</td><td>Yes</td></tr><tr><td>maxPriorityFeePerGas</td><td>number</td><td>Maximum priority fee per gas (similar to EIP-1559 max_priority_fee_per_gas)</td><td>Yes</td></tr><tr><td>callGasLimit</td><td>number</td><td>Gas allocated for the main execution call (calculated locally, executing callData&#x27;s gas)</td><td>Yes</td></tr><tr><td>verificationGasLimit</td><td>number</td><td>Gas allocated for the verification step (used in functions validateUserOp()/validatePaymasterUserOp())</td><td>Yes</td></tr><tr><td>preVerificationGas</td><td>number</td><td>Gas paid for compensating pre-verification execution and call data bundling (extra gas prepared to handle some routine logic gas consumption)</td><td>Yes</td></tr></tbody></table><p>Output:</p><table><thead><tr><th>Field Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>-</td><td>UserOperation</td><td>Assembled userOp</td></tr></tbody></table><ol start="9"><li><strong>calculateWalletAddress</strong> Calculate the wallet address (create2-generated address)</li></ol><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">calculateWalletAddress</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">walletLogic</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> initializer</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> salt</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> walletFactory</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> string</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Input:</p><table><thead><tr><th>Field Name</th><th>Type</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>walletLogic</td><td>string</td><td>Wallet logic contract address</td><td>Yes</td></tr><tr><td>initializer</td><td>string</td><td>Initialization function call encoding for the wallet</td><td>Yes</td></tr><tr><td>salt</td><td>string</td><td>Salt (controls create2-generated wallet address)</td><td>Yes</td></tr><tr><td>walletFactory</td><td>string</td><td>Wallet factory contract address</td><td>Yes</td></tr></tbody></table><p>Output:</p><table><thead><tr><th>Field Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>-</td><td>string</td><td>Wallet address</td></tr></tbody></table><ol start="10"><li><strong>addOwnerWithThresholdOp</strong> Add a wallet owner and update the multisig threshold</li></ol><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">addOwnerWithThresholdOp</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">walletAddress</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> etherProvider</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> owner</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> threshold</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> paymasterAndData</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> maxFeePerGas</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> maxPriorityFeePerGas</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> callGasLimit</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> verificationGasLimit</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> preVerificationGas</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(255, 203, 107)">Promise</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token maybe-class-name">UserOperation</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Input:</p><table><thead><tr><th>Field Name</th><th>Type</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>walletAddress</td><td>string</td><td>Wallet proxy contract address</td><td>Yes</td></tr><tr><td>etherProvider</td><td>ethers.providers.BaseProvider</td><td>ethers.js provider (e.g., ethers.provider)</td><td>Yes</td></tr><tr><td>owner</td><td>string</td><td>New wallet owner</td><td>Yes</td></tr><tr><td>threshold</td><td>number</td><td>Wallet multisig threshold</td><td>Yes</td></tr><tr><td>paymasterAndData</td><td>string</td><td>Paymaster contract address and data sent to paymaster, currently, the implementation of paymaster is not clear, if we use our own paymaster, this value is not required, fixed to 0x0</td><td>No</td></tr><tr><td>maxFeePerGas</td><td>number</td><td>Maximum fee per gas (similar to EIP-1559 max_fee_per_gas)</td><td>No</td></tr><tr><td>maxPriorityFeePerGas</td><td>number</td><td>Maximum priority fee per gas (similar to EIP-1559 max_priority_fee_per_gas)</td><td>No</td></tr><tr><td>callGasLimit</td><td>number</td><td>Gas allocated for the main execution call (calculated locally, executing callData&#x27;s gas)</td><td>No</td></tr><tr><td>verificationGasLimit</td><td>number</td><td>Gas allocated for the verification step (used in functions validateUserOp()/validatePaymasterUserOp())</td><td>No</td></tr><tr><td>preVerificationGas</td><td>number</td><td>Gas paid for compensating pre-verification execution and call data bundling (extra gas prepared to handle some routine logic gas consumption)</td><td>No</td></tr></tbody></table><p>Output:</p><table><thead><tr><th>Field Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>-</td><td>UserOperation</td><td>Assembled userOp</td></tr></tbody></table><ol start="11"><li><strong>changeThresholdOp</strong> Update the multisig threshold</li></ol><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">changeThresholdOp</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">walletAddress</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> etherProvider</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> threshold</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> paymasterAndData</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> maxFeePerGas</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> maxPriorityFeePerGas</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> callGasLimit</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> verificationGasLimit</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> preVerificationGas</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(255, 203, 107)">Promise</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token maybe-class-name">UserOperation</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Input:</p><table><thead><tr><th>Field Name</th><th>Type</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>walletAddress</td><td>string</td><td>Wallet proxy contract address</td><td>Yes</td></tr><tr><td>etherProvider</td><td>ethers.providers.BaseProvider</td><td>ethers.js provider (e.g., ethers.provider)</td><td>Yes</td></tr><tr><td>threshold</td><td>number</td><td>Wallet multisig threshold</td><td>Yes</td></tr><tr><td>paymasterAndData</td><td>string</td><td>Paymaster contract address and data sent to paymaster, currently, the implementation of paymaster is not clear, if we use our own paymaster, this value is not required, fixed to 0x0</td><td>No</td></tr><tr><td>maxFeePerGas</td><td>number</td><td>Maximum fee per gas (similar to EIP-1559 max_fee_per_gas)</td><td>No</td></tr><tr><td>maxPriorityFeePerGas</td><td>number</td><td>Maximum priority fee per gas (similar to EIP-1559 max_priority_fee_per_gas)</td><td>No</td></tr><tr><td>callGasLimit</td><td>number</td><td>Gas allocated for the main execution call (calculated locally, executing callData&#x27;s gas)</td><td>No</td></tr><tr><td>verificationGasLimit</td><td>number</td><td>Gas allocated for the verification step (used in functions validateUserOp()/validatePaymasterUserOp())</td><td>No</td></tr><tr><td>preVerificationGas</td><td>number</td><td>Gas paid for compensating pre-verification execution and call data bundling (extra gas prepared to handle some routine logic gas consumption)</td><td>No</td></tr></tbody></table><p>Output:</p><table><thead><tr><th>Field Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>-</td><td>UserOperation</td><td>Assembled userOp</td></tr></tbody></table><ol start="12"><li><strong>getThreshold</strong> - Get the threshold of the wallet&#x27;s multisig.</li></ol></blockquote><p>getThreshold(walletAddress, etherProvider): Promise<number></number></p><p>markdown
Copy code</p><blockquote><p>Input Parameters:</p><table><thead><tr><th>Field</th><th>Type</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>walletAddress</td><td>string</td><td>Wallet proxy contract address</td><td>Y</td></tr><tr><td>etherProvider</td><td>ethers.providers.BaseProvider</td><td>ethers.js provider, e.g., ethers.provider</td><td>Y</td></tr></tbody></table><p>Return Parameters:</p><table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>-</td><td>number</td><td>Multisig threshold</td></tr></tbody></table></blockquote><ol start="13"><li><strong>swapOwnerOp</strong> - Replace an owner of a wallet.<blockquote></blockquote></li></ol><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">swapOwnerOp</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">walletAddress</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> etherProvider</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> prevOwner</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> oldOwner</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> newOwner</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> paymasterAndData</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> maxFeePerGas</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> maxPriorityFeePerGas</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> callGasLimit</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> verificationGasLimit</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> preVerificationGas</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(255, 203, 107)">Promise</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token maybe-class-name">UserOperation</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><blockquote><p>Input Parameters:</p><table><thead><tr><th>Field</th><th>Type</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>walletAddress</td><td>string</td><td>Wallet proxy contract address</td><td>Y</td></tr><tr><td>etherProvider</td><td>ethers.providers.BaseProvider</td><td>ethers.js provider, e.g., ethers.provider</td><td>Y</td></tr><tr><td>prevOwner</td><td>string</td><td>Previous owner of the owner to be replaced</td><td>Y</td></tr><tr><td>oldOwner</td><td>string</td><td>Owner to be replaced</td><td>Y</td></tr><tr><td>newOwner</td><td>string</td><td>New owner</td><td>Y</td></tr><tr><td>paymasterAndData</td><td>string</td><td>Paymaster contract address and data to send to it (currently unclear implementation of paymaster, set to 0x0 if using our own paymaster)</td><td>N</td></tr><tr><td>maxFeePerGas</td><td>number</td><td>Maximum fee per gas for each type of gas (similar to EIP-1559 max_fee_per_gas)</td><td>N</td></tr><tr><td>maxPriorityFeePerGas</td><td>number</td><td>Maximum priority fee per gas for each type of gas (similar to EIP-1559 max_priority_fee_per_gas)</td><td>N</td></tr><tr><td>callGasLimit</td><td>number</td><td>Gas allocated for main execution call (simulated locally, gas for executing callData)</td><td>N</td></tr><tr><td>verificationGasLimit</td><td>number</td><td>Gas allocated for verification steps (used in functions validateUserOp()/validatePaymasterUserOp())</td><td>N</td></tr><tr><td>preVerificationGas</td><td>number</td><td>Gas paid for compensating pre-verification execution and call data bundler (extra gas to handle regular gas consumption, e.g., in loops)</td><td>N</td></tr></tbody></table><p>Return Parameters:</p><table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>-</td><td>UserOperation</td><td>Assembled userOp</td></tr></tbody></table><ol start="14"><li><strong>removeOwnerOp</strong> - Remove an owner from the wallet.</li></ol><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">removeOwnerOp</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">walletAddress</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> etherProvider</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> prevOwner</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> owner</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> threshold</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> paymasterAndData</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> maxFeePerGas</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> maxPriorityFeePerGas</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> callGasLimit</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> verificationGasLimit</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> preVerificationGas</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(255, 203, 107)">Promise</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token maybe-class-name">UserOperation</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Input Parameters:</p><table><thead><tr><th>Field</th><th>Type</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>walletAddress</td><td>string</td><td>Wallet proxy contract address</td><td>Y</td></tr><tr><td>etherProvider</td><td>ethers.providers.BaseProvider</td><td>ethers.js provider, e.g., ethers.provider</td><td>Y</td></tr><tr><td>prevOwner</td><td>string</td><td>Previous owner of the owner to be removed</td><td>Y</td></tr><tr><td>owner</td><td>string</td><td>Owner to be removed</td><td>Y</td></tr><tr><td>threshold</td><td>number</td><td>New multisig threshold (if no update needed, provide the old value)</td><td>Y</td></tr><tr><td>paymasterAndData</td><td>string</td><td>Paymaster contract address and data to send to it (currently unclear implementation of paymaster, set to 0x0 if using our own paymaster)</td><td>N</td></tr><tr><td>maxFeePerGas</td><td>number</td><td>Maximum fee per gas for each type of gas (similar to EIP-1559 max_fee_per_gas)</td><td>N</td></tr><tr><td>maxPriorityFeePerGas</td><td>number</td><td>Maximum priority fee per gas for each type of gas (similar to EIP-1559 max_priority_fee_per_gas)</td><td>N</td></tr><tr><td>callGasLimit</td><td>number</td><td>Gas allocated for main execution call (simulated locally, gas for executing callData)</td><td>N</td></tr><tr><td>verificationGasLimit</td><td>number</td><td>Gas allocated for verification steps (used in functions validateUserOp()/validatePaymasterUserOp())</td><td>N</td></tr><tr><td>preVerificationGas</td><td>number</td><td>Gas paid for compensating pre-verification execution and call data bundler (extra gas to handle regular gas consumption, e.g., in loops)</td><td>N</td></tr></tbody></table><p>Return Parameters:</p><table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>-</td><td>UserOperation</td><td>Assembled userOp</td></tr></tbody></table><ol start="15"><li><strong>getOwners</strong> - Get the list of owners of the wallet.</li></ol><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">getOwners</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">walletAddress</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> etherProvider</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(255, 203, 107)">Promise</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token known-class-name class-name" style="color:rgb(255, 203, 107)">Array</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">string</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;&gt;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Input Parameters:</p><table><thead><tr><th>Field</th><th>Type</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>walletAddress</td><td>string</td><td>Wallet proxy contract address</td><td>Y</td></tr><tr><td>etherProvider</td><td>ethers.providers.BaseProvider</td><td>ethers.js provider, e.g., ethers.provider</td><td>Y</td></tr></tbody></table><p>Return Parameters:</p><table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>-</td><td>Array\&lt;string&gt;</td><td>List of wallet owners</td></tr></tbody></table><ol start="16"><li><strong>isOwner</strong> - Check if an account is an owner of the wallet.</li></ol><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">isOwner</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">owner</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> walletAddress</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> etherProvider</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(255, 203, 107)">Promise</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">boolean</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Input Parameters:</p><table><thead><tr><th>Field</th><th>Type</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>owner</td><td>string</td><td>Account address to be checked</td><td>Y</td></tr><tr><td>walletAddress</td><td>string</td><td>Wallet proxy contract address</td><td>Y</td></tr><tr><td>etherProvider</td><td>ethers.providers.BaseProvider</td><td>ethers.js provider, e.g., ethers.provider</td><td>Y</td></tr></tbody></table><p>Return Parameters:</p><table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>-</td><td>boolean</td><td>Whether it is a wallet owner</td></tr></tbody></table><ol start="17"><li><strong>startSessionOp</strong> - Start a multisig-free session.</li></ol><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">startSessionOp</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">walletAddress</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> etherProvider</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> sessionUser</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> duration</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> paymasterAndData</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> maxFeePerGas</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> maxPriorityFeePerGas</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> callGasLimit</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> verificationGasLimit</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> preVerificationGas</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(255, 203, 107)">Promise</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token maybe-class-name">UserOperation</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Input Parameters:</p><table><thead><tr><th>Field</th><th>Type</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>walletAddress</td><td>string</td><td>Wallet proxy contract address</td><td>Y</td></tr><tr><td>etherProvider</td><td>ethers.providers.BaseProvider</td><td>ethers.js provider, e.g., ethers.provider</td><td>Y</td></tr><tr><td>sessionUser</td><td>string</td><td>Owner of the wallet session</td><td>Y</td></tr><tr><td>duration</td><td>number</td><td>Valid duration of the wallet session (in ms)</td><td>Y</td></tr><tr><td>paymasterAndData</td><td>string</td><td>Paymaster contract address and data to send to it (currently unclear implementation of paymaster, set to 0x0 if using our own paymaster)</td><td>N</td></tr><tr><td>maxFeePerGas</td><td>number</td><td>Maximum fee per gas for each type of gas (similar to EIP-1559 max_fee_per_gas)</td><td>N</td></tr><tr><td>maxPriorityFeePerGas</td><td>number</td><td>Maximum priority fee per gas for each type of gas (similar to EIP-1559 max_priority_fee_per_gas)</td><td>N</td></tr><tr><td>callGasLimit</td><td>number</td><td>Gas allocated for main execution call (simulated locally, gas for executing callData)</td><td>N</td></tr><tr><td>verificationGasLimit</td><td>number</td><td>Gas allocated for verification steps (used in functions validateUserOp()/validatePaymasterUserOp())</td><td>N</td></tr><tr><td>preVerificationGas</td><td>number</td><td>Gas paid for compensating pre-verification execution and call data bundler (extra gas to handle regular gas consumption, e.g., in loops)</td><td>N</td></tr></tbody></table><p>Return Parameters:</p><table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>-</td><td>UserOperation</td><td>Assembled userOp</td></tr></tbody></table><ol start="18"><li><strong>clearSessionOp</strong> - End a multisig-free session.</li></ol><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">clearSessionOp</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">walletAddress</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> etherProvider</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> paymasterAndData</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> maxFeePerGas</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> maxPriorityFeePerGas</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> callGasLimit</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> verificationGasLimit</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> preVerificationGas</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(255, 203, 107)">Promise</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token maybe-class-name">UserOperation</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Input Parameters:</p><table><thead><tr><th>Field</th><th>Type</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>walletAddress</td><td>string</td><td>Wallet proxy contract address</td><td>Y</td></tr><tr><td>etherProvider</td><td>ethers.providers.BaseProvider</td><td>ethers.js provider, e.g., ethers.provider</td><td>Y</td></tr><tr><td>paymasterAndData</td><td>string</td><td>Paymaster contract address and data to send to it (currently unclear implementation of paymaster, set to 0x0 if using our own paymaster)</td><td>N</td></tr><tr><td>maxFeePerGas</td><td>number</td><td>Maximum fee per gas for each type of gas (similar to EIP-1559 max_fee_per_gas)</td><td>N</td></tr><tr><td>maxPriorityFeePerGas</td><td>number</td><td>Maximum priority fee per gas for each type of gas (similar to EIP-1559 max_priority_fee_per_gas)</td><td>N</td></tr><tr><td>callGasLimit</td><td>number</td><td>Gas allocated for main execution call (simulated locally, gas for executing callData)</td><td>N</td></tr><tr><td>verificationGasLimit</td><td>number</td><td>Gas allocated for verification steps (used in functions validateUserOp()/validatePaymasterUserOp())</td><td>N</td></tr><tr><td>preVerificationGas</td><td>number</td><td>Gas paid for compensating pre-verification execution and call data bundler (extra gas to handle regular gas consumption, e.g., in loops)</td><td>N</td></tr></tbody></table><p>Return Parameters:</p><table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>-</td><td>UserOperation</td><td>Assembled userOp</td></tr></tbody></table><ol start="19"><li><strong>enableModuleOp</strong> - Enable a module.</li></ol><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">enableModuleOp</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">walletAddress</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> etherProvider</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> module</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> paymasterAndData</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> maxFeePerGas</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> maxPriorityFeePerGas</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> callGasLimit</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> verificationGasLimit</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> preVerificationGas</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(255, 203, 107)">Promise</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token maybe-class-name">UserOperation</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Input Parameters:</p><table><thead><tr><th>Field</th><th>Type</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>walletAddress</td><td>string</td><td>Wallet proxy contract address</td><td>Y</td></tr><tr><td>etherProvider</td><td>ethers.providers.BaseProvider</td><td>ethers.js provider, e.g., ethers.provider</td><td>Y</td></tr><tr><td>module</td><td>string</td><td>Module address</td><td>Y</td></tr><tr><td>paymasterAndData</td><td>string</td><td>Paymaster contract address and data to send to it (currently unclear implementation of paymaster, set to 0x0 if using our own paymaster)</td><td>N</td></tr><tr><td>maxFeePerGas</td><td>number</td><td>Maximum fee per gas for each type of gas (similar to EIP-1559 max_fee_per_gas)</td><td>N</td></tr><tr><td>maxPriorityFeePerGas</td><td>number</td><td>Maximum priority fee per gas for each type of gas (similar to EIP-1559 max_priority_fee_per_gas)</td><td>N</td></tr><tr><td>callGasLimit</td><td>number</td><td>Gas allocated for main execution call (simulated locally, gas for executing callData)</td><td>N</td></tr><tr><td>verificationGasLimit</td><td>number</td><td>Gas allocated for verification steps (used in functions validateUserOp()/validatePaymasterUserOp())</td><td>N</td></tr><tr><td>preVerificationGas</td><td>number</td><td>Gas paid for compensating pre-verification execution and call data bundler (extra gas to handle regular gas consumption, e.g., in loops)</td><td>N</td></tr></tbody></table><p>Return Parameters:</p><table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>-</td><td>UserOperation</td><td>Assembled userOp</td></tr></tbody></table><ol start="20"><li><strong>disableModuleOp</strong> - Disable a module.</li></ol><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">disableModuleOp</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">walletAddress</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> etherProvider</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> prevModule</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> module</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> paymasterAndData</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> maxFeePerGas</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> maxPriorityFeePerGas</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> callGasLimit</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> verificationGasLimit</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> preVerificationGas</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(255, 203, 107)">Promise</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token maybe-class-name">UserOperation</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Input Parameters:</p><table><thead><tr><th>Field</th><th>Type</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>walletAddress</td><td>string</td><td>Wallet proxy contract address</td><td>Y</td></tr><tr><td>etherProvider</td><td>ethers.providers.BaseProvider</td><td>ethers.js provider, e.g., ethers.provider</td><td>Y</td></tr><tr><td>prevModule</td><td>string</td><td>Previous module address to be disabled</td><td>Y</td></tr><tr><td>module</td><td>string</td><td>Module address to be disabled</td><td>Y</td></tr><tr><td>paymasterAndData</td><td>string</td><td>Paymaster contract address and data to send to it (currently unclear implementation of paymaster, set to 0x0 if using our own paymaster)</td><td>N</td></tr><tr><td>maxFeePerGas</td><td>number</td><td>Maximum fee per gas for each type of gas (similar to EIP-1559 max_fee_per_gas)</td><td>N</td></tr><tr><td>maxPriorityFeePerGas</td><td>number</td><td>Maximum priority fee per gas for each type of gas (similar to EIP-1559 max_priority_fee_per_gas)</td><td>N</td></tr><tr><td>callGasLimit</td><td>number</td><td>Gas allocated for main execution call (simulated locally, gas for executing callData)</td><td>N</td></tr><tr><td>verificationGasLimit</td><td>number</td><td>Gas allocated for verification steps (used in functions validateUserOp()/validatePaymasterUserOp())</td><td>N</td></tr><tr><td>preVerificationGas</td><td>number</td><td>Gas paid for compensating pre-verification execution and call data bundler (extra gas to handle regular gas consumption, e.g., in loops)</td><td>N</td></tr></tbody></table><p>Return Parameters:</p><table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>-</td><td>UserOperation</td><td>Assembled userOp</td></tr></tbody></table><ol start="21"><li><strong>isEnabledModule</strong> - Check if an address is a valid module.</li></ol><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">isEnabledModule</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">module</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> walletAddress</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> etherProvider</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(255, 203, 107)">Promise</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">boolean</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Input Parameters:</p><table><thead><tr><th>Field</th><th>Type</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>module</td><td>string</td><td>Module address</td><td>Y</td></tr><tr><td>walletAddress</td><td>string</td><td>Wallet proxy contract address</td><td>Y</td></tr><tr><td>etherProvider</td><td>ethers.providers.BaseProvider</td><td>ethers.js provider, e.g., ethers.provider</td><td>Y</td></tr></tbody></table><p>Return Parameters:</p><table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>-</td><td>boolean</td><td>Whether it is a valid module</td></tr></tbody></table><ol start="22"><li><strong>isEnabledModules</strong> - Check a group of addresses for valid modules.</li></ol><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">isEnabledModules</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">modules</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> walletAddress</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> etherProvider</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(255, 203, 107)">Promise</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">boolean</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Input Parameters:</p><table><thead><tr><th>Field</th><th>Type</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>modules</td><td>string[]</td><td>A group of module addresses</td><td>Y</td></tr><tr><td>walletAddress</td><td>string</td><td>Wallet proxy contract address</td><td>Y</td></tr><tr><td>etherProvider</td><td>ethers.providers.BaseProvider</td><td>ethers.js provider, e.g., ethers.provider</td><td>Y</td></tr></tbody></table><p>Return Parameters:</p><table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>-</td><td>boolean</td><td>Whether all are valid modules</td></tr></tbody></table><ol start="23"><li><strong>getModulesPaginated</strong> Paginated retrieval of an array of modules</li></ol><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">getModulesPaginated</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">start</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">pageSize</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> number</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">walletAddress</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">etherProvider</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> ethers</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">providers</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access maybe-class-name">BaseProvider</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(255, 203, 107)">Promise</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">any</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Input Parameter:</p><table><thead><tr><th>Field Name</th><th>Type</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>start</td><td>string</td><td>Starting address of the pagination</td><td>Y</td></tr><tr><td>pageSize</td><td>number</td><td>Page size</td><td>Y</td></tr><tr><td>walletAddress</td><td>string</td><td>Wallet proxy contract address</td><td>Y</td></tr><tr><td>etherProvider</td><td>ethers.providers.BaseProvider</td><td>Ethers.js provider, e.g., ethers.provider</td><td>Y</td></tr></tbody></table><p>Return Parameter:</p><table><thead><tr><th>Field Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>-</td><td>any[]</td><td>Array of modules returned, and the address of the next page of modules (The first element is the list of modules, and the second element is the address of the next page)</td></tr></tbody></table><ol start="24"><li><strong>lockWalletOp</strong> Lock the wallet</li></ol><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">lockWalletOp</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">walletAddress</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">etherProvider</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> ethers</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">providers</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access maybe-class-name">BaseProvider</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">paymasterAndData</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">maxFeePerGas</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> number</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">maxPriorityFeePerGas</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> number</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">callGasLimit</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> number</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">verificationGasLimit</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> number</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">preVerificationGas</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> number</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(255, 203, 107)">Promise</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token maybe-class-name">UserOperation</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Input Parameter:</p><table><thead><tr><th>Field Name</th><th>Type</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>walletAddress</td><td>string</td><td>Wallet proxy contract address</td><td>Y</td></tr><tr><td>etherProvider</td><td>ethers.providers.BaseProvider</td><td>Ethers.js provider, e.g., ethers.provider</td><td>Y</td></tr><tr><td>paymasterAndData</td><td>string</td><td>Paymaster contract address and data sent to paymaster (The current implementation of paymaster is not yet clear. If we use our own paymaster, this value is not required and can be fixed to 0x0.)</td><td>N</td></tr><tr><td>maxFeePerGas</td><td>number</td><td>Maximum fee per unit of gas, similar to EIP-1559 max_fee_per_gas</td><td>N</td></tr><tr><td>maxPriorityFeePerGas</td><td>number</td><td>Maximum priority fee per unit of gas, similar to EIP1559 max_priority_fee_per_gas</td><td>N</td></tr><tr><td>callGasLimit</td><td>number</td><td>Gas allocated for the main execution call (calculated locally, the gas for executing callData)</td><td>N</td></tr><tr><td>verificationGasLimit</td><td>number</td><td>Gas allocated for the verification step (used in functions validateUserOp() and validatePaymasterUserOp())</td><td>N</td></tr><tr><td>preVerificationGas</td><td>number</td><td>Gas paid for compensating the pre-verification execution and call data bundler (additional gas reserved to deal with some regular gas consumption, such as loops)</td><td>N</td></tr></tbody></table><p>Return Parameter:</p><table><thead><tr><th>Field Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>-</td><td>UserOperation</td><td>Assembled UserOperation</td></tr></tbody></table><ol start="25"><li><strong>unlockWalletOp</strong> Unlock the wallet</li></ol><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">unlockWalletOp</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">walletAddress</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">etherProvider</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> ethers</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">providers</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access maybe-class-name">BaseProvider</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">paymasterAndData</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">maxFeePerGas</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> number</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">maxPriorityFeePerGas</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> number</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">callGasLimit</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> number</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">verificationGasLimit</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> number</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">preVerificationGas</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> number</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(255, 203, 107)">Promise</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token maybe-class-name">UserOperation</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Input Parameter:</p><table><thead><tr><th>Field Name</th><th>Type</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>walletAddress</td><td>string</td><td>Wallet proxy contract address</td><td>Y</td></tr><tr><td>etherProvider</td><td>ethers.providers.BaseProvider</td><td>Ethers.js provider, e.g., ethers.provider</td><td>Y</td></tr><tr><td>paymasterAndData</td><td>string</td><td>Paymaster contract address and data sent to paymaster (The current implementation of paymaster is not yet clear. If we use our own paymaster, this value is not required and can be fixed to 0x0.)</td><td>N</td></tr><tr><td>maxFeePerGas</td><td>number</td><td>Maximum fee per unit of gas, similar to EIP-1559 max_fee_per_gas</td><td>N</td></tr><tr><td>maxPriorityFeePerGas</td><td>number</td><td>Maximum priority fee per unit of gas, similar to EIP1559 max_priority_fee_per_gas</td><td>N</td></tr><tr><td>callGasLimit</td><td>number</td><td>Gas allocated for the main execution call (calculated locally, the gas for executing callData)</td><td>N</td></tr><tr><td>verificationGasLimit</td><td>number</td><td>Gas allocated for the verification step (used in functions validateUserOp() and validatePaymasterUserOp())</td><td>N</td></tr><tr><td>preVerificationGas</td><td>number</td><td>Gas paid for compensating the pre-verification execution and call data bundler (additional gas reserved to deal with some regular gas consumption, such as loops)</td><td>N</td></tr></tbody></table><p>Return Parameter:</p><table><thead><tr><th>Field Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>-</td><td>UserOperation</td><td>Assembled UserOperation</td></tr></tbody></table><ol start="26"><li><strong>isLocked</strong> Verify if the wallet is locked</li></ol><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">isLocked</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">walletAddress</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">etherProvider</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> ethers</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">providers</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access maybe-class-name">BaseProvider</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(255, 203, 107)">Promise</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">boolean</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Input Parameter:</p><table><thead><tr><th>Field Name</th><th>Type</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>walletAddress</td><td>string</td><td>Wallet proxy contract address</td><td>Y</td></tr><tr><td>etherProvider</td><td>ethers.providers.BaseProvider</td><td>Ethers.js provider, e.g., ethers.provider</td><td>Y</td></tr></tbody></table><p>Return Parameter:</p><table><thead><tr><th>Field Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>-</td><td>boolean</td><td>Whether the wallet is locked or not (true: locked; false: not locked)</td></tr></tbody></table><ol start="27"><li><strong>getLock</strong> Retrieve the lock duration of the wallet</li></ol><p>getLock(walletAddress: string, etherProvider: ethers.providers.BaseProvider): Promise<number></number>
Input Parameter:</p><table><thead><tr><th>Field Name</th><th>Type</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>walletAddress</td><td>string</td><td>Wallet proxy contract address</td><td>Y</td></tr><tr><td>etherProvider</td><td>ethers.providers.BaseProvider</td><td>Ethers.js provider, e.g., ethers.provider</td><td>Y</td></tr></tbody></table><p>Return Parameter:</p><table><thead><tr><th>Field Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>-</td><td>number</td><td>Lock duration of the wallet (in ms)</td></tr></tbody></table><ol start="28"><li><strong>setFallbackHandlerOp</strong> Set the wallet&#x27;s fallback handler for additional functionalities</li></ol><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">setFallbackHandlerOp</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">walletAddress</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">etherProvider</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> ethers</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">providers</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access maybe-class-name">BaseProvider</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">handler</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">paymasterAndData</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">maxFeePerGas</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> number</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">maxPriorityFeePerGas</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> number</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">callGasLimit</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> number</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">verificationGasLimit</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> number</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">preVerificationGas</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> number</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(255, 203, 107)">Promise</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token maybe-class-name">UserOperation</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Input Parameter:</p><table><thead><tr><th>Field Name</th><th>Type</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>walletAddress</td><td>string</td><td>Wallet proxy contract address</td><td>Y</td></tr><tr><td>etherProvider</td><td>ethers.providers.BaseProvider</td><td>Ethers.js provider, e.g., ethers.provider</td><td>Y</td></tr><tr><td>handler</td><td>string</td><td>Wallet extension contract address</td><td>Y</td></tr><tr><td>paymasterAndData</td><td>string</td><td>Paymaster contract address and data sent to paymaster (The current implementation of paymaster is not yet clear. If we use our own paymaster, this value is not required and can be fixed to 0x0.)</td><td>N</td></tr><tr><td>maxFeePerGas</td><td>number</td><td>Maximum fee per unit of gas, similar to EIP-1559 max_fee_per_gas</td><td>N</td></tr><tr><td>maxPriorityFeePerGas</td><td>number</td><td>Maximum priority fee per unit of gas, similar to EIP1559 max_priority_fee_per_gas</td><td>N</td></tr><tr><td>callGasLimit</td><td>number</td><td>Gas allocated for the main execution call (calculated locally, the gas for executing callData)</td><td>N</td></tr><tr><td>verificationGasLimit</td><td>number</td><td>Gas allocated for the verification step (used in functions validateUserOp() and validatePaymasterUserOp())</td><td>N</td></tr><tr><td>preVerificationGas</td><td>number</td><td>Gas paid for compensating the pre-verification execution and call data bundler (additional gas reserved to deal with some regular gas consumption, such as loops)</td><td>N</td></tr></tbody></table><p>Return Parameter:</p><table><thead><tr><th>Field Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>-</td><td>UserOperation</td><td>Assembled UserOperation</td></tr></tbody></table><ol start="29"><li><strong>getEntryPoint</strong> Retrieve the EntryPoint address of the wallet</li></ol><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">getEntryPoint</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">walletAddress</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">etherProvider</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> ethers</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">providers</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access maybe-class-name">BaseProvider</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(255, 203, 107)">Promise</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">string</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Input Parameter:</p><table><thead><tr><th>Field Name</th><th>Type</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>walletAddress</td><td>string</td><td>Wallet proxy contract address</td><td>Y</td></tr><tr><td>etherProvider</td><td>ethers.providers.BaseProvider</td><td>Ethers.js provider, e.g., ethers.provider</td><td>Y</td></tr></tbody></table><p>Return Parameter:</p><table><thead><tr><th>Field Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>-</td><td>string</td><td>EntryPoint address</td></tr></tbody></table><ol start="30"><li><strong>withdrawDepositOp</strong> Withdraw the wallet&#x27;s own pledge to the amount advanced to the EntryPoint</li></ol><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">withdrawDepositOp</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">walletAddress</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">etherProvider</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> ethers</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">providers</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access maybe-class-name">BaseProvider</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">withdrawAddress</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">amount</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> number</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">paymasterAndData</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">maxFeePerGas</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> number</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">maxPriorityFeePerGas</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> number</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">callGasLimit</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> number</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">verificationGasLimit</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> number</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">preVerificationGas</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> number</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(255, 203, 107)">Promise</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token maybe-class-name">UserOperation</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Input Parameter:</p><table><thead><tr><th>Field Name</th><th>Type</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>walletAddress</td><td>string</td><td>Wallet proxy contract address</td><td>Y</td></tr><tr><td>etherProvider</td><td>ethers.providers.BaseProvider</td><td>Ethers.js provider, e.g., ethers.provider</td><td>Y</td></tr><tr><td>withdrawAddress</td><td>string</td><td>Withdraw address</td><td>Y</td></tr><tr><td>amount</td><td>number</td><td>Amount of the pledge to be withdrawn</td><td>Y</td></tr><tr><td>paymasterAndData</td><td>string</td><td>Paymaster contract address and data sent to paymaster (The current implementation of paymaster is not yet clear. If we use our own paymaster, this value is not required and can be fixed to 0x0.)</td><td>N</td></tr><tr><td>maxFeePerGas</td><td>number</td><td>Maximum fee per unit of gas, similar to EIP-1559 max_fee_per_gas</td><td>N</td></tr><tr><td>maxPriorityFeePerGas</td><td>number</td><td>Maximum priority fee per unit of gas, similar to EIP1559 max_priority_fee_per_gas</td><td>N</td></tr><tr><td>callGasLimit</td><td>number</td><td>Gas allocated for the main execution call (calculated locally, the gas for executing callData)</td><td>N</td></tr><tr><td>verificationGasLimit</td><td>number</td><td>Gas allocated for the verification step (used in functions validateUserOp() and validatePaymasterUserOp())</td><td>N</td></tr><tr><td>preVerificationGas</td><td>number</td><td>Gas paid for compensating the pre-verification execution and call data bundler (additional gas reserved to deal with some regular gas consumption, such as loops)</td><td>N</td></tr></tbody></table><p>Return Parameter:</p><table><thead><tr><th>Field Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>-</td><td>UserOperation</td><td>Assembled UserOperation</td></tr></tbody></table><ol start="31"><li><strong>addDeposit</strong> Pledge the wallet&#x27;s own deposit to the EntryPoint</li></ol><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">addDeposit</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">walletAddress</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">signer</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> ethers</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access maybe-class-name">Wallet</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">value</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(255, 203, 107)">Promise</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">any</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Input Parameter:</p><table><thead><tr><th>Field Name</th><th>Type</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>walletAddress</td><td>string</td><td>Wallet proxy contract address</td><td>Y</td></tr><tr><td>signer</td><td>ethers.Wallet</td><td>Ethers.js Wallet</td><td>Y</td></tr><tr><td>value</td><td>string</td><td>The amount of the pledge</td><td>Y</td></tr></tbody></table><p>Return Parameter:</p><p>None</p><ol start="32"><li><strong>getDeposit</strong> Query the balance of the wallet&#x27;s own deposit</li></ol><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">getDeposit</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">walletAddress</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">etherProvider</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> ethers</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">providers</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access maybe-class-name">BaseProvider</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(255, 203, 107)">Promise</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">number</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Input Parameter:</p><table><thead><tr><th>Field Name</th><th>Type</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>walletAddress</td><td>string</td><td>Wallet proxy contract address</td><td>Y</td></tr><tr><td>etherProvider</td><td>ethers.providers.BaseProvider</td><td>Ethers.js provider, e.g., ethers.provider</td><td>Y</td></tr></tbody></table><p>Return Parameter:</p><table><thead><tr><th>Field Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>-</td><td>number</td><td>Balance of the wallet&#x27;s own deposit</td></tr></tbody></table><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="6-bundler-external-functions"></a>6. Bundler External Functions<a class="hash-link" href="#6-bundler-external-functions" title="Direct link to heading">#</a></h2><ol><li><strong>Constructor</strong></li></ol><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">Bundler</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">entryPoint</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">etherProvider</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> ethers</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">providers</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access maybe-class-name">BaseProvider</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">bundlerApiURL</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> timeout</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name">ApiTimeOut</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Input Parameters:</p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>entryPoint</td><td>string</td><td>Address of the entryPoint contract</td><td>Y</td></tr><tr><td>etherProvider</td><td>ethers.providers.BaseProvider</td><td>ethers.js provider, e.g., ethers.provider</td><td>Y</td></tr><tr><td>bundlerApiURL</td><td>string</td><td>URL of the bundler</td><td>Y</td></tr><tr><td>timeout</td><td>ApiTimeOut</td><td>Timeout options: web3ApiRequestTimeout, web3ApiResponseTimeout, bundlerApiRequestTimeout, bundlerApiResponseTimeout</td><td>N</td></tr></tbody></table><p>Return Parameters:</p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>-</td><td>Bundler</td><td>Bundler object</td></tr></tbody></table><ol start="2"><li><strong>platon_chainId</strong> (EIP-4337 specification) - Returns the EIP-155 chain ID</li></ol><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">platon_chainId</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">timeout</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> number</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(255, 203, 107)">Promise</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">string</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Input Parameters:</p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>timeout</td><td>number</td><td>Timeout</td><td>N</td></tr></tbody></table><p>Return Parameters:</p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>-</td><td>string</td><td>Chain ID</td></tr></tbody></table><ol start="3"><li><strong>platon_estimateUserOperationGas</strong> (EIP-4337 specification) - Estimates gas for UserOperation</li></ol><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">platon_estimateUserOperationGas</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">userOp</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name">UserOperation</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> timeout</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> number</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(255, 203, 107)">Promise</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token maybe-class-name">EstimateUserOpGas</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Input Parameters:</p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>userOp</td><td>UserOperation</td><td>UserOperation object</td><td>Y</td></tr><tr><td>timeout</td><td>number</td><td>Timeout</td><td>N</td></tr></tbody></table><p>Return Parameters:</p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>-</td><td>EstimateUserOpGas</td><td>Gas estimation result</td></tr></tbody></table><ol start="4"><li><strong>platon_getUserOperationByHash</strong> (EIP-4337 specification) - Returns a UserOperation based on the hash returned by eth_sendUserOperation</li></ol><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">platon_getUserOperationByHash</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">userOpHash</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> timeout</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> number</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(255, 203, 107)">Promise</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token keyword null nil" style="font-style:italic">null</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> </span><span class="token maybe-class-name">UserOperationReceipt</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Input Parameters:</p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>userOpHash</td><td>string</td><td>UserOp&#x27;s hash</td><td>Y</td></tr><tr><td>timeout</td><td>number</td><td>Timeout</td><td>N</td></tr></tbody></table><p>Return Parameters:</p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>-</td><td>UserOperationReceipt</td><td>EIP-4337 specification-defined response</td></tr></tbody></table><ol start="5"><li><strong>platon_getUserOperationReceipt</strong> (EIP-4337 specification) - Returns a UserOperation receipt based on the hash returned by eth_sendUserOperation</li></ol><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">platon_getUserOperationReceipt</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">userOpHash</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> timeout</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> number</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(255, 203, 107)">Promise</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token keyword null nil" style="font-style:italic">null</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> </span><span class="token maybe-class-name">UserOperationReceipt</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Input Parameters:</p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>userOpHash</td><td>string</td><td>UserOp&#x27;s hash</td><td>Y</td></tr><tr><td>timeout</td><td>number</td><td>Timeout</td><td>N</td></tr></tbody></table><p>Return Parameters:</p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>-</td><td>UserOperationReceipt</td><td>EIP-4337 specification-defined response</td></tr></tbody></table><ol start="6"><li><strong>platon_sendUserOperation</strong> (EIP-4337 specification) - Submits a UserOperation object to the bundler&#x27;s User Operation pool</li></ol><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">platon_sendUserOperation</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">userOp</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name">UserOperation</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> timeout</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> number</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(255, 203, 107)">Promise</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">string</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Input Parameters:</p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>userOp</td><td>UserOperation</td><td>UserOperation information</td><td>Y</td></tr><tr><td>timeout</td><td>number</td><td>Timeout</td><td>N</td></tr></tbody></table><p>Return Parameters:</p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>-</td><td>string</td><td>EIP-4337 userOpHash</td></tr></tbody></table><ol start="7"><li><strong>platon_supportedEntryPoints</strong> (EIP-4337 specification) - Returns an array of entryPoint contract addresses supported by the bundler</li></ol><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">platon_supportedEntryPoints</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">timeout</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> number</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(255, 203, 107)">Promise</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Input Parameters:</p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>timeout</td><td>number</td><td>Timeout</td><td>N</td></tr></tbody></table><p>Return Parameters:</p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>-</td><td>string[]</td><td>Array of entryPoint contract addresses</td></tr></tbody></table><ol start="8"><li><strong>sendUserOperation</strong> Submits a UserOperation object to the bundler&#x27;s User Operation pool and appends a listener</li></ol><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">sendUserOperation</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">userOp</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name">UserOperation</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> timeout</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> number</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> receiptTimeout</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> number</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> receiptInterval</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> number</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name">EventEmitter</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Input Parameters:</p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>userOp</td><td>UserOperation</td><td>UserOperation information</td><td>Y</td></tr><tr><td>timeout</td><td>number</td><td>Timeout for bundler request</td><td>N</td></tr><tr><td>receiptTimeout</td><td>number</td><td>Timeout for listener</td><td>N</td></tr><tr><td>receiptInterval</td><td>number</td><td>Listener interval</td><td>N</td></tr></tbody></table><p>Return Parameters:</p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>-</td><td>EventEmitter</td><td>JS event listener</td></tr></tbody></table><ol start="9"><li><strong>simulateHandleOp</strong> Simulates the execution of a userOp</li></ol><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">simulateHandleOp</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">op</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name">UserOperation</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> target</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> targetCallData</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(255, 203, 107)">Promise</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token maybe-class-name">Result</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Input Parameters:</p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>op</td><td>UserOperation</td><td>UserOperation information</td><td>Y</td></tr><tr><td>target</td><td>string</td><td>Target address if non-zero, indicating a call to be made after the userOp simulation. If called, targetSuccess and TargetResult are set to the return value of the call</td><td>N</td></tr><tr><td>targetCallData</td><td>string</td><td>CallData to be passed to the target address</td><td>N</td></tr></tbody></table><p>Return Parameters:</p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>-</td><td>Result</td><td>Execution result</td></tr></tbody></table><ol start="10"><li><strong>simulateValidation</strong> Simulates the validation of a userOp</li></ol><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">simulateValidation</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">op</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name">UserOperation</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(255, 203, 107)">Promise</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token maybe-class-name">Result</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Input Parameters:</p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>op</td><td>UserOperation</td><td>UserOperation information</td><td>Y</td></tr></tbody></table><p>Return Parameters:</p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>-</td><td>Result</td><td>Execution result</td></tr></tbody></table><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="7-paymaster-external-functions"></a>7. Paymaster External Functions<a class="hash-link" href="#7-paymaster-external-functions" title="Direct link to heading">#</a></h2><ol><li><strong>Constructor</strong></li></ol><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">Paymaster</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">payMasterAddress</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">wallet</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> ethers</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access maybe-class-name">Wallet</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Input Parameters:</p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>payMasterAddress</td><td>string</td><td>Paymaster address</td><td>Y</td></tr><tr><td>wallet</td><td>ethers.Wallet</td><td>ethers.js wallet instance (owner of the paymaster)</td><td>Y</td></tr></tbody></table><p>Return Parameters:</p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>-</td><td>Paymaster</td><td>Paymaster object</td></tr></tbody></table><ol start="2"><li><strong>addSupportedToken</strong> Add supported token category</li></ol><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">addSupportedToken</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">token</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">priceOracle</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(255, 203, 107)">Promise</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">any</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Input Parameters:</p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>token</td><td>string</td><td>Token address</td><td>Y</td></tr><tr><td>priceOracle</td><td>string</td><td>Token&#x27;s price oracle address</td><td>Y</td></tr></tbody></table><p>Return Parameters:</p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>-</td><td>transaction receipt</td><td>Transaction receipt</td></tr></tbody></table><ol start="3"><li><strong>removeSupportedToken</strong> Remove supported token category</li></ol><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">removeSupportedToken</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">token</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(255, 203, 107)">Promise</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">any</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Input Parameters:</p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>token</td><td>string</td><td>Token address</td><td>Y</td></tr></tbody></table><p>Return Parameters:</p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>-</td><td>transaction receipt</td><td>Transaction receipt</td></tr></tbody></table><ol start="4"><li><strong>paymasterSupportedToken</strong> Check supported token category</li></ol><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">paymasterSupportedToken</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">tokens</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(255, 203, 107)">Promise</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Input Parameters:</p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>tokens</td><td>string[]</td><td>Token addresses</td><td>Y</td></tr></tbody></table><p>Return Parameters:</p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>-</td><td>string[]</td><td>Token addresses</td></tr></tbody></table><ol start="5"><li><strong>entryPoint</strong> Get the entrypoint contract address of the paymaster</li></ol><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">entryPoint</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(255, 203, 107)">Promise</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">any</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Input Parameters:</p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>-</td><td>-</td><td>None</td><td>-</td></tr></tbody></table><p>Return Parameters:</p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>-</td><td>address</td><td>Entrypoint address</td></tr></tbody></table><ol start="6"><li><strong>addStake</strong> Add stake</li></ol><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">addStake</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">extraUnstakeDelaySec</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> number</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">value</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(255, 203, 107)">Promise</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">any</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Input Parameters:</p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>extraUnstakeDelaySec</td><td>number</td><td>Delay in seconds for unstaking</td><td>Y</td></tr><tr><td>value</td><td>string</td><td>Hex value of the staking amount (in lat)</td><td>Y</td></tr></tbody></table><p>Return Parameters:</p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>-</td><td>transaction receipt</td><td>Transaction receipt</td></tr></tbody></table><ol start="7"><li><strong>deposit</strong> Add deposit amount</li></ol><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">deposit</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">value</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(255, 203, 107)">Promise</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">any</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Input Parameters:</p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>value</td><td>string</td><td>Hex value of the deposit amount (in lat)</td><td>Y</td></tr></tbody></table><p>Return Parameters:</p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>-</td><td>transaction receipt</td><td>Transaction receipt</td></tr></tbody></table><ol start="8"><li><strong>unlockStake</strong> Unlock stake</li></ol><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">unlockStake</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(255, 203, 107)">Promise</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">any</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Input Parameters:</p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>-</td><td>-</td><td>None</td><td>-</td></tr></tbody></table><p>Return Parameters:</p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>-</td><td>transaction receipt</td><td>Transaction receipt</td></tr></tbody></table><ol start="9"><li><strong>withdrawStake</strong> Withdraw stake amount</li></ol><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">withdrawStake</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">withdrawAddress</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(255, 203, 107)">Promise</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">any</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Input Parameters:</p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>withdrawAddress</td><td>string</td><td>Account address to receive the withdrawn stake</td><td>Y</td></tr></tbody></table><p>Return Parameters:</p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>-</td><td>transaction receipt</td><td>Transaction receipt</td></tr></tbody></table><ol start="10"><li><strong>withdrawTo</strong> Withdraw deposit amount</li></ol><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">withdrawTo</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">withdrawAddress</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">amount</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(255, 203, 107)">Promise</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">any</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Input Parameters:</p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>withdrawAddress</td><td>string</td><td>Account address to receive the withdrawn deposit</td><td>Y</td></tr><tr><td>amount</td><td>string</td><td>Hex value of the withdrawn deposit amount (in lat)</td><td>Y</td></tr></tbody></table><p>Return Parameters:</p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>-</td><td>transaction receipt</td><td>Transaction receipt</td></tr></tbody></table><ol start="11"><li><strong>withdrawToken</strong> Withdraw compensated tokens</li></ol><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">withdrawToken</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">token</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">to</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">amount</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(255, 203, 107)">Promise</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">any</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Input Parameters:</p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>token</td><td>string</td><td>Token address to be withdrawn</td><td>Y</td></tr><tr><td>to</td><td>string</td><td>Account address to receive the withdrawn tokens</td><td>Y</td></tr><tr><td>amount</td><td>string</td><td>Amount of tokens to be withdrawn (in lat)</td><td>Y</td></tr></tbody></table><p>Return Parameters:</p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>-</td><td>transaction receipt</td><td>Transaction receipt</td></tr></tbody></table><ol start="12"><li><strong>getDeposit</strong> Get remaining deposit balance</li></ol><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">getDeposit</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(255, 203, 107)">Promise</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">any</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Input Parameters:</p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>-</td><td>-</td><td>None</td><td>-</td></tr></tbody></table><p>Return Parameters:</p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>-</td><td>number</td><td>Deposit balance</td></tr></tbody></table><ol start="13"><li><strong>getExchangePrice</strong> Get token price information</li></ol><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">getExchangePrice</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">token</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> fetchTokenDecimals</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> boolean</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(255, 203, 107)">Promise</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> </span><span class="token literal-property property">decimals</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> number</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> price</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name">BigNumber</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> tokenDecimals</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token keyword nil" style="font-style:italic">undefined</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> number </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Input Parameters:</p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>token</td><td>string</td><td>Token address</td><td>Y</td></tr><tr><td>fetchTokenDecimals</td><td>boolean</td><td>Whether to fetch token decimals</td><td>N</td></tr></tbody></table><p>Return Parameters:</p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>price</td><td>BigNumber</td><td>Token price</td></tr><tr><td>decimals</td><td>number</td><td>Token price decimals</td></tr><tr><td>tokenDecimals</td><td>number</td><td>Token decimals</td></tr></tbody></table><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="8-useroperation-external-functions"></a>8. UserOperation External Functions<a class="hash-link" href="#8-useroperation-external-functions" title="Direct link to heading">#</a></h2><ol><li><strong>Constructor</strong></li></ol><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">UserOperation</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">sender</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> nonce</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> initCode</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> callData</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> callGasLimit</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> maxFeePerGas</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> maxPriorityFeePerGas</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> paymasterAndData</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> verificationGasLimit</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> preVerificationGas</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> signature</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Return Parameters:</p><table><thead><tr><th>Field Name</th><th>Type</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>sender</td><td>string</td><td>Wallet address that performs the operation (the address of the wallet contract, but the sender&#x27;s EOA address during the first deployment)</td><td>N</td></tr><tr><td>nonce</td><td>number</td><td>Anti-replay parameter set in the wallet, also used as salt for the initial creation of the wallet</td><td>N</td></tr><tr><td>initCode</td><td>string</td><td>All wallet creation in this design is deployed by the predefined wallet template contract (EIP-1167), so this field is empty</td><td>N</td></tr><tr><td>callData</td><td>string</td><td>Data passed by the sender to the main execution call (opcode converted by the wallet from the user&#x27;s request)</td><td>N</td></tr><tr><td>callGasLimit</td><td>number</td><td>Gas allocated for the main execution call (calculated locally, the gas for executing callData)</td><td>N</td></tr><tr><td>maxFeePerGas</td><td>number</td><td>Maximum fee per unit of gas, i.e., gas price (similar to EIP-1559 max_fee_per_gas)</td><td>N</td></tr><tr><td>maxPriorityFeePerGas</td><td>number</td><td>Maximum priority fee per unit of gas, i.e., the fee allocated to miners in EIP-1559 (similar to EIP-1559 max_priority_fee_per_gas)</td><td>N</td></tr><tr><td>paymasterAndData</td><td>string</td><td>Paymaster contract address and data sent to the paymaster, the implementation of the paymaster is not clear yet, and if we use our own paymaster, this value is not needed, set to 0x0</td><td>N</td></tr><tr><td>verificationGasLimit</td><td>number</td><td>Gas allocated for the verification step (gas used in functions validateUserOp()/validatePaymasterUserOp())</td><td>N</td></tr><tr><td>preVerificationGas</td><td>number</td><td>Gas paid to the bundler for compensation pre-verification execution and call data (additional gas prepared to deal with some common gas consumption, such as loops, etc.)</td><td>N</td></tr><tr><td>signature</td><td>string</td><td>Signatures of multiple Owners, multiple Owners sign the UserOperation</td><td>N</td></tr></tbody></table><p>Return Parameter:</p><p>UserOperation</p><ol start="2"><li><strong>addSupportedToken</strong> Serialize UserOperation</li></ol><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token function maybe-class-name" style="color:rgb(130, 170, 255)">Serialized</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">void</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Input Parameter:</p><p>None</p><p>Return Parameter:</p><p>None</p><ol start="3"><li><strong>callDataCost</strong> Calculate the call cost</li></ol><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">callDataCost</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> number</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Input Parameter:</p><p>None</p><p>Return Parameter:</p><table><thead><tr><th>Field Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>-</td><td>BigNumber</td><td>Call cost</td></tr></tbody></table><ol start="4"><li><strong>getStruct</strong> Get the serialized UserOperation</li></ol><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">getStruct</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name">SerializedUserOperation</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Input Parameter:</p><p>None</p><p>Return Parameter:</p><table><thead><tr><th>Field Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>sender</td><td>string</td><td>Wallet address that performs the operation (the address of the wallet contract, but the sender&#x27;s EOA address during the first deployment)</td></tr><tr><td>nonce</td><td>number</td><td>Anti-replay parameter set in the wallet, also used as salt for the initial creation of the wallet</td></tr><tr><td>initCode</td><td>string</td><td>All wallet creation in this design is deployed by the predefined wallet template contract (EIP-1167), so this field is empty</td></tr><tr><td>callData</td><td>string</td><td>Data passed by the sender to the main execution call (opcode converted by the wallet from the user&#x27;s request)</td></tr><tr><td>callGasLimit</td><td>number</td><td>Gas allocated for the main execution call (calculated locally, the gas for executing callData)</td></tr><tr><td>maxFeePerGas</td><td>number</td><td>Maximum fee per unit of gas, i.e., gas price (similar to EIP-1559 max_fee_per_gas)</td></tr><tr><td>maxPriorityFeePerGas</td><td>number</td><td>Maximum priority fee per unit of gas, i.e., the fee allocated to miners in EIP-1559 (similar to EIP-1559 max_priority_fee_per_gas)</td></tr><tr><td>paymasterAndData</td><td>string</td><td>Paymaster contract address and data sent to the paymaster, the implementation of the paymaster is not clear yet, and if we use our own paymaster, this value is not needed, set to 0x0</td></tr><tr><td>verificationGasLimit</td><td>number</td><td>Gas allocated for the verification step (gas used in functions validateUserOp()/validatePaymasterUserOp())</td></tr><tr><td>preVerificationGas</td><td>number</td><td>Gas paid to the bundler for compensation pre-verification execution and call data (additional gas prepared to deal with some common gas consumption, such as loops, etc.)</td></tr><tr><td>signature</td><td>string</td><td>Signatures of multiple Owners, multiple Owners sign the UserOperation</td></tr></tbody></table><ol start="5"><li><strong>getUserOpHash</strong> Get UserOperation Hash</li></ol><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">getUserOpHash</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">entryPointAddress</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> chainId</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> string</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Input Parameter:</p><table><thead><tr><th>Field Name</th><th>Type</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>entryPointAddress</td><td>string</td><td>Entrypoint contract address</td><td>Y</td></tr><tr><td>chainId</td><td>number</td><td>Chain ID</td><td>Y</td></tr></tbody></table><p>Return Parameter:</p><table><thead><tr><th>Field Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>-</td><td>string</td><td>UserOperation hash value</td></tr></tbody></table><ol start="6"><li><strong>getUserOpHashFromContract</strong> Get UserOperation Hash</li></ol><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">getUserOpHashFromContract</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">entryPointAddress</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> etherProvider</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> defaultBlock</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(255, 203, 107)">Promise</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">string</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Input Parameter:</p><table><thead><tr><th>Field Name</th><th>Type</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>entryPointAddress</td><td>string</td><td>Entrypoint contract address</td><td>Y</td></tr><tr><td>etherProvider</td><td>ethers.providers.BaseProvider</td><td>ethers.js provider, e.g., ethers.provider</td><td>Y</td></tr><tr><td>defaultBlock</td><td>string</td><td>&#x27;earliest&#x27;, &#x27;latest&#x27;, &#x27;pending&#x27;, default: &#x27;latest&#x27;</td><td>N</td></tr></tbody></table><p>Return Parameter:</p><table><thead><tr><th>Field Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>-</td><td>string</td><td>UserOperation hash value</td></tr></tbody></table><ol start="7"><li><strong>packUserOp</strong> Assemble EIP-712 information of UserOperation</li></ol><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">packUserOp</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">forSignature</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> string</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Input Parameter:</p><table><thead><tr><th>Field Name</th><th>Type</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>forSignature</td><td>boolean</td><td>Whether it is for computing the EIP-712 information for signature value, true: does not include the signature value; false: includes the signature value</td><td>N</td></tr></tbody></table><p>Return Parameter:</p><table><thead><tr><th>Field Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>-</td><td>string</td><td>EIP-712 information of UserOperation</td></tr></tbody></table><ol start="8"><li><strong>signWithSignature</strong> Fill in the value of the &#x27;signature&#x27; field of UserOperation based on the signature, signature mode, validity period start time, and validity period end time</li></ol><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">signWithSignature</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">signature</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> signatureMode</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> validAfter</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> validUntil</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">void</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Input Parameter:</p><table><thead><tr><th>Field Name</th><th>Type</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>signature</td><td>string</td><td>Signature message</td><td>Y</td></tr><tr><td>signatureMode</td><td>SignatureMode</td><td>Signature mode, 0: owner; 1: guardians; 2: session</td><td>N</td></tr><tr><td>validAfter</td><td>number</td><td>Validity period start time</td><td>N</td></tr><tr><td>validUntil</td><td>number</td><td>Validity period end time</td><td>N</td></tr></tbody></table><p>Return Parameter:</p><p>None</p><ol start="9"><li><strong>toJSON</strong> Convert UserOperation to JSON format information</li></ol><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">toJSON</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> string</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Input Parameter:</p><p>None</p><p>Return Parameter:</p><table><thead><tr><th>Field Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>-</td><td>string</td><td>JSON format information of UserOperation</td></tr></tbody></table><ol start="10"><li><strong>toTuple</strong> Convert UserOperation to tuple format information</li></ol><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">toTuple</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> string</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Input Parameter:</p><p>None</p><p>Return Parameter:</p><table><thead><tr><th>Field Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>-</td><td>string</td><td>Tuple format information of UserOperation</td></tr></tbody></table><ol start="11"><li><strong>fromJSON</strong> Convert JSON format information to UserOperation</li></ol><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">fromJSON</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">json</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name">UserOperation</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Input Parameter:</p><table><thead><tr><th>Field Name</th><th>Type</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>json</td><td>string</td><td>JSON format information of UserOperation</td><td>Y</td></tr></tbody></table><p>Return Parameter:</p><table><thead><tr><th>Field Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>-</td><td>UserOperation</td><td>UserOperation information</td></tr></tbody></table><ol start="12"><li><strong>fromObject</strong> Convert object format information to UserOperation</li></ol><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">fromObject</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">obj</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name">UserOperation</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Input Parameter:</p><table><thead><tr><th>Field Name</th><th>Type</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>obj</td><td>object</td><td>Object format information of UserOperation</td><td>Y</td></tr></tbody></table><p>Return Parameter:</p><table><thead><tr><th>Field Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>-</td><td>UserOperation</td><td>UserOperation information</td></tr></tbody></table><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="9-callbase-external-functions"></a>9. Callbase External Functions<a class="hash-link" href="#9-callbase-external-functions" title="Direct link to heading">#</a></h2><ol><li><strong>createOp</strong> Create UserOperation for calling the wallet (executeFromModule)</li></ol><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">createOp</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token literal-property property">walletAddress</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token literal-property property">nonce</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name">NumberLike</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token literal-property property">paymasterAndData</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token literal-property property">maxFeePerGas</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name">NumberLike</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token literal-property property">maxPriorityFeePerGas</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name">NumberLike</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token literal-property property">callGasLimit</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name">NumberLike</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token literal-property property">verificationGasLimit</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name">NumberLike</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token literal-property property">preVerificationGas</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name">NumberLike</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token literal-property property">data</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name">UserOperation</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Input Parameter:</p><table><thead><tr><th>Field Name</th><th>Type</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>walletAddress</td><td>string</td><td>Wallet address that performs the operation (the address of the wallet contract, but the sender&#x27;s EOA address during the first deployment)</td><td>Y</td></tr><tr><td>nonce</td><td>number</td><td>Anti-replay parameter set in the wallet, also used as salt for the initial creation of the wallet</td><td>Y</td></tr><tr><td>paymasterAndData</td><td>string</td><td>Paymaster contract address and data sent to the paymaster, the implementation of the paymaster is not clear yet, and if we use our own paymaster, this value is not needed, set to 0x0</td><td>Y</td></tr><tr><td>maxFeePerGas</td><td>number</td><td>Maximum fee per unit of gas, i.e., gas price (similar to EIP-1559 max_fee_per_gas)</td><td>Y</td></tr><tr><td>maxPriorityFeePerGas</td><td>number</td><td>Maximum priority fee per unit of gas, i.e., the fee allocated to miners in EIP-1559 (similar to EIP-1559 max_priority_fee_per_gas)</td><td>Y</td></tr><tr><td>callGasLimit</td><td>number</td><td>Gas allocated for the main execution call (calculated locally, the gas for executing callData)</td><td>Y</td></tr><tr><td>verificationGasLimit</td><td>number</td><td>Gas allocated for the verification step (gas used in functions validateUserOp()/validatePaymasterUserOp())</td><td>Y</td></tr><tr><td>preVerificationGas</td><td>number</td><td>Gas paid to the bundler for compensation pre-verification execution and call data (additional gas prepared to deal with some common gas consumption, such as loops, etc.)</td><td>Y</td></tr><tr><td>data</td><td>string</td><td>Parameter for calling the wallet contract&#x27;s executeFromModule (i.e., the encoded call for other wallet functions)</td><td>Y</td></tr></tbody></table><p>Return Parameter:</p><p>UserOperation</p><ol start="2"><li><strong>createOpByBatch</strong> Create UserOperation for calling the wallet (executeBatchFromModule)</li></ol><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">createOpByBatch</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token literal-property property">walletAddress</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token literal-property property">nonce</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name">NumberLike</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token literal-property property">paymasterAndData</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token literal-property property">maxFeePerGas</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name">NumberLike</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token literal-property property">maxPriorityFeePerGas</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name">NumberLike</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token literal-property property">callGasLimit</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name">NumberLike</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token literal-property property">verificationGasLimit</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name">NumberLike</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token literal-property property">preVerificationGas</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name">NumberLike</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token literal-property property">datas</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name">UserOperation</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Input Parameter:</p><table><thead><tr><th>Field Name</th><th>Type</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>walletAddress</td><td>string</td><td>Wallet address that performs the operation (the address of the wallet contract, but the sender&#x27;s EOA address during the first deployment)</td><td>Y</td></tr><tr><td>nonce</td><td>number</td><td>Anti-replay parameter set in the wallet, also used as salt for the initial creation of the wallet</td><td>Y</td></tr><tr><td>paymasterAndData</td><td>string</td><td>Paymaster contract address and data sent to the paymaster, the implementation of the paymaster is not clear yet, and if we use our own paymaster, this value is not needed, set to 0x0</td><td>Y</td></tr><tr><td>maxFeePerGas</td><td>number</td><td>Maximum fee per unit of gas, i.e., gas price (similar to EIP-1559 max_fee_per_gas)</td><td>Y</td></tr><tr><td>maxPriorityFeePerGas</td><td>number</td><td>Maximum priority fee per unit of gas, i.e., the fee allocated to miners in EIP-1559 (similar to EIP-1559 max_priority_fee_per_gas)</td><td>Y</td></tr><tr><td>callGasLimit</td><td>number</td><td>Gas allocated for the main execution call (calculated locally, the gas for executing callData)</td><td>Y</td></tr><tr><td>verificationGasLimit</td><td>number</td><td>Gas allocated for the verification step (gas used in functions validateUserOp()/validatePaymasterUserOp())</td><td>Y</td></tr><tr><td>preVerificationGas</td><td>number</td><td>Gas paid to the bundler for compensation pre-verification execution and call data (additional gas prepared to deal with some common gas consumption, such as loops, etc.)</td><td>Y</td></tr><tr><td>datas</td><td>string[]</td><td>Parameters for calling the wallet contract&#x27;s executeBatchFromModule (i.e., the encoded calls for other wallet functions)</td><td>Y</td></tr></tbody></table><p>Return Parameter:</p><p>UserOperation</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="10-erc20-external-functions"></a>10. ERC20 External Functions<a class="hash-link" href="#10-erc20-external-functions" title="Direct link to heading">#</a></h2><ol><li><strong>Constructor</strong></li></ol><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">ERC20</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Input Parameter:</p><p>None</p><p>Return Parameter:</p><p>ERC20</p><ol start="2"><li><strong>approve</strong> Create UserOperation for calling the &#x27;approve&#x27; function of ERC20</li></ol><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">approve</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">walletAddress</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">nonce</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name">NumberLike</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">paymasterAddress</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token literal-property property">maxFeePerGas</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name">NumberLike</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">maxPriorityFeePerGas</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name">NumberLike</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">callGasLimit</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name">NumberLike</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token literal-property property">verificationGasLimit</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name">NumberLike</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">preVerificationGas</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name">NumberLike</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">_token</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">_spender</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">_value</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name">UserOperation</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Input Parameter:</p><table><thead><tr><th>Field Name</th><th>Type</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>walletAddress</td><td>string</td><td>Wallet address</td><td>Y</td></tr><tr><td>nonce</td><td>number</td><td>Wallet nonce</td><td>Y</td></tr><tr><td>paymasterAddress</td><td>string</td><td>Paymaster address</td><td>Y</td></tr><tr><td>maxFeePerGas</td><td>number</td><td>Maximum fee per unit of gas, i.e., gas price (similar to EIP-1559 max_fee_per_gas)</td><td>Y</td></tr><tr><td>maxPriorityFeePerGas</td><td>number</td><td>Maximum priority fee per unit of gas, i.e., the fee allocated to miners in EIP-1559 (similar to EIP-1559 max_priority_fee_per_gas)</td><td>Y</td></tr><tr><td>callGasLimit</td><td>number</td><td>Gas allocated for the main execution call (calculated locally, the gas for executing callData)</td><td>Y</td></tr><tr><td>verificationGasLimit</td><td>number</td><td>Gas allocated for the verification step (gas used in functions validateUserOp()/validatePaymasterUserOp())</td><td>Y</td></tr><tr><td>preVerificationGas</td><td>number</td><td>Gas paid to the bundler for compensation pre-verification execution and call data (additional gas prepared to deal with some common gas consumption, such as loops, etc.)</td><td>Y</td></tr><tr><td><code>_token</code></td><td>string</td><td>ERC20 token address to operate on</td><td>Y</td></tr><tr><td><code>_spender</code></td><td>string</td><td>The <code>_spender</code> parameter for &#x27;approve&#x27;</td><td>Y</td></tr><tr><td><code>_value</code></td><td>string</td><td>The <code>_value</code> parameter for &#x27;approve&#x27;</td><td>Y</td></tr></tbody></table><p>Return Parameter:</p><p>UserOperation</p><ol start="3"><li><strong>transferFrom</strong> Create UserOperation for calling the &#x27;transferFrom&#x27; function of ERC20</li></ol><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">transferFrom</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">walletAddress</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">nonce</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name">NumberLike</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">paymasterAddress</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                 </span><span class="token literal-property property">maxFeePerGas</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name">NumberLike</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">maxPriorityFeePerGas</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name">NumberLike</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">callGasLimit</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name">NumberLike</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                 </span><span class="token literal-property property">verificationGasLimit</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name">NumberLike</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">preVerificationGas</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name">NumberLike</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">_token</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">_from</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">_to</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">_value</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name">UserOperation</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Input Parameter:</p><table><thead><tr><th>Field Name</th><th>Type</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>walletAddress</td><td>string</td><td>Wallet address</td><td>Y</td></tr><tr><td>nonce</td><td>number</td><td>Wallet nonce</td><td>Y</td></tr><tr><td>paymasterAddress</td><td>string</td><td>Paymaster address</td><td>Y</td></tr><tr><td>maxFeePerGas</td><td>number</td><td>Maximum fee per unit of gas, i.e., gas price (similar to EIP-1559 max_fee_per_gas)</td><td>Y</td></tr><tr><td>maxPriorityFeePerGas</td><td>number</td><td>Maximum priority fee per unit of gas, i.e., the fee allocated to miners in EIP-1559 (similar to EIP-1559 max_priority_fee_per_gas)</td><td>Y</td></tr><tr><td>callGasLimit</td><td>number</td><td>Gas allocated for the main execution call (calculated locally, the gas for executing callData)</td><td>Y</td></tr><tr><td>verificationGasLimit</td><td>number</td><td>Gas allocated for the verification step (gas used in functions validateUserOp()/validatePaymasterUserOp())</td><td>Y</td></tr><tr><td>preVerificationGas</td><td>number</td><td>Gas paid to the bundler for compensation pre-verification execution and call data (additional gas prepared to deal with some common gas consumption, such as loops, etc.)</td><td>Y</td></tr><tr><td><code>_token</code></td><td>string</td><td>ERC20 token address to operate on</td><td>Y</td></tr><tr><td><code>_from</code></td><td>string</td><td>The <code>_from</code> parameter for &#x27;transferFrom&#x27;</td><td>Y</td></tr><tr><td><code>_to</code></td><td>string</td><td>The <code>_to</code> parameter for &#x27;transferFrom&#x27;</td><td>Y</td></tr><tr><td><code>_value</code></td><td>string</td><td>The <code>_value</code> parameter for &#x27;transferFrom&#x27;</td><td>Y</td></tr></tbody></table><p>Return Parameter:</p><p>UserOperation</p><ol start="4"><li><strong>transfer</strong> Create UserOperation for calling the &#x27;transfer&#x27; function of ERC20</li></ol><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">transfer</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">walletAddress</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">nonce</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name">NumberLike</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">paymasterAddress</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">             </span><span class="token literal-property property">maxFeePerGas</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name">NumberLike</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">maxPriorityFeePerGas</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name">NumberLike</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">callGasLimit</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name">NumberLike</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">             </span><span class="token literal-property property">verificationGasLimit</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name">NumberLike</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">preVerificationGas</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name">NumberLike</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">_token</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">_to</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">_value</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name">UserOperation</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Input Parameter:</p><table><thead><tr><th>Field Name</th><th>Type</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>walletAddress</td><td>string</td><td>Wallet address</td><td>Y</td></tr><tr><td>nonce</td><td>number</td><td>Wallet nonce</td><td>Y</td></tr><tr><td>paymasterAddress</td><td>string</td><td>Paymaster address</td><td>Y</td></tr><tr><td>maxFeePerGas</td><td>number</td><td>Maximum fee per unit of gas, i.e., gas price (similar to EIP-1559 max_fee_per_gas)</td><td>Y</td></tr><tr><td>maxPriorityFeePerGas</td><td>number</td><td>Maximum priority fee per unit of gas, i.e., the fee allocated to miners in EIP-1559 (similar to EIP-1559 max_priority_fee_per_gas)</td><td>Y</td></tr><tr><td>callGasLimit</td><td>number</td><td>Gas allocated for the main execution call (calculated locally, the gas for executing callData)</td><td>Y</td></tr><tr><td>verificationGasLimit</td><td>number</td><td>Gas allocated for the verification step (gas used in functions validateUserOp()/validatePaymasterUserOp())</td><td>Y</td></tr><tr><td>preVerificationGas</td><td>number</td><td>Gas paid to the bundler for compensation pre-verification execution and call data (additional gas prepared to deal with some common gas consumption, such as loops, etc.)</td><td>Y</td></tr><tr><td><code>_token</code></td><td>string</td><td>ERC20 token address to operate on</td><td>Y</td></tr><tr><td><code>_to</code></td><td>string</td><td>The <code>_to</code> parameter for &#x27;transfer&#x27;</td><td>Y</td></tr><tr><td><code>_value</code></td><td>string</td><td>The <code>_value</code> parameter for &#x27;transfer&#x27;</td><td>Y</td></tr></tbody></table><p>Return Parameter:</p><p>UserOperation</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="11-erc721-external-functions"></a>11. ERC721 External Functions<a class="hash-link" href="#11-erc721-external-functions" title="Direct link to heading">#</a></h2><ol><li><strong>Constructor</strong></li></ol><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">ERC721</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Input Parameter:</p><p>None</p><p>Return Parameter:</p><p>ERC721</p><ol start="2"><li><strong>approve</strong> Create UserOperation for calling the &#x27;approve&#x27; function of ERC721</li></ol><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">approve</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">walletAddress</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">nonce</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name">NumberLike</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">paymasterAddress</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token literal-property property">maxFeePerGas</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name">NumberLike</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">maxPriorityFeePerGas</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name">NumberLike</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">callGasLimit</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name">NumberLike</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token literal-property property">verificationGasLimit</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name">NumberLike</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">preVerificationGas</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name">NumberLike</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">_token</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">_spender</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">_tokenId</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name">UserOperation</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Input Parameter:</p><table><thead><tr><th>Field Name</th><th>Type</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>walletAddress</td><td>string</td><td>Wallet address</td><td>Y</td></tr><tr><td>nonce</td><td>number</td><td>Wallet nonce</td><td>Y</td></tr><tr><td>paymasterAddress</td><td>string</td><td>Paymaster address</td><td>Y</td></tr><tr><td>maxFeePerGas</td><td>number</td><td>Maximum fee per unit of gas, i.e., gas price (similar to EIP-1559 max_fee_per_gas)</td><td>Y</td></tr><tr><td>maxPriorityFeePerGas</td><td>number</td><td>Maximum priority fee per unit of gas, i.e., the fee allocated to miners in EIP-1559 (similar to EIP-1559 max_priority_fee_per_gas)</td><td>Y</td></tr><tr><td>callGasLimit</td><td>number</td><td>Gas allocated for the main execution call (calculated locally, the gas for executing callData)</td><td>Y</td></tr><tr><td>verificationGasLimit</td><td>number</td><td>Gas allocated for the verification step (gas used in functions validateUserOp()/validatePaymasterUserOp())</td><td>Y</td></tr><tr><td>preVerificationGas</td><td>number</td><td>Gas paid to the bundler for compensation pre-verification execution and call data (additional gas prepared to deal with some common gas consumption, such as loops, etc.)</td><td>Y</td></tr><tr><td><code>_token</code></td><td>string</td><td>ERC20 token address to operate on</td><td>Y</td></tr><tr><td><code>_spender</code></td><td>string</td><td>The <code>_spender</code> parameter for &#x27;approve&#x27;</td><td>Y</td></tr><tr><td><code>_tokenId</code></td><td>string</td><td>The <code>_tokenId</code> parameter for &#x27;approve&#x27;</td><td>Y</td></tr></tbody></table><p>Return Parameter:</p><p>UserOperation</p><ol start="3"><li><strong>transferFrom</strong> Create UserOperation for calling the &#x27;transferFrom&#x27; function of ERC721</li></ol><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">transferFrom</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">walletAddress</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">nonce</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name">NumberLike</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">paymasterAddress</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">             </span><span class="token literal-property property">maxFeePerGas</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name">NumberLike</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">maxPriorityFeePerGas</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name">NumberLike</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">callGasLimit</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name">NumberLike</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">             </span><span class="token literal-property property">verificationGasLimit</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name">NumberLike</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">preVerificationGas</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name">NumberLike</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">_token</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">_from</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">_to</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">_tokenId</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name">UserOperation</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Input Parameter:</p><table><thead><tr><th>Field Name</th><th>Type</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>walletAddress</td><td>string</td><td>Wallet address</td><td>Y</td></tr><tr><td>nonce</td><td>number</td><td>Wallet nonce</td><td>Y</td></tr><tr><td>paymasterAddress</td><td>string</td><td>Paymaster address</td><td>Y</td></tr><tr><td>maxFeePerGas</td><td>number</td><td>Maximum fee per unit of gas, i.e., gas price (similar to EIP-1559 max_fee_per_gas)</td><td>Y</td></tr><tr><td>maxPriorityFeePerGas</td><td>number</td><td>Maximum priority fee per unit of gas, i.e., the fee allocated to miners in EIP-1559 (similar to EIP-1559 max_priority_fee_per_gas)</td><td>Y</td></tr><tr><td>callGasLimit</td><td>number</td><td>Gas allocated for the main execution call (calculated locally, the gas for executing callData)</td><td>Y</td></tr><tr><td>verificationGasLimit</td><td>number</td><td>Gas allocated for the verification step (gas used in functions validateUserOp()/validatePaymasterUserOp())</td><td>Y</td></tr><tr><td>preVerificationGas</td><td>number</td><td>Gas paid to the bundler for compensation pre-verification execution and call data (additional gas prepared to deal with some common gas consumption, such as loops, etc.)</td><td>Y</td></tr><tr><td><code>_token</code></td><td>string</td><td>ERC20 token address to operate on</td><td>Y</td></tr><tr><td><code>_from</code></td><td>string</td><td>The <code>_from</code> parameter for &#x27;transferFrom&#x27;</td><td>Y</td></tr><tr><td><code>_to</code></td><td>string</td><td>The <code>_to</code> parameter for &#x27;transferFrom&#x27;</td><td>Y</td></tr><tr><td><code>_tokenId</code></td><td>string</td><td>The <code>_tokenId</code> parameter for &#x27;transferFrom&#x27;</td><td>Y</td></tr></tbody></table><p>Return Parameter:</p><p>UserOperation</p><ol start="4"><li><strong>transfer</strong> Create UserOperation for calling the &#x27;transfer&#x27; function of ERC721</li></ol><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">transfer</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">walletAddress</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">nonce</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name">NumberLike</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">paymasterAddress</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">         </span><span class="token literal-property property">maxFeePerGas</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name">NumberLike</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">maxPriorityFeePerGas</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name">NumberLike</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">callGasLimit</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name">NumberLike</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">         </span><span class="token literal-property property">verificationGasLimit</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name">NumberLike</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">preVerificationGas</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name">NumberLike</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">_token</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">_to</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">_tokenId</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name">UserOperation</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Input Parameter:</p><table><thead><tr><th>Field Name</th><th>Type</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>walletAddress</td><td>string</td><td>Wallet address</td><td>Y</td></tr><tr><td>nonce</td><td>number</td><td>Wallet nonce</td><td>Y</td></tr><tr><td>paymasterAddress</td><td>string</td><td>Paymaster address</td><td>Y</td></tr><tr><td>maxFeePerGas</td><td>number</td><td>Maximum fee per unit of gas, i.e., gas price (similar to EIP-1559 max_fee_per_gas)</td><td>Y</td></tr><tr><td>maxPriorityFeePerGas</td><td>number</td><td>Maximum priority fee per unit of gas, i.e., the fee allocated to miners in EIP-1559 (similar to EIP-1559 max_priority_fee_per_gas)</td><td>Y</td></tr><tr><td>callGasLimit</td><td>number</td><td>Gas allocated for the main execution call (calculated locally, the gas for executing callData)</td><td>Y</td></tr><tr><td>verificationGasLimit</td><td>number</td><td>Gas allocated for the verification step (gas used in functions validateUserOp()/validatePaymasterUserOp())</td><td>Y</td></tr><tr><td>preVerificationGas</td><td>number</td><td>Gas paid to the bundler for compensation pre-verification execution and call data (additional gas prepared to deal with some common gas consumption, such as loops, etc.)</td><td>Y</td></tr><tr><td><code>_token</code></td><td>string</td><td>ERC20 token address to operate on</td><td>Y</td></tr><tr><td><code>_to</code></td><td>string</td><td>The <code>_to</code> parameter for &#x27;transfer&#x27;</td><td>Y</td></tr><tr><td><code>_tokenId</code></td><td>string</td><td>The <code>_tokenId</code> parameter for &#x27;transfer&#x27;</td><td>Y</td></tr></tbody></table><p>Return Parameter:</p><p>UserOperation</p><ol start="5"><li><strong>safeTransferFrom</strong> Create UserOperation for calling the &#x27;safeTransferFrom&#x27; function of ERC721</li></ol><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">safeTransferFrom</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">walletAddress</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">nonce</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name">NumberLike</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">paymasterAddress</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                 </span><span class="token literal-property property">maxFeePerGas</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name">NumberLike</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">maxPriorityFeePerGas</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name">NumberLike</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">callGasLimit</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name">NumberLike</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                 </span><span class="token literal-property property">verificationGasLimit</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name">NumberLike</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">preVerificationGas</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name">NumberLike</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">_token</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">_from</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">_to</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">_tokenId</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name">UserOperation</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Input Parameter:</p><table><thead><tr><th>Field Name</th><th>Type</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>walletAddress</td><td>string</td><td>Wallet address</td><td>Y</td></tr><tr><td>nonce</td><td>number</td><td>Wallet nonce</td><td>Y</td></tr><tr><td>paymasterAddress</td><td>string</td><td>Paymaster address</td><td>Y</td></tr><tr><td>maxFeePerGas</td><td>number</td><td>Maximum fee per unit of gas, i.e., gas price (similar to EIP-1559 max_fee_per_gas)</td><td>Y</td></tr><tr><td>maxPriorityFeePerGas</td><td>number</td><td>Maximum priority fee per unit of gas, i.e., the fee allocated to miners in EIP-1559 (similar to EIP-1559 max_priority_fee_per_gas)</td><td>Y</td></tr><tr><td>callGasLimit</td><td>number</td><td>Gas allocated for the main execution call (calculated locally, the gas for executing callData)</td><td>Y</td></tr><tr><td>verificationGasLimit</td><td>number</td><td>Gas allocated for the verification step (gas used in functions validateUserOp()/validatePaymasterUserOp())</td><td>Y</td></tr><tr><td>preVerificationGas</td><td>number</td><td>Gas paid to the bundler for compensation pre-verification execution and call data (additional gas prepared to deal with some common gas consumption, such as loops, etc.)</td><td>Y</td></tr><tr><td><code>_token</code></td><td>string</td><td>ERC20 token address to operate on</td><td>Y</td></tr><tr><td><code>_from</code></td><td>string</td><td>The <code>_from</code> parameter for &#x27;safeTransferFrom&#x27;</td><td>Y</td></tr><tr><td><code>_to</code></td><td>string</td><td>The <code>_to</code> parameter for &#x27;safeTransferFrom&#x27;</td><td>Y</td></tr><tr><td><code>_tokenId</code></td><td>string</td><td>The <code>_tokenId</code> parameter for &#x27;safeTransferFrom&#x27;</td><td>Y</td></tr></tbody></table><p>Return Parameter:</p><p>UserOperation</p><ol start="6"><li><strong>setApprovalForAll</strong> Create UserOperation for calling the &#x27;setApprovalForAll&#x27; function of ERC721</li></ol><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">setApprovalForAll</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">walletAddress</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">nonce</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name">NumberLike</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">paymasterAddress</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                  </span><span class="token literal-property property">maxFeePerGas</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name">NumberLike</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">maxPriorityFeePerGas</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name">NumberLike</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">callGasLimit</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name">NumberLike</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                  </span><span class="token literal-property property">verificationGasLimit</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name">NumberLike</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">preVerificationGas</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name">NumberLike</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">_token</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">_operator</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">_approved</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> boolean</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name">UserOperation</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Input Parameter:</p><table><thead><tr><th>Field Name</th><th>Type</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>walletAddress</td><td>string</td><td>Wallet address</td><td>Y</td></tr><tr><td>nonce</td><td>number</td><td>Wallet nonce</td><td>Y</td></tr><tr><td>paymasterAddress</td><td>string</td><td>Paymaster address</td><td>Y</td></tr><tr><td>maxFeePerGas</td><td>number</td><td>Maximum fee per unit of gas, i.e., gas price (similar to EIP-1559 max_fee_per_gas)</td><td>Y</td></tr><tr><td>maxPriorityFeePerGas</td><td>number</td><td>Maximum priority fee per unit of gas, i.e., the fee allocated to miners in EIP-1559 (similar to EIP-1559 max_priority_fee_per_gas)</td><td>Y</td></tr><tr><td>callGasLimit</td><td>number</td><td>Gas allocated for the main execution call (calculated locally, the gas for executing callData)</td><td>Y</td></tr><tr><td>verificationGasLimit</td><td>number</td><td>Gas allocated for the verification step (gas used in functions validateUserOp()/validatePaymasterUserOp())</td><td>Y</td></tr><tr><td>preVerificationGas</td><td>number</td><td>Gas paid to the bundler for compensation pre-verification execution and call data (additional gas prepared to deal with some common gas consumption, such as loops, etc.)</td><td>Y</td></tr><tr><td><code>_token</code></td><td>string</td><td>ERC20 token address to operate on</td><td>Y</td></tr><tr><td><code>_operator</code></td><td>string</td><td>The <code>_operator</code> parameter for &#x27;setApprovalForAll&#x27;</td><td>Y</td></tr><tr><td><code>_approved</code></td><td>boolean</td><td>The <code>_approved</code> parameter for &#x27;setApprovalForAll&#x27;</td><td>Y</td></tr></tbody></table><p>Return Parameter:</p><p>UserOperation</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="12-erc1155-external-functions"></a>12. ERC1155 External Functions<a class="hash-link" href="#12-erc1155-external-functions" title="Direct link to heading">#</a></h2><ol><li><strong>Constructor</strong></li></ol><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">ERC1155</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Input Parameter:</p><p>None</p><p>Return Parameter:</p><p>ERC1155</p><ol start="2"><li><strong>safeTransferFrom</strong> Create UserOperation for calling the &#x27;safeTransferFrom&#x27; function of ERC1155</li></ol><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">safeTransferFrom</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">walletAddress</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">nonce</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name">NumberLike</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">paymasterAddress</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                 </span><span class="token literal-property property">maxFeePerGas</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name">NumberLike</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">maxPriorityFeePerGas</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name">NumberLike</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">callGasLimit</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name">NumberLike</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                 </span><span class="token literal-property property">verificationGasLimit</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name">NumberLike</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">preVerificationGas</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name">NumberLike</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">_token</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">_from</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">_to</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">_id</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">_value</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">_data</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain">  </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name">UserOperation</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Input Parameter:</p><table><thead><tr><th>Field Name</th><th>Type</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>walletAddress</td><td>string</td><td>Wallet address</td><td>Y</td></tr><tr><td>nonce</td><td>number</td><td>Wallet nonce</td><td>Y</td></tr><tr><td>paymasterAddress</td><td>string</td><td>Paymaster address</td><td>Y</td></tr><tr><td>maxFeePerGas</td><td>number</td><td>Maximum fee per unit of gas, i.e., gas price (similar to EIP-1559 max_fee_per_gas)</td><td>Y</td></tr><tr><td>maxPriorityFeePerGas</td><td>number</td><td>Maximum priority fee per unit of gas, i.e., the fee allocated to miners in EIP-1559 (similar to EIP-1559 max_priority_fee_per_gas)</td><td>Y</td></tr><tr><td>callGasLimit</td><td>number</td><td>Gas allocated for the main execution call (calculated locally, the gas for executing callData)</td><td>Y</td></tr><tr><td>verificationGasLimit</td><td>number</td><td>Gas allocated for the verification step (gas used in functions validateUserOp()/validatePaymasterUserOp())</td><td>Y</td></tr><tr><td>preVerificationGas</td><td>number</td><td>Gas paid to the bundler for compensation pre-verification execution and call data (additional gas prepared to deal with some common gas consumption, such as loops, etc.)</td><td>Y</td></tr><tr><td><code>_token</code></td><td>string</td><td>ERC20 token address to operate on</td><td>Y</td></tr><tr><td><code>_from</code></td><td>string</td><td>The _from parameter for &#x27;safeTransferFrom&#x27;</td><td>Y</td></tr><tr><td><code>_to</code></td><td>string</td><td>The _to parameter for &#x27;safeTransferFrom&#x27;</td><td>Y</td></tr><tr><td><code>_id</code></td><td>string</td><td>The _id parameter for &#x27;safeTransferFrom&#x27;</td><td>Y</td></tr><tr><td><code>_value</code></td><td>string</td><td>The _value parameter for &#x27;safeTransferFrom&#x27;</td><td>Y</td></tr><tr><td><code>_data</code></td><td>string</td><td>The _data parameter for &#x27;safeTransferFrom&#x27;</td><td>Y</td></tr></tbody></table><p>Return Parameter:</p><p>UserOperation</p><ol start="3"><li><strong>safeBatchTransferFrom</strong> Create UserOperation for calling the &#x27;safeBatchTransferFrom&#x27; function of ERC1155</li></ol><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">safeBatchTransferFrom</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">walletAddress</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">nonce</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name">NumberLike</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">paymasterAddress</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                      </span><span class="token literal-property property">maxFeePerGas</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name">NumberLike</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">maxPriorityFeePerGas</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name">NumberLike</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">callGasLimit</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name">NumberLike</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                      </span><span class="token literal-property property">verificationGasLimit</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name">NumberLike</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">preVerificationGas</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name">NumberLike</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">_token</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">_from</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">_to</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">_ids</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">_values</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">_data</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name">UserOperation</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Input Parameter:</p><table><thead><tr><th>Field Name</th><th>Type</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>walletAddress</td><td>string</td><td>Wallet address</td><td>Y</td></tr><tr><td>nonce</td><td>number</td><td>Wallet nonce</td><td>Y</td></tr><tr><td>paymasterAddress</td><td>string</td><td>Paymaster address</td><td>Y</td></tr><tr><td>maxFeePerGas</td><td>number</td><td>Maximum fee per unit of gas, i.e., gas price (similar to EIP-1559 max_fee_per_gas)</td><td>Y</td></tr><tr><td>maxPriorityFeePerGas</td><td>number</td><td>Maximum priority fee per unit of gas, i.e., the fee allocated to miners in EIP-1559 (similar to EIP-1559 max_priority_fee_per_gas)</td><td>Y</td></tr><tr><td>callGasLimit</td><td>number</td><td>Gas allocated for the main execution call (calculated locally, the gas for executing callData)</td><td>Y</td></tr><tr><td>verificationGasLimit</td><td>number</td><td>Gas allocated for the verification step (gas used in functions validateUserOp()/validatePaymasterUserOp())</td><td>Y</td></tr><tr><td>preVerificationGas</td><td>number</td><td>Gas paid to the bundler for compensation pre-verification execution and call data (additional gas prepared to deal with some common gas consumption, such as loops, etc.)</td><td>Y</td></tr><tr><td><code>_token</code></td><td>string</td><td>ERC20 token address to operate on</td><td>Y</td></tr><tr><td><code>_from</code></td><td>string</td><td>The _from parameter for &#x27;safeBatchTransferFrom&#x27;</td><td>Y</td></tr><tr><td><code>_to</code></td><td>string</td><td>The _to parameter for &#x27;safeBatchTransferFrom&#x27;</td><td>Y</td></tr><tr><td><code>_ids</code></td><td>string</td><td>The _ids parameter for &#x27;safeBatchTransferFrom&#x27;</td><td>Y</td></tr><tr><td><code>_values</code></td><td>string</td><td>The _values parameter for &#x27;safeBatchTransferFrom&#x27;</td><td>Y</td></tr><tr><td><code>_data</code></td><td>string</td><td>The _data parameter for &#x27;safeBatchTransferFrom&#x27;</td><td>Y</td></tr></tbody></table><p>Return Parameter:</p><p>UserOperation</p><ol start="4"><li><strong>setApprovalForAll</strong> Create UserOperation for calling the &#x27;setApprovalForAll&#x27; function of ERC1155</li></ol><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">setApprovalForAll</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">walletAddress</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">nonce</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name">NumberLike</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">paymasterAddress</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                  </span><span class="token literal-property property">maxFeePerGas</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name">NumberLike</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">maxPriorityFeePerGas</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name">NumberLike</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">callGasLimit</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name">NumberLike</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                  </span><span class="token literal-property property">verificationGasLimit</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name">NumberLike</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">preVerificationGas</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name">NumberLike</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">_token</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">_operator</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">_approved</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> boolean</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name">UserOperation</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Input Parameter:</p><table><thead><tr><th>Field Name</th><th>Type</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>walletAddress</td><td>string</td><td>Wallet address</td><td>Y</td></tr><tr><td>nonce</td><td>number</td><td>Wallet nonce</td><td>Y</td></tr><tr><td>paymasterAddress</td><td>string</td><td>Paymaster address</td><td>Y</td></tr><tr><td>maxFeePerGas</td><td>number</td><td>Maximum fee per unit of gas, i.e., gas price (similar to EIP-1559 max_fee_per_gas)</td><td>Y</td></tr><tr><td>maxPriorityFeePerGas</td><td>number</td><td>Maximum priority fee per unit of gas, i.e., the fee allocated to miners in EIP-1559 (similar to EIP-1559 max_priority_fee_per_gas)</td><td>Y</td></tr><tr><td>callGasLimit</td><td>number</td><td>Gas allocated for the main execution call (calculated locally, the gas for executing callData)</td><td>Y</td></tr><tr><td>verificationGasLimit</td><td>number</td><td>Gas allocated for the verification step (gas used in functions validateUserOp()/validatePaymasterUserOp())</td><td>Y</td></tr><tr><td>preVerificationGas</td><td>number</td><td>Gas paid to the bundler for compensation pre-verification execution and call data (additional gas prepared to deal with some common gas consumption, such as loops, etc.)</td><td>Y</td></tr><tr><td><code>_token</code></td><td>string</td><td>ERC20 token address to operate on</td><td>Y</td></tr><tr><td><code>_operator</code></td><td>string</td><td>The _operator parameter for &#x27;setApprovalForAll&#x27;</td><td>Y</td></tr><tr><td><code>_approved</code></td><td>string</td><td>The _approved parameter for &#x27;setApprovalForAll&#x27;</td><td>Y</td></tr></tbody></table><p>Return Parameter:</p><p>UserOperation</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="13-lat-external-functions"></a>13. LAT External Functions<a class="hash-link" href="#13-lat-external-functions" title="Direct link to heading">#</a></h2><ol><li><strong>Constructor</strong></li></ol><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">LAT</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Input Parameter:</p><p>None</p><p>Return Parameter:</p><p>LAT</p><ol start="2"><li><strong>transfer</strong> Create UserOperation for calling the &#x27;transfer&#x27; function of LAT</li></ol><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">transfer</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">walletAddress</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token literal-property property">nonce</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name">NumberLike</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">paymasterAddress</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token literal-property property">maxFeePerGas</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name">NumberLike</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">maxPriorityFeePerGas</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name">NumberLike</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">to</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">value</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name">UserOperation</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Input Parameter:</p><table><thead><tr><th>Field Name</th><th>Type</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>walletAddress</td><td>string</td><td>Wallet address</td><td>Y</td></tr><tr><td>nonce</td><td>number</td><td>Wallet nonce</td><td>Y</td></tr><tr><td>paymasterAddress</td><td>string</td><td>Paymaster address</td><td>Y</td></tr><tr><td>maxFeePerGas</td><td>number</td><td>Maximum fee per unit of gas, i.e., gas price (similar to EIP-1559 max_fee_per_gas)</td><td>Y</td></tr><tr><td>maxPriorityFeePerGas</td><td>number</td><td>Maximum priority fee per unit of gas, i.e., the fee allocated to miners in EIP-1559 (similar to EIP-1559 max_priority_fee_per_gas)</td><td>Y</td></tr><tr><td>to</td><td>string</td><td>Recipient&#x27;s LAT account address</td><td>Y</td></tr><tr><td>value</td><td>string</td><td>Amount of LAT to transfer</td><td>Y</td></tr></tbody></table><p>Return Parameter:</p><p>UserOperation</p></blockquote></div><footer class="row docusaurus-mt-lg"><div class="col"><a href="https://github.com/PlatONnetwork/docs/tree/master/docs/PlaTrust钱包js-sdk-api说明.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_mS5F" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_wj+Z"></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/PlaTrust-wallet-js-sdk"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« PlaTrust Wallet js-sdk</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/community"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Community Projects »</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_vrFS thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#1-enumerations-enum" class="table-of-contents__link">1. Enumerations (enum)</a></li><li><a href="#2-classes-class" class="table-of-contents__link">2. Classes (class)</a></li><li><a href="#3-interfaces-interface" class="table-of-contents__link">3. Interfaces (interface)</a></li><li><a href="#4-global-functions" class="table-of-contents__link">4. Global Functions</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><ul class="footer__items"><li class="footer__item"><a href="https://www.platon.network/en" target="_blank" class="footer-logo-home" rel="noreferrer noopener"><img src="/docs/img/PlatON-logo2.svg" width="66" height="58"></a></li></ul></div><div class="col footer__col"><ul class="footer__items"><li class="footer__item"><a href="https://www.platon.network/en" target="_blank" rel="noopener noreferrer" class="footer__link-item" hrefzh="https://www.platon.network/">PlatON network</a></li><li class="footer__item"><a href="https://latticex.foundation/home" target="_blank" rel="noopener noreferrer" class="footer__link-item" hrefzh="https://latticex.foundation/home">LatticeX.Foundation</a></li><li class="footer__item"><a href="https://forum.latticex.foundation/" target="_blank" rel="noopener noreferrer" class="footer__link-item" hrefzh="https://forum.latticex.foundation/">Forum</a></li></ul></div><div class="gitstar"><a class="github-button" href="https://github.com/PlatONnetwork/PlatON-Go" data-color-scheme="no-preference: light; light: light; dark: light;" data-icon="octicon-star" data-size="small" data-show-count="true" aria-label="Star PlatONnetwork/PlatON-Go on GitHub">Star</a></div></div><div class="footer__bottom text--center"><div class="footer__copyright">COPYRIGHT  © 2023 PLATON NETWORK.</div></div></div></footer></div>
<script src="/docs/assets/js/runtime~main.86ddb8e0.js"></script>
<script src="/docs/assets/js/main.f09feca8.js"></script>
</body>
</html>