"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[5769],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>m});var a=n(7294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function r(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},s=Object.keys(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var l=a.createContext({}),c=function(e){var t=a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},u=function(e){var t=c(e.components);return a.createElement(l.Provider,{value:t},e.children)},h="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},p=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,s=e.originalType,l=e.parentName,u=r(e,["components","mdxType","originalType","parentName"]),h=c(n),p=i,m=h["".concat(l,".").concat(p)]||h[p]||d[p]||s;return n?a.createElement(m,o(o({ref:t},u),{},{components:n})):a.createElement(m,o({ref:t},u))}));function m(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var s=n.length,o=new Array(s);o[0]=p;var r={};for(var l in t)hasOwnProperty.call(t,l)&&(r[l]=t[l]);r.originalType=e,r[h]="string"==typeof e?e:i,o[1]=r;for(var c=2;c<s;c++)o[c]=n[c];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}p.displayName="MDXCreateElement"},4452:(e,t,n)=>{n.r(t),n.d(t,{contentTitle:()=>o,default:()=>h,frontMatter:()=>s,metadata:()=>r,toc:()=>l});var a=n(7462),i=(n(7294),n(3905));const s={id:"PlaTrust_Wallet",title:"PlaTrust Wallet",sidebar_label:"PlaTrust Wallet"},o="PlaTrust Wallet",r={unversionedId:"PlaTrust_Wallet",id:"PlaTrust_Wallet",isDocsHomePage:!1,title:"PlaTrust Wallet",description:"Preface",source:"@site/../docs/PlaTrust\u94b1\u5305.md",sourceDirName:".",slug:"/PlaTrust_Wallet",permalink:"/docs/en/PlaTrust_Wallet",editUrl:"https://github.com/PlatONnetwork/docs/tree/master/docs/PlaTrust\u94b1\u5305.md",version:"current",frontMatter:{id:"PlaTrust_Wallet",title:"PlaTrust Wallet",sidebar_label:"PlaTrust Wallet"},sidebar:"docs",previous:{title:"PlatON wallet plugin SDK",permalink:"/docs/en/PlatON_wallet_plugin_sdk"},next:{title:"PlaTrust Wallet js-sdk",permalink:"/docs/en/PlaTrust-wallet-js-sdk"}},l=[{value:"Preface",id:"preface",children:[]},{value:"What is PlaTrust Wallet",id:"what-is-platrust-wallet",children:[]},{value:"Feature Overview",id:"feature-overview",children:[{value:"1. Threshold-based Multisig",id:"1-threshold-based-multisig",children:[]},{value:"2. Session-based Multisig Free",id:"2-session-based-multisig-free",children:[]},{value:"3. Wallet Lock",id:"3-wallet-lock",children:[]},{value:"4. Custom Modules",id:"4-custom-modules",children:[]},{value:"5. Wallet Recovery",id:"5-wallet-recovery",children:[]},{value:"6. Custom Role Control",id:"6-custom-role-control",children:[]},{value:"7. Gasless",id:"7-gasless",children:[]},{value:"8. Wallet Upgrade",id:"8-wallet-upgrade",children:[]},{value:"9. Account Whitelist",id:"9-account-whitelist",children:[]},{value:"10. Censorship Resistance",id:"10-censorship-resistance",children:[]},{value:"11. Multi-chain Support",id:"11-multi-chain-support",children:[]}]},{value:"Reference",id:"reference",children:[]}],c={toc:l},u="wrapper";function h(e){let{components:t,...n}=e;return(0,i.kt)(u,(0,a.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"platrust-wallet"},"PlaTrust Wallet"),(0,i.kt)("h2",{id:"preface"},"Preface"),(0,i.kt)("p",null,"Web3 is undoubtedly one of the hottest technology topics in recent years. The key to entering the Web3 world is a private key. However, for many users who are still using Web2, accustomed to logging in with account names and passwords, the concept of a private key can be a hurdle that prevents them from entering Web3. The long string of hexadecimal characters or random mnemonic phrases can be overwhelming. Another problem introduced by private keys is that losing the private key means losing access to assets in Web3, making secure storage of private keys a major concern. Additionally, as the ecosystem of public blockchains expands and more dapps emerge, gas fees have become higher, making it difficult for regular users to participate in Web3 activities due to the high transaction costs. Is there a wallet that allows users to access Web3 without the need to record private keys or mnemonic phrases (seedless) and without incurring huge transaction fees (gasless)? The answer lies in delegating the tasks to others. However, delegating ownership to others can lead to trust issues concerning one's assets in the Web3 world. In this scenario, a multi-signature contract wallet based on EIP-4337 perfectly addresses the pain points mentioned above."),(0,i.kt)("p",null,"Main use cases include:"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"Companies and contracts can safely hold their funds and require the consent of a majority of owners to transfer funds. This way, no single owner can run away with the funds."),(0,i.kt)("li",{parentName:"ol"},"Companies can execute sensitive transactions with the consensus of the majority of owners."),(0,i.kt)("li",{parentName:"ol"},"Individuals can use multisig to have redundant keys. One feature of multisig is that if you lose one key, you can recover the wallet with the remaining two keys.")),(0,i.kt)("h2",{id:"what-is-platrust-wallet"},"What is PlaTrust Wallet"),(0,i.kt)("p",null,"PlaTrust Wallet is a multi-signature contract wallet that follows the EIP-4337 specification. It lowers the barriers for Web2 users to enter Web3 and offers the following main features:"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("a",{parentName:"li",href:"#1."},(0,i.kt)("strong",{parentName:"a"},"Threshold-based Multisig:"))," Manage assets in a multi-signature form based on the specified threshold."),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("a",{parentName:"li",href:"#2."},(0,i.kt)("strong",{parentName:"a"},"Session-based Multisig:"))," Enable gasless transactions during specific time windows, providing convenience for user wallet operations."),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("a",{parentName:"li",href:"#3."},(0,i.kt)("strong",{parentName:"a"},"Wallet Lock:"))," Allows wallet locking when owners suspect their account (device) has been compromised (lost, stolen, etc.)."),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("a",{parentName:"li",href:"#4."},(0,i.kt)("strong",{parentName:"a"},"Custom Modules:"))," Support user-defined modules that can be added to the wallet to introduce custom extensions."),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("a",{parentName:"li",href:"#5."},(0,i.kt)("strong",{parentName:"a"},"Wallet Recovery:"))," Recover the wallet's ownership by replacing the lost private key with a new one through multi-signature initiated by other owners."),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("a",{parentName:"li",href:"#6."},(0,i.kt)("strong",{parentName:"a"},"Custom Role Control:"))," Users can define different role information to control asset operation permissions in the wallet."),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("a",{parentName:"li",href:"#7."},(0,i.kt)("strong",{parentName:"a"},"Gasless:"))," Users can operate the wallet without paying native tokens as gas fees."),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("a",{parentName:"li",href:"#8."},(0,i.kt)("strong",{parentName:"a"},"Wallet Upgrade:"))," Upgrade the wallet to the latest version when new features or significant vulnerabilities arise."),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("a",{parentName:"li",href:"#9."},(0,i.kt)("strong",{parentName:"a"},"Account Whitelist:"))," Set up a whitelist of accounts, allowing certain accounts to execute cross-account operations or transfers without considering trust issues."),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("a",{parentName:"li",href:"#10."},(0,i.kt)("strong",{parentName:"a"},"Censorship Resistance:"))," Users have full control over their accounts without relying on any third-party services."),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("a",{parentName:"li",href:"#11."},(0,i.kt)("strong",{parentName:"a"},"Multi-chain Support:"))," Compatible with all EVM-compatible public blockchains, ensuring the same wallet address across different EVM-compatible chains.")),(0,i.kt)("h2",{id:"feature-overview"},"Feature Overview"),(0,i.kt)("span",{id:"1."}),(0,i.kt)("h3",{id:"1-threshold-based-multisig"},"1. Threshold-based Multisig"),(0,i.kt)("h4",{id:"explanation"},"Explanation"),(0,i.kt)("p",null,"PlaTrust Wallet is a multi-signature contract wallet based on the EIP-4337 specification. It supports multiple owners and provides various wallet operations based on a multisig threshold. The concept of multisig is illustrated as follows:"),(0,i.kt)("img",{src:"/docs/img/en/introduction-muti-sign.jpg",alt:""}),(0,i.kt)("p",null,"For each wallet operation (especially asset management), it must be signed by at least the threshold number of owners. Only when the required number of owner signatures is collected, the wallet operation can be successfully executed."),(0,i.kt)("h4",{id:"functions-and-use-cases"},"Functions and Use Cases"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("strong",{parentName:"li"},"Maximizing Asset Protection when a Private Key is Lost:")," By holding multiple private keys, users can significantly reduce the risk of asset loss due to the loss or theft of a single private key. Even if one of the private keys is compromised, the funds will still be secure."),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("strong",{parentName:"li"},"Preventing Erroneous Transactions with Multiple Verifications:")," When a user initiates a transaction, other private key holders can prevent the execution of erroneous transactions by refusing to sign them. The more people involved in the verification process, the lower the possibility of erroneous transactions."),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("strong",{parentName:"li"},"Facilitating Collective Decision Making and Arbitration:")," When many co-signers jointly maintain the keys, fund control becomes more secure and organized. In this format, only unanimous decisions can be formed and executed, effectively implementing good decisions."),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("strong",{parentName:"li"},"Diversifying the Risk of Theft:")," By distributing keys across different geographical locations and multiple devices, users create a secure environment. Hackers will be unable to crack multiple distributed keys, thus keeping encrypted assets secure in the hands of users.")),(0,i.kt)("span",{id:"2."}),(0,i.kt)("h3",{id:"2-session-based-multisig-free"},"2. Session-based Multisig Free"),(0,i.kt)("h4",{id:"explanation-1"},"Explanation"),(0,i.kt)("p",null,"In certain scenarios, multisig introduces inconvenience for operations. Every time a wallet operation is performed, it requires signatures from the threshold number of owners to be effective. If a user wishes to perform numerous transactions within a specific time window and seeks to exempt from multisig and obtain permission from other owners, this can be achieved by creating a session. A session defines a temporary session key held by a specific owner, and as long as the session key is valid, the owner holding the session can use it to bypass multisig and execute any wallet call. The duration of the session is defined by the owner when creating it, and the session key will automatically expire at the end of the session."),(0,i.kt)("p",null,"Starting a session requires the number of signatures that satisfy the multisig threshold. The wallet's owners can close a session at any time before its expiration."),(0,i.kt)("img",{src:"/docs/img/en/introduction-start-session.jpg",alt:""}),(0,i.kt)("h4",{id:"functions-and-use-cases-1"},"Functions and Use Cases"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("strong",{parentName:"li"},"Providing Convenience for Operations within a Specific Time Window:")," During the valid time window, the holder of the session can operate the wallet without requiring other owners to participate in multisig."),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("strong",{parentName:"li"},"Uniqueness:")," Only one session can exist in the wallet at a given time window, and the session can only be held by the designated owner, with other owners not enjoying exemption from multisig calls."),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("strong",{parentName:"li"},"Expiration:")," Sessions have a specific time window of validity, and the session key will automatically expire after the validity period."),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("strong",{parentName:"li"},"Interruptible:")," During the session's validity period, the holder of the session can close the session without multisig, or other owners can close the session through multisig.")),(0,i.kt)("span",{id:"3."}),(0,i.kt)("h3",{id:"3-wallet-lock"},"3. Wallet Lock"),(0,i.kt)("h4",{id:"explanation-2"},"Explanation"),(0,i.kt)("p",null,"The wallet supports a lock feature, which allows owners to initiate a locking period when they suspect that their account (device) has been compromised (lost, stolen, etc.). During the wallet's locked period, only specific restricted operations, such as the unlock process, are allowed. All other operations (changing owners, changing multisig threshold, asset transfers, etc.) will be blocked."),(0,i.kt)("p",null,"To unlock the wallet before the security period ends, the owner needs to initiate a multisig unlock to trigger the wallet's unlocking."),(0,i.kt)("img",{src:"/docs/img/en/introduction-lock.jpg",alt:""}),(0,i.kt)("h4",{id:"functions-and-use-cases-2"},"Functions and Use Cases"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("strong",{parentName:"li"},"Protecting Asset Security:")," When there is a suspicion of security issues with the wallet, it can be locked to prevent potential asset transfers."),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("strong",{parentName:"li"},"Limiting Wallet Operations:")," When the wallet is under attack, it can be locked to restrict wallet calls.")),(0,i.kt)("span",{id:"4."}),(0,i.kt)("h3",{id:"4-custom-modules"},"4. Custom Modules"),(0,i.kt)("h4",{id:"explanation-3"},"Explanation"),(0,i.kt)("p",null,'In PlaTrust Wallet, users can extend custom functional components to the wallet. By deploying custom module contracts and enabling them in the wallet through the "enable module" function, users can activate custom functional components for the wallet. Users can call functions from custom components and ultimately execute calls from the modules to the wallet using the ',(0,i.kt)("inlineCode",{parentName:"p"},"executeFromModule")," function. It is important to note that each wallet contract instance will set the EIP-4337 entry contract RelayerManager as the default module during creation, and RelayerManager cannot be removed."),(0,i.kt)("img",{src:"/docs/img/en/img/introduction-enable-module.jpg",alt:""}),(0,i.kt)("h4",{id:"functions-and-use-cases-3"},"Functions and Use Cases"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("strong",{parentName:"li"},"Scalability:")," Users can append custom functional components to their wallets, facilitating diverse extensions for the wallet."),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("strong",{parentName:"li"},"Plug-and-play:")," Apart from the built-in EIP-4337 entry contract RelayerManager, other custom modules can be freely enabled and disabled.")),(0,i.kt)("span",{id:"5."}),(0,i.kt)("h3",{id:"5-wallet-recovery"},"5. Wallet Recovery"),(0,i.kt)("h4",{id:"explanation-4"},"Explanation"),(0,i.kt)("p",null,"Ultimately, a contract wallet still requires an externally owned account (EOA) to perform operations. If the private key of the controlling contract owner is not properly saved, it can lead to a loss of the private key. When the control contract's owner's private key is lost, the user loses control of the wallet. To prevent this situation, the wallet includes a wallet recovery function. When an owner's private key is lost, the user can initiate the wallet recovery function to replace the old private key with a new one and regain control of the wallet. Changing to a new private key requires multisig from other owners in the wallet, and the number of signatures must meet the multisig threshold."),(0,i.kt)("h4",{id:"functions-and-use-cases-4"},"Functions and Use Cases"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("strong",{parentName:"li"},"Preventing Users from Losing Access to the Wallet due to Lost Owner Private Keys."))),(0,i.kt)("span",{id:"6."}),(0,i.kt)("h3",{id:"6-custom-role-control"},"6. Custom Role Control"),(0,i.kt)("h4",{id:"explanation-5"},"Explanation"),(0,i.kt)("p",null,"In many business scenarios, it is necessary to finely segment the functionality of a wallet based on different permissions, such as what admin users can do, what manager users can do, etc. Fine-grained functional permission has the advantage that different roles can perform different functions, ensuring each role fulfills its own responsibilities. In PlaTrust Wallet, users can add various custom roles and permissions, and specify the functions that can be called by each permission role, achieving fine-grained functional permission control."),(0,i.kt)("h4",{id:"functions-and-use-cases-5"},"Functions and Use Cases"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("strong",{parentName:"li"},"Support for Fine-Grained Permission Control.")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("strong",{parentName:"li"},"Convenient for Managing and Extending Permissions."))),(0,i.kt)("span",{id:"7."}),(0,i.kt)("h3",{id:"7-gasless"},"7. Gasless"),(0,i.kt)("h4",{id:"explanation-6"},"Explanation"),(0,i.kt)("p",null,'PlaTrust Wallet is a multi-signature contract wallet based on EIP-4337, and the EIP-4337 standard natively supports "meta transactions." When owners of the wallet perform wallet-related functions, they assemble and sign what is called the "User Operation" message, then pass the User Operation to the relevant "Bundler" service for assembling and submitting the User Operation as a blockchain transaction. For wallet owners, they only need to sign the User Operation message with their corresponding owner private keys, without sending actual blockchain transactions. Hence, they do not need to pay any gas fees. For the Bundler service, upon receiving the User Operation and collecting the required multisig signatures, it assembles the User Operation and multisig signatures into a blockchain transaction and submits it to the chain, thereby incurring gas fees. The gas fees advanced by the Bundler are either covered by the tokens held by the wallet itself or filled in by the paymaster. Therefore, for wallet users (owners), PlaTrust Wallet exhibits gasless characteristics.'),(0,i.kt)("img",{src:"/docs/img/en/img/introduction-gasless.jpg",alt:""}),(0,i.kt)("h4",{id:"functions-and-use-cases-6"},"Functions and Use Cases"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"Allows users to continue using the wallet without being affected by gas fees when gas fees are becoming increasingly high."),(0,i.kt)("li",{parentName:"ol"},"Promotes fair extraction of MEV (Miner Extractable Value) and encourages the community to join the construction of layer 2 solutions, especially for operators maintaining the bundler."),(0,i.kt)("li",{parentName:"ol"},"Reduces barriers for Web2 users to use wallets.")),(0,i.kt)("span",{id:"8."}),(0,i.kt)("h3",{id:"8-wallet-upgrade"},"8. Wallet Upgrade"),(0,i.kt)("h4",{id:"explanation-7"},"Explanation"),(0,i.kt)("p",null,"The contract wallet itself is a smart contract written by humans, and code written by humans can potentially have vulnerabilities. Once the smart contract is deployed to the chain, it becomes transparent to all users and cannot be easily modified or revoked. Thus, when encountering significant security vulnerabilities or malicious attacks, an upgrade is necessary to fix the flaws. For users, the on-chain address of the wallet remains the same, but the functions have been switched to the logic after the upgrade."),(0,i.kt)("h4",{id:"functions-and-use-cases-7"},"Functions and Use Cases"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"Flexibility in Functionality Changes."),(0,i.kt)("li",{parentName:"ol"},"Ability to Fix Security Vulnerabilities.")),(0,i.kt)("span",{id:"9."}),(0,i.kt)("h3",{id:"9-account-whitelist"},"9. Account Whitelist"),(0,i.kt)("h4",{id:"explanation-8"},"Explanation"),(0,i.kt)("p",null,"The whitelist of the wallet is designed to facilitate business usage and provide convenience for users based on a certain level of trust. The whitelist is further divided into dapp whitelist and account whitelist. Contracts addresses added to the dapp whitelist can be directly called with trust. Similarly, account whitelist addresses can directly perform transfer operations."),(0,i.kt)("h4",{id:"functions-and-use-cases-8"},"Functions and Use Cases"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"Increased Convenience."),(0,i.kt)("li",{parentName:"ol"},"Based on Trust Premise.")),(0,i.kt)("span",{id:"10."}),(0,i.kt)("h3",{id:"10-censorship-resistance"},"10. Censorship Resistance"),(0,i.kt)("p",null,"Users can directly connect the functionality of the wallet to their own applications through the SDK, without relying on any third parties, and can directly use their own wallets."),(0,i.kt)("span",{id:"11."}),(0,i.kt)("h3",{id:"11-multi-chain-support"},"11. Multi-chain Support"),(0,i.kt)("p",null,"The wallet is deployed using the ",(0,i.kt)("inlineCode",{parentName:"p"},"create2"),' opcode, which allows for the creation of the same contract address (also called a "counterfactual address") based on the same input parameters. This has the advantage that the wallet address can be known before the wallet contract is actually deployed on various EVM-compatible blockchains, allowing early funding of the wallet. Additionally, in many cross-chain projects, having the same contract address on multiple different blockchains facilitates wallet account management across different chains.'),(0,i.kt)("img",{src:"/docs/img/en/img/introduction-multichain-support.jpg",alt:""}),(0,i.kt)("h2",{id:"reference"},"Reference"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("a",{parentName:"li",href:"https://eips.ethereum.org/EIPS/eip-4337"},"https://eips.ethereum.org/EIPS/eip-4337"))))}h.isMDXComponent=!0}}]);