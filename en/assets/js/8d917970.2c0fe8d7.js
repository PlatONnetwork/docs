"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[2450],{3905:function(e,t,n){n.d(t,{Zo:function(){return d},kt:function(){return k}});var a=n(7294);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,a,l=function(e,t){if(null==e)return{};var n,a,l={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(l[n]=e[n]);return l}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}var p=a.createContext({}),s=function(e){var t=a.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},d=function(e){var t=s(e.components);return a.createElement(p.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,l=e.mdxType,r=e.originalType,p=e.parentName,d=o(e,["components","mdxType","originalType","parentName"]),m=s(n),k=l,c=m["".concat(p,".").concat(k)]||m[k]||u[k]||r;return n?a.createElement(c,i(i({ref:t},d),{},{components:n})):a.createElement(c,i({ref:t},d))}));function k(e,t){var n=arguments,l=t&&t.mdxType;if("string"==typeof e||l){var r=n.length,i=new Array(r);i[0]=m;var o={};for(var p in t)hasOwnProperty.call(t,p)&&(o[p]=t[p]);o.originalType=e,o.mdxType="string"==typeof e?e:l,i[1]=o;for(var s=2;s<r;s++)i[s]=n[s];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},9984:function(e,t,n){n.r(t),n.d(t,{contentTitle:function(){return p},default:function(){return m},frontMatter:function(){return o},metadata:function(){return s},toc:function(){return d}});var a=n(7462),l=n(3366),r=(n(7294),n(3905)),i=["components"],o={id:"JS_SDK",title:"JS SDK",sidebar_label:"JS SDK"},p=void 0,s={unversionedId:"JS_SDK",id:"JS_SDK",isDocsHomePage:!1,title:"JS SDK",description:"Web3.js Interface",source:"@site/../docs/JS-SDK.md",sourceDirName:".",slug:"/JS_SDK",permalink:"/docs/en/JS_SDK",editUrl:"https://github.com/PlatONnetwork/docs/tree/master/docs/JS-SDK.md",version:"current",frontMatter:{id:"JS_SDK",title:"JS SDK",sidebar_label:"JS SDK"},sidebar:"docs",previous:{title:"Python SDK",permalink:"/docs/en/Python_SDK"},next:{title:"Java SDK",permalink:"/docs/en/Java_SDK"}},d=[{value:"Web3.js Interface",id:"web3js-interface",children:[{value:"Install and use under Windows",id:"install-and-use-under-windows",children:[]},{value:"Install and use under Ubuntu",id:"install-and-use-under-ubuntu",children:[]},{value:"Install and use under Mac",id:"install-and-use-under-mac",children:[]},{value:"API Reference",id:"api-reference",children:[]}]},{value:"Built-in Contract Call",id:"built-in-contract-call",children:[{value:"Overview",id:"overview",children:[]},{value:"Usage",id:"usage",children:[]},{value:"API Usage",id:"api-usage",children:[]},{value:"Pledge Module",id:"pledge-module",children:[]},{value:"Governance Module",id:"governance-module",children:[]},{value:"Definition",id:"definition",children:[]},{value:"Exposure/Punishment Module",id:"exposurepunishment-module",children:[]},{value:"Lockout Module",id:"lockout-module",children:[]},{value:"Reward Interface",id:"reward-interface",children:[]},{value:"Error Code Description",id:"error-code-description",children:[]}]}],u={toc:d};function m(e){var t=e.components,n=(0,l.Z)(e,i);return(0,r.kt)("wrapper",(0,a.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h2",{id:"web3js-interface"},"Web3.js Interface"),(0,r.kt)("p",null,"Interact with nodes through web3 objects provided by web3.js. On the underlying implementation, it communicates with the local node through RPC calls. web3.js can connect to any PlatON node that exposes the RPC interface. The installation and use under Windows 10 and Ubuntu are introduced in following."),(0,r.kt)("h3",{id:"install-and-use-under-windows"},"Install and use under Windows"),(0,r.kt)("p",null,"To use js sdk under windows10, you need to install nvm and other related tools in advance. Steps are as follows:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Install ",(0,r.kt)("inlineCode",{parentName:"p"},"nvm")),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Skip this step if already installed, ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/coreybutler/nvm-windows/releases/download/1.1.8/nvm-setup.zip"},"download here"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Install ",(0,r.kt)("inlineCode",{parentName:"p"},"nodejs")),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"nvm install v12.16.1\n"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Switch version"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"nvm use 12.16.1\n"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Set environment variables"),(0,r.kt)("blockquote",{parentName:"li"},(0,r.kt)("p",{parentName:"blockquote"},"NVM_SYMLINK\uff1a%NVM_HOME%\\v12.16.1"))))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Install ",(0,r.kt)("inlineCode",{parentName:"p"},"git")))),(0,r.kt)("p",null,"Skip this step if already installed, ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/git-for-windows/git/releases/download/v2.33.0.windows.2/Git-2.33.0.2-64-bit.exe"},"download here")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Install ",(0,r.kt)("inlineCode",{parentName:"p"},"lerna")),(0,r.kt)("p",{parentName:"li"},"Recommanded to execute in ",(0,r.kt)("inlineCode",{parentName:"p"},"git bash"),";"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"npm install --global lerna@^3.22.1\n")),(0,r.kt)("blockquote",{parentName:"li"},(0,r.kt)("p",{parentName:"blockquote"},"Attention:"),(0,r.kt)("ul",{parentName:"blockquote"},(0,r.kt)("li",{parentName:"ul"},"Configure the environment variables of lerna installation directory"),(0,r.kt)("li",{parentName:"ul"},"Check if lerna is installed successfully: ",(0,r.kt)("inlineCode",{parentName:"li"},"learna -v"))))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Install ",(0,r.kt)("inlineCode",{parentName:"p"},"client-sdk-js")),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"npm i PlatONnetwork/client-sdk-js#master\n")),(0,r.kt)("blockquote",{parentName:"li"},(0,r.kt)("p",{parentName:"blockquote"},"If got errors like: ",(0,r.kt)("inlineCode",{parentName:"p"},"git-sh-setup: file not found"),", means you need to configure the environment variables of the git submodule; If git is installed under the ",(0,r.kt)("inlineCode",{parentName:"p"},"C:\\Program Files\\Git")," directory, you need to configure the following path to the PATH environment variable:"),(0,r.kt)("pre",{parentName:"blockquote"},(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"Git_Home : C:\\Program Files\\Git\n\nPath:\n%Git_Home%\\usr\\bin\n%Git_Home%\\mingw64\\libexec\\git-core\n"))))),(0,r.kt)("h3",{id:"install-and-use-under-ubuntu"},"Install and use under Ubuntu"),(0,r.kt)("p",null,"First of all, please make sure that the nodeJS environment is installed locally. Because this project also uses the ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/lerna/lerna"},"lerna")," management tool to optimize the workflow of the multi-package code library hosted on git\\npm, So before you install the project, make sure that the lerna package has been installed globally. ",(0,r.kt)("strong",{parentName:"p"},"If not, you need to install it globally. ")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Install ",(0,r.kt)("inlineCode",{parentName:"p"},"lerna")),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"npm i lerna -g\n"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Install ",(0,r.kt)("inlineCode",{parentName:"p"},"client-sdk-js")),(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"client-sdk-js")," can be installed into the project through the npm package management tool or the yarn package management tool, specific steps are as the following:"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"npm i PlatONnetwork/client-sdk-js#master\n")),(0,r.kt)("p",{parentName:"li"},"Or"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"yarn add PlatONnetwork/client-sdk-js#master\n")))),(0,r.kt)("p",null,"Create a web3 instance and set up a provider. You can refer to the following code:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"// in node.js\nvar Web3 = require('web3');\n\nvar web3 = new Web3('http://127.0.0.1:6789');\nconsole.log(web3);\n> {\n    platon: ... ,\n    utils: ...,\n    ppos: ...,\n    ...\n}\n")),(0,r.kt)("p",null,"After successful introduction, you can use the relevant API of web3."),(0,r.kt)("h3",{id:"install-and-use-under-mac"},"Install and use under Mac"),(0,r.kt)("p",null,"The installation method is the same as the above ",(0,r.kt)("a",{parentName:"p",href:"#install-and-use-under-ubuntu"},"Install and use under Ubuntu"),".",(0,r.kt)("br",null),(0,r.kt)("br",null)),(0,r.kt)("h3",{id:"api-reference"},"API Reference"),(0,r.kt)("h4",{id:"web3version"},"web3.version"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"web3.version"),": Contains the current package version of the web3.js library."),(0,r.kt)("p",null,"Method:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"Web3.version;\nweb3.version;\n")),(0,r.kt)("p",null,"Returns:"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"String"),": Current version number."),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'web3.version;\n> "0.13.1"\n')),(0,r.kt)("hr",null),(0,r.kt)("h4",{id:"web3modules"},"web3.modules"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"web3.modules")," Will return an object with the classes of all major sub modules, to be able to instantiate them manually."),(0,r.kt)("p",null,"Method:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"Web3.modules;\nweb3.modules;\n")),(0,r.kt)("p",null,"Returns:"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Object"),": A list of module constructors:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"Platon")," - Function: The PlatON module for interacting with the PlatON network see web3.platon for more."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"Net")," - Function: The Net module for interacting with network properties see web3.platon.net for more."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"Personal")," - Function: The Personal module for interacting with the PlatON accounts see web3.platon.personal for more.")),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"web3.modules\n> {\n    Platon: Platon function(provider),\n    Net: Net function(provider),\n    Personal: Personal function(provider)\n}\n")),(0,r.kt)("hr",null),(0,r.kt)("h4",{id:"web3setprovider"},"web3.setProvider"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"web3.setProvider()")," Will change the provider for it's module."),(0,r.kt)("p",null,"Method:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"web3.setProvider(myProvider)\nweb3.platon.setProvider(myProvider)\n...\n")),(0,r.kt)("p",null,"Notes: When called on the umbrella package web3 it will also set the provider for all sub modules web3.platon, web3.shh, etc EXCEPT web3.bzz which needs a separate provider at all times."),(0,r.kt)("p",null,"Parameter:"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Object")," - ",(0,r.kt)("inlineCode",{parentName:"p"},"myProvider"),": a valid provider."),(0,r.kt)("p",null,"Returns:"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Boolean")),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"var Web3 = require('web3');\nvar web3 = new Web3('http://localhost:8545');\n// or\nvar web3 = new Web3(new Web3.providers.HttpProvider('http://localhost:8545'));\n\n// change provider\nweb3.setProvider('ws://localhost:8546');\n// or\nweb3.setProvider(new Web3.providers.WebsocketProvider('ws://localhost:8546'));\n")),(0,r.kt)("hr",null),(0,r.kt)("h4",{id:"web3providers"},"web3.providers"),(0,r.kt)("p",null,"Contains the current available providers."),(0,r.kt)("p",null,"Method:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"web3.providers\nweb3.platon.providers\n...\n")),(0,r.kt)("p",null,"Returns:"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Object"),"\uff0c with the following providers:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"Object")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"HttpProvider"),": The HTTP provider is deprecated, as it won\u2019t work for subscriptions."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"Object")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"WebsocketProvider"),": The Websocket provider is the standard for usage in legacy browsers.")),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"var Web3 = require('web3');\n// // use the given Provider, e.g in Mist, or instantiate a new websocket provider.\nvar web3 = new Web3(Web3.givenProvider || 'ws://remotenode.com:8546');\n// or\nvar web3 = new Web3(Web3.givenProvider || new Web3.providers.WebsocketProvider('ws://remotenode.com:8546'));\n")),(0,r.kt)("hr",null),(0,r.kt)("h4",{id:"web3givenprovider"},"web3.givenProvider"),(0,r.kt)("p",null,"When using web3.js in an PlatON compatible browser, it will set with the current native provider by that browser. Will return the given provider by the (browser) environment, otherwise null."),(0,r.kt)("p",null,"Method:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"web3.givenProvider\nweb3.platon.givenProvider\n...\n")),(0,r.kt)("p",null,"Returns:"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Object"),": The given provider set or null;"),(0,r.kt)("hr",null),(0,r.kt)("h4",{id:"web3currentprovider"},"web3.currentProvider"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"web3.currentProvider")," Will return the current provider, otherwise null."),(0,r.kt)("p",null,"Method:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"web3.currentProvider\nweb3.platon.currentProvider\n...\n")),(0,r.kt)("p",null,"Returns:"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Object"),"\uff1a The current provider set or null;"),(0,r.kt)("hr",null),(0,r.kt)("h4",{id:"web3batchrequest"},"web3.BatchRequest"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"web3.BatchRequest")," Class to create and execute batch requests."),(0,r.kt)("p",null,"Method:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"new web3.BatchRequest()\nnew web3.platon.BatchRequest()\n")),(0,r.kt)("p",null,"Parameter:"),(0,r.kt)("p",null,"none"),(0,r.kt)("p",null,"Returns:"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Object"),": With the following methods:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"add(request)"),": To add a request object to the batch call."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"execute()"),": Will execute the batch request.")),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"var contract = new web3.platon.Contract(abi, address);\n\nvar batch = new web3.BatchRequest();\nbatch.add(web3.platon.getBalance.request('lax1qqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqmscn5j', 'latest', callback));\nbatch.add(\n  contract.methods.balance(address).call.request({ from: 'lax1qqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqmscn5j' }, callback2)\n);\nbatch.execute();\n")),(0,r.kt)("hr",null),(0,r.kt)("h4",{id:"web3platondefaultaccount"},"web3.platon.defaultAccount"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"web3.platon.defaultAccount"),' This default address is used as the default "from" property, if no "from" property is specified in the following methods:'),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"web3.platon.sendTransaction()"),(0,r.kt)("li",{parentName:"ul"},"web3.platon.call()"),(0,r.kt)("li",{parentName:"ul"},"new web3.platon.Contract() -> myContract.methods.myMethod().call()"),(0,r.kt)("li",{parentName:"ul"},"new web3.platon.Contract() -> myContract.methods.myMethod().send()")),(0,r.kt)("p",null,"Method:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"web3.platon.defaultAccount\n")),(0,r.kt)("p",null,"Property\uff1a"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"String")," - 20 Bytes: 20 Bytes: Any PlatON address. You should have the private key for that address in your node or keystore. (Default is undefined)"),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"web3.platon.defaultAccount;\n> undefined\n\n// set the default account\nweb3.platon.defaultAccount = 'lax1fyeszufxwxk62p46djncj86rd553skpptsj8v6';\n")),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"Note:"),(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("strong",{parentName:"p"},"All addresses must be quoted, as above: 'lax1fyeszufxwxk62p46djncj86rd553skpptsj8v6'."))),(0,r.kt)("hr",null),(0,r.kt)("h4",{id:"web3platondefaultblock"},"web3.platon.defaultBlock"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"web3.platon.defaultBlock")," The default block is used for certain methods."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"web3.platon.getBalance()"),(0,r.kt)("li",{parentName:"ul"},"web3.platon.getCode()"),(0,r.kt)("li",{parentName:"ul"},"web3.platon.getTransactionCount()"),(0,r.kt)("li",{parentName:"ul"},"web3.platon.getStorageAt()"),(0,r.kt)("li",{parentName:"ul"},"web3.platon.call()"),(0,r.kt)("li",{parentName:"ul"},"new web3.platon.Contract() -> myContract.methods.myMethod().call()")),(0,r.kt)("p",null,"You can override it by passing in the defaultBlock as last parameter."),(0,r.kt)("p",null,"Method:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"web3.platon.defaultBlock\n")),(0,r.kt)("p",null,"Property:"),(0,r.kt)("p",null,"Default block parameters can be one of the following:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"Number"),": A block number"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},'"genesis"')," - ",(0,r.kt)("inlineCode",{parentName:"li"},"String"),": The genesis block"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},'"latest"')," - ",(0,r.kt)("inlineCode",{parentName:"li"},"String"),": The latest block (current head of the blockchain)"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},'"pending"')," - ",(0,r.kt)("inlineCode",{parentName:"li"},"String"),": The currently mined block (including pending transactions)")),(0,r.kt)("p",null,'Default is "latest"'),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'web3.platon.defaultBlock;\n> "latest"\n\n// set the default block\nweb3.platon.defaultBlock = 231;\n')),(0,r.kt)("hr",null),(0,r.kt)("h4",{id:"web3platongetprotocolversion"},"web3.platon.getProtocolVersion"),(0,r.kt)("p",null,"Returns the PlatON protocol version of the node."),(0,r.kt)("p",null,"Method:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"web3.platon.getProtocolVersion([callback])\n")),(0,r.kt)("p",null,"Returns:"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Promise")," returns ",(0,r.kt)("inlineCode",{parentName:"p"},"String"),": the protocol version."),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'web3.platon.getProtocolVersion().then(console.log);\n> "63"\n')),(0,r.kt)("hr",null),(0,r.kt)("h4",{id:"web3platonissyncing"},"web3.platon.isSyncing"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"web3.platon.isSyncing()")," Checks if the node is currently syncing and returns either a syncing object, or false."),(0,r.kt)("p",null,"Method:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"web3.platon.isSyncing([callback])\n")),(0,r.kt)("p",null,"Returns:"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Promise")," returns ",(0,r.kt)("inlineCode",{parentName:"p"},"Object|Boolean")," - A sync object when the node is currently syncing or false:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"startingBlock")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"Number"),": The block number where the sync started."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"currentBlock")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"Number"),": The block number where at which block the node currently synced to already."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"highestBlock")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"Number"),": The estimated block number to sync to."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"knownStates")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"Number"),": The estimated states to download."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"pulledStates")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"Number"),": The already downloaded states.")),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"web3.platon.isSyncing().then(console.log);\n> {\n    startingBlock: 100,\n    currentBlock: 312,\n    highestBlock: 512,\n    knownStates: 234566,\n    pulledStates: 123455\n}\n")),(0,r.kt)("hr",null),(0,r.kt)("h4",{id:"platonchainid"},"platon.chainId"),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"platon.chainId()")," method is used to obtain the rpc interface of the chain ID of the current chain."),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'const get_chainid = async function () {\n    let chainid = web3.utils.toDecimal(await web3.ppos.rpc("platon_chainId",[]));\n    console.log("chainid:", chainid);\n}\n')),(0,r.kt)("hr",null),(0,r.kt)("h4",{id:"web3platongetaddresshrp"},"web3.platon.getAddressHrp"),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"web3.platon.getAddressHrp()")," method is used to obtain the address prefix of the current chain."),(0,r.kt)("p",null,"Method:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"web3.platon.getAddressHrp([callback])\n")),(0,r.kt)("p",null,"Returns:"),(0,r.kt)("p",null,"A Promise object whose resolved value is a string representing the address prefix of the current chain."),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'web3.platon.getAddressHrp().then(console.log);\n> "atp"\n')),(0,r.kt)("hr",null),(0,r.kt)("h4",{id:"web3platongetgasprice"},"web3.platon.getGasPrice"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"web3.platon.getGasPrice()")," Returns the current gas price oracle. The gas price is determined by the last few blocks median gas price."),(0,r.kt)("p",null,"Method:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"web3.platon.getGasPrice([callback])\n")),(0,r.kt)("p",null,"Returns:"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Promise")," returns ",(0,r.kt)("inlineCode",{parentName:"p"},"String")," - Number string of the current gas price in von."),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'web3.platon.getGasPrice().then(console.log);\n> "20000000000"\n')),(0,r.kt)("hr",null),(0,r.kt)("h4",{id:"web3platongetaccounts"},"web3.platon.getAccounts"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"web3.platon.getAccounts()")," Returns a list of accounts the node controls."),(0,r.kt)("p",null,"Method:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"web3.platon.getAccounts([callback])\n")),(0,r.kt)("p",null,"Returns:"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Promise")," returns ",(0,r.kt)("inlineCode",{parentName:"p"},"Array")," - An array of addresses controlled by node."),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'web3.platon.getAccounts().then(console.log);\n> ["lax1fyeszufxwxk62p46djncj86rd553skpptsj8v6", "lax1kg7y7wfwzqsyxppyxcdvhkkkwlf64ccl8x93ut"]\n')),(0,r.kt)("hr",null),(0,r.kt)("h4",{id:"web3platongetblocknumber"},"web3.platon.getBlockNumber"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"web3.platon.getBlockNumber()")," Returns the current block number."),(0,r.kt)("p",null,"Method:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"web3.platon.getBlockNumber([callback])\n")),(0,r.kt)("p",null,"Returns:"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Promise")," returns ",(0,r.kt)("inlineCode",{parentName:"p"},"Number")," - The number of the most recent block."),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"web3.platon.getBlockNumber().then(console.log);\n> 2744\n")),(0,r.kt)("hr",null),(0,r.kt)("h4",{id:"web3platongetbalance"},"web3.platon.getBalance"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"web3.platon.getBalance()")," Get the balance of an address at a given block."),(0,r.kt)("p",null,"Method:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"web3.platon.getBalance(address [, defaultBlock] [, callback])\n")),(0,r.kt)("p",null,"Parameter:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"address"),"\uff1aString - The address to get the balance of."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"defaultBlock"),'\uff1aNumber|String - (optional) If you pass this parameter it will not use the default block set with web3.platon.defaultBlock. Pre-defined block numbers as "latest", "earliest", "pending", and "genesis" can also be used.'),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"callback"),"\uff1aFunction - (optional) Optional callback, returns an error object as first parameter and the result as second.")),(0,r.kt)("p",null,"Returns:"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Promise")," returns ",(0,r.kt)("inlineCode",{parentName:"p"},"String")," - The current balance for the given address in von."),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'web3.platon.getBalance("lax1fyeszufxwxk62p46djncj86rd553skpptsj8v6")\n.then(console.log);\n> "1000000000000"\n')),(0,r.kt)("hr",null),(0,r.kt)("h4",{id:"web3platongetstorageat"},"web3.platon.getStorageAt"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"web3.platon.getStorageAt()")," Get the storage at a specific position of an address."),(0,r.kt)("p",null,"Method:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"web3.platon.getStorageAt(address, position [, defaultBlock] [, callback])\n")),(0,r.kt)("p",null,"Parameter:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"address")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"String"),": The address to get the storage from."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"position")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"Number"),": The index position of the storage."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"defaultBlock")," -",(0,r.kt)("inlineCode",{parentName:"li"},"Number|String"),' (optional) If you pass this parameter it will not use the default block set with web3.platon.defaultBlock. Pre-defined block numbers as "latest", "earliest", "pending", and "genesis" can also be used.'),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"callback")," -",(0,r.kt)("inlineCode",{parentName:"li"},"Function"),": (optional) Optional callback, returns an error object as first parameter and the result as second.")),(0,r.kt)("p",null,"Returns:"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Promise")," returns ",(0,r.kt)("inlineCode",{parentName:"p"},"String")," - The value in storage at the given position."),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'web3.platon.getStorageAt("lax1fyeszufxwxk62p46djncj86rd553skpptsj8v6", 0)\n.then(console.log);\n> "0x033456732123ffff2342342dd12342434324234234fd234fd23fd4f23d4234"\n')),(0,r.kt)("hr",null),(0,r.kt)("h4",{id:"web3platongetcode"},"web3.platon.getCode"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"web3.platon.getCode()")," Get the code at a specific address."),(0,r.kt)("p",null,"Method:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"web3.platon.getCode(address [, defaultBlock] [, callback])\n")),(0,r.kt)("p",null,"Parameter:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"address")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"String"),": The address to get the code from."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"defaultBlock")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"Number|String"),': (optional) If you pass this parameter it will not use the default block set with web3.platon.defaultBlock. Pre-defined block numbers as "latest", "earliest", "pending", and "genesis" can also be used.'),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"callback")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"Function"),": (optional) Optional callback, returns an error object as first parameter and the result as second.")),(0,r.kt)("p",null,"Returns:"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Promise")," returns ",(0,r.kt)("inlineCode",{parentName:"p"},"String")," - The data at given address."),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'web3.platon.getCode("lax1fyeszufxwxk62p46djncj86rd553skpptsj8v6")\n.then(console.log);\n> "0x600160008035811a818181146012578301005b601b6001356025565b8060005260206000f25b600060078202905091905056"\n')),(0,r.kt)("hr",null),(0,r.kt)("h4",{id:"web3platongetblock"},"web3.platon.getBlock"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"web3.platon.getBlock()")," Returns a block matching the block number or block hash."),(0,r.kt)("p",null,"Method:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"web3.platon.getBlock(blockHashOrBlockNumber [, returnTransactionObjects] [, callback])\n")),(0,r.kt)("p",null,"Parameter:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"blockHashOrBlockNumber")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"String|Number"),': The block number or block hash. Or the string "genesis", "latest", "earliest", or "pending" as in the default block parameter.'),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"returnTransactionObjects")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"Boolean"),": (optional, default false) If specified true, the returned block will contain all transactions as objects. By default it is false so, there is no need to explictly specify false. And, if false it will only contains the transaction hashes."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"callback")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"Function"),": (optional) Optional callback, returns an error object as first parameter and the result as second.")),(0,r.kt)("p",null,"Returns:"),(0,r.kt)("p",null,"Promise returns Object - The block object:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"number")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"Number"),": The block number. null when it's pending block."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"hash")," 32 Bytes - ",(0,r.kt)("inlineCode",{parentName:"li"},"String"),": Hash of the block. null when it's pending block."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"parentHash")," 32 Bytes - ",(0,r.kt)("inlineCode",{parentName:"li"},"String"),": Hash of the parent block."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"nonce")," 8 Bytes - ",(0,r.kt)("inlineCode",{parentName:"li"},"String"),": Hash of the generated proof-of-work. null when it's pending block."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"sha3Uncles")," 32 Bytes - ",(0,r.kt)("inlineCode",{parentName:"li"},"String"),": SHA3 of the uncles data in the block."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"logsBloom")," 256 Bytes - ",(0,r.kt)("inlineCode",{parentName:"li"},"String"),": The bloom filter for the logs of the block. null when it's pending block."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"transactionsRoot")," 32 Bytes - ",(0,r.kt)("inlineCode",{parentName:"li"},"String"),": The root of the transaction trie of the block"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"stateRoot")," 32 Bytes - ",(0,r.kt)("inlineCode",{parentName:"li"},"String"),": The root of the final state trie of the block."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"miner")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"String"),": The address of the beneficiary to whom the mining rewards were given."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"difficulty")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"String"),": Integer of the difficulty for this block."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"totalDifficulty")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"String"),": Integer of the total difficulty of the chain until this block."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"extraData")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"String"),": The \u201cextra data\u201d field of this block."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"size")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"Number"),": Integer the size of this block in bytes."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"gasLimit")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"Number"),": The maximum gas allowed in this block."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"gasUsed")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"Number"),": The total used gas by all transactions in this block."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"timestamp")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"Number"),": The unix timestamp for when the block was collated."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"transactions")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"Array"),": Array of transaction objects, or 32 Bytes transaction hashes depending on the returnTransactionObjects parameter."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"uncles")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"Array"),": Array of uncle hashes.")),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'web3.platon.getBlock(3150)\n.then(console.log);\n\n> {\n    "number": 3,\n    "hash": "0xef95f2f1ed3ca60b048b4bf67cde2195961e0bba6f70bcbea9a2c4e133e34b46",\n    "parentHash": "0x2302e1c0b972d00932deb5dab9eb2982f570597d9d42504c05d9c2147eaf9c88",\n    "nonce": "0xfb6e1a62d119228b",\n    "sha3Uncles": "0x1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347",\n    "logsBloom": "0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",\n    "transactionsRoot": "0x3a1b03875115b79539e5bd33fb00d8f7b7cd61929d5a3c574f507b8acf415bee",\n    "stateRoot": "0xf1133199d44695dfa8fd1bcfe424d82854b5cebef75bddd7e40ea94cda515bcb",\n    "miner": "lax1fyeszufxwxk62p46djncj86rd553skpptsj8v6",\n    "difficulty": \'21345678965432\',\n    "totalDifficulty": \'324567845321\',\n    "size": 616,\n    "extraData": "0x",\n    "gasLimit": 3141592,\n    "gasUsed": 21662,\n    "timestamp": 1429287689,\n    "transactions": [\n        "0x9fc76417374aa880d4449a1f7f31ec597f00b1f6f3dd2d66f4c9c6c445836d8b"\n    ],\n    "uncles": []\n}\n')),(0,r.kt)("hr",null),(0,r.kt)("h4",{id:"web3platongetblocktransactioncount"},"web3.platon.getBlockTransactionCount"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"web3.platon.getBlockTransactionCount()")," Returns the number of transaction in a given block."),(0,r.kt)("p",null,"Method:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"web3.platon.getBlockTransactionCount(blockHashOrBlockNumber [, callback])\n")),(0,r.kt)("p",null,"Parameter:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"blockHashOrBlockNumber")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"String|Number"),': The block number or hash. Or the string "genesis", "latest", "earliest", or "pending" as in the default block parameter.'),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"callback")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"Function"),": (optional) Optional callback, returns an error object as first parameter and the result as second.")),(0,r.kt)("p",null,"Returns:"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Promise")," returns ",(0,r.kt)("inlineCode",{parentName:"p"},"Number")," - The number of transactions in the given block."),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'web3.platon.getBlockTransactionCount("lax1fyeszufxwxk62p46djncj86rd553skpptsj8v6")\n.then(console.log);\n> 1\n')),(0,r.kt)("hr",null),(0,r.kt)("h4",{id:"web3platongettransaction"},"web3.platon.getTransaction"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"web3.platon.getTransaction()")," Returns a transaction matching the given transaction hash."),(0,r.kt)("p",null,"Method:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"web3.platon.getTransaction(transactionHash [, callback])\n")),(0,r.kt)("p",null,"Parameter:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"transactionHash")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"String"),": The transaction hash."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"callback")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"Function"),": (optional) Optional callback, returns an error object as first parameter and the result as second.")),(0,r.kt)("p",null,"Returns:"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Promise")," returns ",(0,r.kt)("inlineCode",{parentName:"p"},"Object")," - A transaction object it's hash ",(0,r.kt)("inlineCode",{parentName:"p"},"transactionHash"),":"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"hash")," 32 Bytes - ",(0,r.kt)("inlineCode",{parentName:"li"},"String:")," Hash of the transaction."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"nonce")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"Number"),": The number of transactions made by the sender prior to this one."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"blockHash")," 32 Bytes - ",(0,r.kt)("inlineCode",{parentName:"li"},"String"),": Hash of the block where this transaction was in. null when it's pending."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"blockNumber")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"Number"),": Block number where this transaction was in. null when it's pending."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"transactionIndex")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"Number"),": Integer of the transactions index position in the block. null when it's pending."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"from")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"String"),": Address of the sender."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"to")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"String"),": Address of the receiver. null when it's a contract creation transaction."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"value")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"String"),": Value transferred in von."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"gasPrice")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"String"),": Gas price provided by the sender in von."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"gas")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"Number"),": Gas provided by the sender."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"input")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"String"),": The data sent along with the transaction.")),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'web3.platon.getTransaction(\'0x9fc76417374aa880d4449a1f7f31ec597f00b1f6f3dd2d66f4c9c6c445836d8b\xa7234\')\n.then(console.log);\n> {\n    "hash": "0x9fc76417374aa880d4449a1f7f31ec597f00b1f6f3dd2d66f4c9c6c445836d8b",\n    "nonce": 2,\n    "blockHash": "0xef95f2f1ed3ca60b048b4bf67cde2195961e0bba6f70bcbea9a2c4e133e34b46",\n    "blockNumber": 3,\n    "transactionIndex": 0,\n    "from": "lax14984xa8uuhkmer32s6tuz5e3valxa0ct68a0c5",\n    "to": "lax1v227ux60dht9q3mk97fyanfk0st740u0x25f88",\n    "value": \'123450000000000000\',\n    "gas": 314159,\n    "gasPrice": \'2000000000000\',\n    "input": "0x57cb2fc4"\n}\n')),(0,r.kt)("hr",null),(0,r.kt)("h4",{id:"web3platongettransactionfromblock"},"web3.platon.getTransactionFromBlock"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"web3.platon.getTransactionFromBlock()")," Returns a transaction based on a block hash or number and the transactions index position."),(0,r.kt)("p",null,"Method:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"getTransactionFromBlock(hashStringOrNumber, indexNumber [, callback])\n")),(0,r.kt)("p",null,"Parameter:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"hashStringOrNumber"),'\uff1aString - A block number or hash. Or the string "genesis", "latest", "earliest", or "pending" as in the default block parameter.'),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"indexNumber"),"\uff1aNumber - The transactions index position."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"callback"),"\uff1aFunction - (optional) Optional callback, returns an error object as first parameter and the result as second.")),(0,r.kt)("p",null,"Returns:"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Promise")," returns ",(0,r.kt)("inlineCode",{parentName:"p"},"Object")," - A transaction object, see web3.eth.getTransaction:"),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"var transaction = web3.platon.getTransactionFromBlock('0x4534534534', 2)\n.then(console.log);\n> // see web3.platon.getTransaction\n")),(0,r.kt)("hr",null),(0,r.kt)("h4",{id:"web3platongettransactionreceipt"},"web3.platon.getTransactionReceipt"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"web3.platon.getTransactionReceipt()")," Returns the receipt of a transaction by transaction hash."),(0,r.kt)("p",null,"Notes: The receipt is not available for pending transactions and returns null."),(0,r.kt)("p",null,"Method:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"web3.platon.getTransactionReceipt(hash [, callback])\n")),(0,r.kt)("p",null,"Parameter:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"hash"),"\uff1aString - The transaction hash."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"callback"),"\uff1aFunction - (optional) Optional callback, returns an error object as first parameter and the result as second.")),(0,r.kt)("p",null,"Returns:"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Promise")," returns ",(0,r.kt)("inlineCode",{parentName:"p"},"Object")," - A transaction receipt object, or null when no receipt was found:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"status")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"Boolean"),": TRUE if the transaction was successful, FALSE, if the EVM reverted the transaction."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"blockHash")," 32 Bytes - ",(0,r.kt)("inlineCode",{parentName:"li"},"String"),": Hash of the block where this transaction was in."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"blockNumber")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"Number"),": Block number where this transaction was in."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"transactionHash")," 32 Bytes - ",(0,r.kt)("inlineCode",{parentName:"li"},"String"),": Hash of the transaction."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"transactionIndex"),"- ",(0,r.kt)("inlineCode",{parentName:"li"},"Number"),": Integer of the transactions index position in the block."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"from")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"String"),": Address of the sender."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"to")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"String"),": Address of the receiver. null when it's a contract creation transaction."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"contractAddress")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"String"),": The contract address created, if the transaction was a contract creation, otherwise null."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"cumulativeGasUsed")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"Number"),": The total amount of gas used when this transaction was executed in the block."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"gasUsed")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"Number"),": The amount of gas used by this specific transaction alone."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"logs")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"Array"),": Array of log objects, which this transaction generated.")),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'var receipt = web3.platon.getTransactionReceipt(\'0x9fc76417374aa880d4449a1f7f31ec597f00b1f6f3dd2d66f4c9c6c445836d8b\')\n.then(console.log);\n> {\n  "status": true,\n  "transactionHash": "0x9fc76417374aa880d4449a1f7f31ec597f00b1f6f3dd2d66f4c9c6c445836d8b",\n  "transactionIndex": 0,\n  "blockHash": "0xef95f2f1ed3ca60b048b4bf67cde2195961e0bba6f70bcbea9a2c4e133e34b46",\n  "blockNumber": 3,\n  "contractAddress": "lax1fyeszufxwxk62p46djncj86rd553skpptsj8v6",\n  "cumulativeGasUsed": 314159,\n  "gasUsed": 30234,\n  "logs": [{\n         // logs as returned by getPastLogs, etc.\n     }, ...]\n}\n')),(0,r.kt)("hr",null),(0,r.kt)("h4",{id:"web3platongettransactioncount"},"web3.platon.getTransactionCount"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"web3.platon.getTransactionCount()")," Get the numbers of transactions sent from this address."),(0,r.kt)("p",null,"Method:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"web3.platon.getTransactionCount(address [, defaultBlock] [, callback])\n")),(0,r.kt)("p",null,"Parameter:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"address"),"\uff1aString - The address to get the numbers of transactions from."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"defaultBlock"),'\uff1aNumber|String - (optional) If you pass this parameter it will not use the default block set with web3.platon.defaultBlock. Pre-defined block numbers as "latest", "earliest", "pending", and "genesis" can also be used.'),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"callback"),"\uff1aFunction - (optional) Optional callback, returns an error object as first parameter and the result as second.")),(0,r.kt)("p",null,"Returns:"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Promise")," returns ",(0,r.kt)("inlineCode",{parentName:"p"},"Number")," - The number of transactions sent from the given address."),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'web3.platon.getTransactionCount("lax1fyeszufxwxk62p46djncj86rd553skpptsj8v6")\n.then(console.log);\n> 1\n')),(0,r.kt)("hr",null),(0,r.kt)("h4",{id:"web3platonsendtransaction"},"web3.platon.sendTransaction"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"web3.platon.sendTransaction()")," Sends a transaction to the network."),(0,r.kt)("p",null,"Method:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"web3.platon.sendTransaction(transactionObject [, callback])\n")),(0,r.kt)("p",null,"Parameter:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"transactionObject"),"\uff1a",(0,r.kt)("inlineCode",{parentName:"li"},"Object")," - The transaction object to send:",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"from")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"String|Number"),": The address for the sending account. Uses the web3.platon.defaultAccount property, if not specified. Or an address or index of a local wallet in web3.platon.accounts.wallet."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"to")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"String"),": (optional) The destination address of the message, left undefined for a contract-creation transaction."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"value")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"Number|String|BN|BigNumber"),": (optional) The value transferred for the transaction in wei, also the endowment if it\u2019s a contract-creation transaction."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"gas")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"Number"),": (optional, default: To-Be-Determined) The amount of gas to use for the transaction (unused gas is refunded)."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"gasPrice")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"Number|String|BN|BigNumber"),": (optional) The price of gas for this transaction in wei, defaults to web3.platon.gasPrice."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"data")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"String"),": (optional) Either a ABI byte string containing the data of the function call on a contract, or in the case of a contract-creation transaction the initialisation code."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"nonce")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"Number"),": (optional) Integer of a nonce. This allows to overwrite your own pending transactions that use the same nonce."))),(0,r.kt)("li",{parentName:"ul"},"callback - Function: (optional) Optional callback, returns an error object as first parameter and the result as second.")),(0,r.kt)("p",null,"Returns:"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"web3.platon.sendTransaction()")," The callback will return the 32 bytes transaction hash."),(0,r.kt)("p",null,"PromiEvent: A promise combined event emitter. Will be resolved when the transaction receipt is available. Additionally the following events are available:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},'"transactionHash" returns String: Is fired right after the transaction is sent and a transaction hash is available.'),(0,r.kt)("li",{parentName:"ul"},'"receipt" returns ',(0,r.kt)("inlineCode",{parentName:"li"},"Object"),": Is fired when the transaction receipt is available."),(0,r.kt)("li",{parentName:"ul"},'"confirmation" returns Number, Object: Is fired for every confirmation up to the 12th confirmation. Receives the confirmation number as the first and the receipt as the second argument. Fired from confirmation 0 on, which is the block where it\'s minded.'),(0,r.kt)("li",{parentName:"ul"},'"error" returns Error and Object|undefined: Is fired if an error occurs during sending. If the transaction was rejected by the network with a receipt, the second parameter will be the receipt.')),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"// compiled solidity source code using https://remix.ethereum.org  or PlatON Studio (https://github.com/ObsidianLabs/PlatON-Studio)\nvar code = \"603d80600c6000396000f3007c01000000000000000000000000000000000000000000000000000000006000350463c6888fa18114602d57005b6007600435028060005260206000f3\";\n\n// using the callback\nweb3.platon.sendTransaction({\n    from: 'lax1mc9jj4nf487e840j3k0vshjq7n9kj7awe459dv',\n    data: code // deploying a contracrt\n}, function(error, hash){\n    ...\n});\n\n// using the promise\nweb3.platon.sendTransaction({\n    from: 'lax1mc9jj4nf487e840j3k0vshjq7n9kj7awe459dv',\n    to: 'lax1fyeszufxwxk62p46djncj86rd553skpptsj8v6',\n    value: '1000000000000000'\n})\n.then(function(receipt){\n    ...\n});\n\n\n// using the event emitter\nweb3.platon.sendTransaction({\n    from: 'lax1mc9jj4nf487e840j3k0vshjq7n9kj7awe459dv',\n    to: 'lax1fyeszufxwxk62p46djncj86rd553skpptsj8v6',\n    value: '1000000000000000'\n})\n.on('transactionHash', function(hash){\n    ...\n})\n.on('receipt', function(receipt){\n    ...\n})\n.on('confirmation', function(confirmationNumber, receipt){ ... })\n.on('error', console.error); // If a out of gas error, the second parameter is the receipt.\n")),(0,r.kt)("hr",null),(0,r.kt)("h4",{id:"accountsprivatekeytoaccount"},"Accounts.privateKeyToAccount"),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"Accounts.privateKeyToAccount()")," method converts the private key into an address in the specified format."),(0,r.kt)("p",null,"Method:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"let\xa0address = Accounts.privateKeyToAccount(privateKey).address\n")),(0,r.kt)("p",null,"\u53c2\u6570\uff1a"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"privateKey"),"\uff1aString - Private key in hexadecimal format;")),(0,r.kt)("p",null,"Parameter:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"address\uff1aThe address corresponding to the private key;")),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"var Web3 = require('web3')\nvar Account = require('account')\nconst transaction_demo = async function () {\n  web3 = new Web3('http://127.0.0.1:6789')\n  var privateKey = '0xb416b341437c420a45cb6ba5ca883655eec169360d36866124d23682c03766ba'\n  var hrp\xa0=\xa0await\xa0web3.platon.getAddressHrp()\n  var alayaAccounts = new Accounts(web3, hrp);\n  let address = alayaAccounts.privateKeyToAccount(privateKey).address\n}\n")),(0,r.kt)("hr",null),(0,r.kt)("h4",{id:"web3platonsendsignedtransaction"},"web3.platon.sendSignedTransaction"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"web3.platon.sendSignedTransaction()")," Sends an already signed transaction, generated for example using web3.platon.accounts.signTransaction."),(0,r.kt)("p",null,"Method:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"web3.platon.sendSignedTransaction(signedTransactionData [, callback])\n")),(0,r.kt)("p",null,"Parameter:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"signedTransactionData"),"\uff1aString - Signed transaction data in HEX format."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"callback"),"\uff1aFunction - (optional) Optional callback, returns an error object as first parameter and the result as second.")),(0,r.kt)("p",null,"Returns:"),(0,r.kt)("p",null,"PromiEvent: A promise combined event emitter. Will be resolved when the transaction receipt is available."),(0,r.kt)("p",null,"Please see the return values for web3.platon.sendTransaction for details."),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"var Web3 = require('web3')\nvar Account = require('account')\nconst transaction_demo = async function () {\n  web3 = new Web3('http://127.0.0.1:6789')\n  var privateKey = '0xb416b341437c420a45cb6ba5ca883655eec169360d36866124d23682c03766ba'\n  var hrp\xa0=\xa0await\xa0web3.platon.getAddressHrp()\n  var platonAccounts = new Accounts(web3, hrp);\n  let from = platonAccounts.privateKeyToAccount(privateKey).address\n  let nonce = web3.utils.numberToHex(await web3.platon.getTransactionCount(from))\n  let tx = {\n    from: from,\n    to: 'atp1j9x482k50kl86qvx5cyw7hp48qcx5mezayxj8t',\n    value: '1000000000000000000',\n    chainId: 201018,\n    gasPrice: '10000000000000',\n    gas: '21000',\n    nonce: nonce\n  };\n  // \u7b7e\u540d\u4ea4\u6613\n  let signTx = await web3.platon.accounts.signTransaction(tx, privateKey);\n  // \u53d1\u9001\u4ea4\u6613\n  let receipt = await web3.platon.sendSignedTransaction(signTx.rawTransaction);\n  console.log('sign tx data:\\n', signTx.rawTransaction);\n};\n")),(0,r.kt)("hr",null),(0,r.kt)("h4",{id:"web3platonsign"},"web3.platon.sign"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"web3.platon.sign()")," Signs data using a specific account. This account needs to be unlocked."),(0,r.kt)("p",null,"Method:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"web3.platon.sign(dataToSign, address [, callback])\n")),(0,r.kt)("p",null,"Parameter:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"dataToSign"),"\uff1aString - Data to sign. If String it will be converted using web3.utils.utf8ToHex."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"address"),"\uff1aString|Number - Address to sign data with. Or an address or index of a local wallet in web3.platon.accounts.wallet."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"callback"),"\uff1aFunction - (optional) Optional callback, returns an error object as first parameter and the result as second.")),(0,r.kt)("p",null,"Returns:"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Promise")," returns ",(0,r.kt)("inlineCode",{parentName:"p"},"String")," - The signature."),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'web3.platon.sign("Hello world", "lax1fyeszufxwxk62p46djncj86rd553skpptsj8v6")\n.then(console.log);\n> "0x30755ed65396facf86c53e6217c52b4daebe72aa4941d89635409de4c9c7f9466d4e9aaec7977f05e923889b33c0d0dd27d7226b6e6f56ce737465c5cfd04be400"\n\n// the below is the same\nweb3.platon.sign(web3.utils.utf8ToHex("Hello world"), "lax1fyeszufxwxk62p46djncj86rd553skpptsj8v6")\n.then(console.log);\n> "0x30755ed65396facf86c53e6217c52b4daebe72aa4941d89635409de4c9c7f9466d4e9aaec7977f05e923889b33c0d0dd27d7226b6e6f56ce737465c5cfd04be400"\n')),(0,r.kt)("hr",null),(0,r.kt)("h4",{id:"web3platonsigntransaction"},"web3.platon.signTransaction"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"web3.platon.signTransaction()")," Signs a transaction. This account needs to be unlocked."),(0,r.kt)("p",null,"Method:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"web3.platon.signTransaction(transactionObject, address [, callback])\n")),(0,r.kt)("p",null,"Parameter:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"transactionObject"),"\uff1a",(0,r.kt)("inlineCode",{parentName:"li"},"Object")," - The transaction data to sign web3.eth.sendTransaction() for more."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"address"),"\uff1a",(0,r.kt)("inlineCode",{parentName:"li"},"String")," - Address to sign transaction with."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"callback"),"\uff1a",(0,r.kt)("inlineCode",{parentName:"li"},"Function")," - (optional) Optional callback, returns an error object as first parameter and the result as second.")),(0,r.kt)("p",null,"Returns:"),(0,r.kt)("p",null,"Promise returns Object - The RLP encoded transaction. The raw property can be used to send the transaction using web3.platon.sendSignedTransaction."),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"web3.platon.signTransaction({\n    from: \"lax1avq5lrytgxxmddzhwnpjdg8xf3ufznwqrjn60v\",\n    gasPrice: \"20000000000\",\n    gas: \"21000\",\n    to: 'lax1x56n2df4x56n2df4x56n2df4x56n2df44dm33c',\n    value: \"1000000000000000000\",\n    data: \"\"\n}).then(console.log);\n> {\n    raw: '0xf86c808504a817c800825208943535353535353535353535353535353535353535880de0b6b3a76400008025a04f4c17305743700648bc4f6cd3038ec6f6af0df73e31757007b7f59df7bee88da07e1941b264348e80c78c4027afc65a87b0a5e43e86742b8ca0823584c6788fd0',\n    tx: {\n        nonce: '0x0',\n        gasPrice: '0x4a817c800',\n        gas: '0x5208',\n        to: 'lax1x56n2df4x56n2df4x56n2df4x56n2df44dm33c',\n        value: '0xde0b6b3a7640000',\n        input: '0x',\n        v: '0x25',\n        r: '0x4f4c17305743700648bc4f6cd3038ec6f6af0df73e31757007b7f59df7bee88d',\n        s: '0x7e1941b264348e80c78c4027afc65a87b0a5e43e86742b8ca0823584c6788fd0',\n        hash: '0xda3be87732110de6c1354c83770aae630ede9ac308d9f7b399ecfba23d923384'\n    }\n}\n")),(0,r.kt)("hr",null),(0,r.kt)("h4",{id:"web3platonestimategas"},"web3.platon.estimateGas"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"web3.platon.estimateGas()")," Executes a message call or transaction and returns the amount of the gas used."),(0,r.kt)("p",null,"Method:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"web3.platon.estimateGas(callObject [, callback])\n")),(0,r.kt)("p",null,"Parameter:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"callObject"),"\uff1aObject - A transaction object see web3.platon.sendTransaction, with the difference that for calls the from property is optional as well."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"callback"),"\uff1aFunction - (optional) Optional callback, returns an error object as first parameter and the result as second.")),(0,r.kt)("p",null,"Returns:"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Promise")," returns ",(0,r.kt)("inlineCode",{parentName:"p"},"Number")," - the used gas for the simulated call/transaction."),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'web3.platon.estimateGas({\n    to: "lax1fyeszufxwxk62p46djncj86rd553skpptsj8v6",\n    data: "0xc6888fa10000000000000000000000000000000000000000000000000000000000000003"\n})\n.then(console.log);\n> "0x0000000000000000000000000000000000000000000000000000000000000015"\n')),(0,r.kt)("hr",null),(0,r.kt)("h4",{id:"web3platongetpastlogs"},"web3.platon.getPastLogs"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"web3.platon.getPastLogs()")," Gets past logs, matching the given options."),(0,r.kt)("p",null,"Method:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"web3.platon.getPastLogs(options [, callback])\n")),(0,r.kt)("p",null,"Parameter:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"options"),"\uff1aObject - The filter options as follows:",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},'fromBlock - Number|String: The number of the earliest block ("latest" may be given to mean the most recent and "pending" currently mining, block). By default "latest".'),(0,r.kt)("li",{parentName:"ul"},'toBlock - Number|String: The number of the latest block ("latest" may be given to mean the most recent and "pending" currently mining, block). By default "latest".'),(0,r.kt)("li",{parentName:"ul"},"address - String|Array: An address or a list of addresses to only get logs from particular account(s)."),(0,r.kt)("li",{parentName:"ul"},"topics - Array: An array of values which must each appear in the log entries. The order is important, if you want to leave topics out use null, e.g. ","[null, '0x12...']",". You can also pass an array for each topic with options for that topic e.g. [null, ","['option1', 'option2']","]")))),(0,r.kt)("p",null,"Returns:"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Promise")," returns ",(0,r.kt)("inlineCode",{parentName:"p"},"Array")," - Array of log objects."),(0,r.kt)("p",null,"The structure of the returned event ",(0,r.kt)("inlineCode",{parentName:"p"},"Object")," in the ",(0,r.kt)("inlineCode",{parentName:"p"},"Array")," looks as follows:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"address")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"String"),": From which this event originated from."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"data")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"String"),": The data containing non-indexed log parameter."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"topics")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"Array"),": An array with max 4 32 Byte topics, topic 1-3 contains indexed parameters of the log."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"logIndex")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"Number"),": Integer of the event index position in the block."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"transactionIndex")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"Number"),": Integer of the transaction\u2019s index position, the event was created in."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"transactionHash")," 32 Bytes - ",(0,r.kt)("inlineCode",{parentName:"li"},"String"),": Hash of the transaction this event was created in."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"blockHash")," 32 Bytes - ",(0,r.kt)("inlineCode",{parentName:"li"},"String"),": Hash of the block where this event was created in. null when it's still pending."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"blockNumber")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"Number"),": The block number where this log was created in. null when it's still pending.")),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"web3.platon.getPastLogs({\n    address: \"lax1fyeszufxwxk62p46djncj86rd553skpptsj8v6\",\n    topics: [\"0x033456732123ffff2342342dd12342434324234234fd234fd23fd4f23d4234\"]\n})\n.then(console.log);\n\n> [{\n    data: '0x7f9fade1c0d57a7af66ab4ead79fade1c0d57a7af66ab4ead7c2c2eb7b11a91385',\n    topics: ['0xfd43ade1c09fade1c0d57a7af66ab4ead7c2c2eb7b11a91ffdd57a7af66ab4ead7', '0x7f9fade1c0d57a7af66ab4ead79fade1c0d57a7af66ab4ead7c2c2eb7b11a91385']\n    logIndex: 0,\n    transactionIndex: 0,\n    transactionHash: '0x7f9fade1c0d57a7af66ab4ead79fade1c0d57a7af66ab4ead7c2c2eb7b11a91385',\n    blockHash: '0xfd43ade1c09fade1c0d57a7af66ab4ead7c2c2eb7b11a91ffdd57a7af66ab4ead7',\n    blockNumber: 1234,\n    address: 'lax1mc9jj4nf487e840j3k0vshjq7n9kj7awe459dv'\n},{...}]\n")),(0,r.kt)("hr",null),(0,r.kt)("h4",{id:"web3platonsubscribe"},"web3.platon.subscribe"),(0,r.kt)("p",null,"The web3.platon.subscribe function lets you subscribe to specific events in the blockchain."),(0,r.kt)("p",null,"Method:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"web3.platon.subscribe(type [, options] [, callback]);\n")),(0,r.kt)("p",null,"Parameter:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"type"),"\uff1aString - The subscription, you want to subscribe to."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"options"),"\uff1aMixed - (optional) Optional additional parameters, depending on the subscription type."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"callback"),"\uff1aFunction - (optional) Optional callback, returns an error object as first parameter and the result as second. Will be called for each incoming subscription, and the subscription itself as 3 parameter.")),(0,r.kt)("p",null,"Returns:"),(0,r.kt)("p",null,"EventEmitter - A Subscription instance:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"subscription.id"),": The subscription id, used to identify and unsubscribing the subscription."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"subscription.subscribe([callback])"),": Can be used to re-subscribe with the same parameters."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"subscription.unsubscribe([callback])"),": Unsubscribes the subscription and returns TRUE in the callback if successfull."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"subscription.arguments"),": The subscription arguments, used when re-subscribing.\n",(0,r.kt)("inlineCode",{parentName:"li"},'on("data")')," returns Object: Fires on each incoming log with the log object as argument."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},'on("changed")')," returns Object: Fires on each log which was removed from the blockchain. The log will have the additional property ",(0,r.kt)("inlineCode",{parentName:"li"},'"removed: true"'),"."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},'on("error")')," returns Object: Fires when an error in the subscription occurs."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},'on("connected")')," returns String: Fires once after the subscription successfully connected. Returns the subscription id.")),(0,r.kt)("p",null,"Notification returns:"),(0,r.kt)("p",null,"Mixed - depends on the subscription, see the different subscriptions for more."),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"var subscription = web3.platon.subscribe(\n  'logs',\n  {\n    address: 'lax..',\n    topics: ['lax...']\n  },\n  function (error, result) {\n    if (!error) console.log(log);\n  }\n);\n\n// unsubscribes the subscription\nsubscription.unsubscribe(function (error, success) {\n  if (success) console.log('Successfully unsubscribed!');\n});\n")),(0,r.kt)("hr",null),(0,r.kt)("h4",{id:"web3platonclearsubscriptions"},"web3.platon.clearSubscriptions"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"web3.platon.clearSubscriptions()")," Resets subscriptions. This will not reset subscriptions from other packages like web3-shh, as they use their own requestManager."),(0,r.kt)("p",null,"Method:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"web3.platon.clearSubscriptions(flag)\n")),(0,r.kt)("p",null,"Parameters:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"flag"),"\uff1aBoolean - \u503c\u4e3a true \u5219\u8868\u793a\u4fdd\u6301\u540c\u6b65\u8ba2\u9605")),(0,r.kt)("p",null,"Returns:"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Boolean"),'\uff1a If true it keeps the "syncing" subscription.'),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"web3.platon.subscribe('logs', {} ,function(){ ... });\n\n...\n\nweb3.platon.clearSubscriptions();\n")),(0,r.kt)("hr",null),(0,r.kt)("h4",{id:"web3platonsubscribependingtransactions"},'web3.platon.subscribe("pendingTransactions")'),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"pendingTransactions")," Subscribes to incoming pending transactions."),(0,r.kt)("p",null,"Method:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"web3.platon.subscribe('pendingTransactions' [, callback]);\n")),(0,r.kt)("p",null,"Parameter:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"type"),'\uff1aString - "pendingTransactions"\uff0cthe type of the subscription.'),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"callback"),"\uff1aFunction - (optional) Optional callback, returns an error object as first parameter and the result as second. Will be called for each incoming subscription.")),(0,r.kt)("p",null,"Returns:"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"EventEmitter"),": An subscription instance as an event emitter with the following events:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},'"data" returns ',(0,r.kt)("inlineCode",{parentName:"li"},"String"),": Fires on each incoming pending transaction and returns the transaction hash."),(0,r.kt)("li",{parentName:"ul"},'"error" returns ',(0,r.kt)("inlineCode",{parentName:"li"},"Object"),": Fires when an error in the subscription occurs.")),(0,r.kt)("p",null,"Notification returns:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Object|Null - First parameter is an error object if the subscription failed."),(0,r.kt)("li",{parentName:"ul"},"Object - Second parameter is the transaction hash.")),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"var subscription = web3.platon\n  .subscribe('pendingTransactions', function (error, result) {\n    if (!error) console.log(result);\n  })\n  .on('data', function (transaction) {\n    console.log(transaction);\n  });\n\n// unsubscribes the subscription\nsubscription.unsubscribe(function (error, success) {\n  if (success) console.log('Successfully unsubscribed!');\n});\n")),(0,r.kt)("hr",null),(0,r.kt)("h4",{id:"web3platonsubscribenewblockheaders"},"web3.platon.subscribe('newBlockHeaders')"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"newBlockHeaders")," Subscribes to incoming block headers. This can be used as timer to check for changes on the blockchain."),(0,r.kt)("p",null,"Method:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"web3.platon.subscribe('newBlockHeaders' [, callback]);\n")),(0,r.kt)("p",null,"Parameter:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"type"),"\uff1a",(0,r.kt)("inlineCode",{parentName:"li"},"String")," - ",(0,r.kt)("inlineCode",{parentName:"li"},'"newBlockHeaders"'),", the type of the subscription."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"callback"),"\uff1a",(0,r.kt)("inlineCode",{parentName:"li"},"Function")," - (optional) Optional callback, returns an error object as first parameter and the result as second. Will be called for each incoming subscription.")),(0,r.kt)("p",null,"Returns:"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"EventEmitter"),": An subscription instance as an event emitter with the following events:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},'"data"')," returns ",(0,r.kt)("inlineCode",{parentName:"li"},"Object"),": Fires on each incoming block header."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},'"error"')," returns ",(0,r.kt)("inlineCode",{parentName:"li"},"Object"),": Fires when an error in the subscription occurs.")),(0,r.kt)("p",null,"The structure of a returned block header is as follows:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"number")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"Number"),": The block number. null when it's pending block."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"hash")," 32 Bytes - ",(0,r.kt)("inlineCode",{parentName:"li"},"String"),": Hash of the block. null when it's pending block."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"parentHash")," 32 Bytes - ",(0,r.kt)("inlineCode",{parentName:"li"},"String"),": Hash of the parent block."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"nonce")," 8 Bytes - ",(0,r.kt)("inlineCode",{parentName:"li"},"String"),": Hash of the generated proof-of-work. null when it's pending block."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"sha3Uncles")," 32 Bytes - ",(0,r.kt)("inlineCode",{parentName:"li"},"String"),": SHA3 of the uncles data in the block."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"logsBloom")," 256 Bytes - ",(0,r.kt)("inlineCode",{parentName:"li"},"String"),": The bloom filter for the logs of the block. null when it's pending block."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"transactionsRoot")," 32 Bytes - ",(0,r.kt)("inlineCode",{parentName:"li"},"String"),": The root of the transaction trie of the block"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"stateRoot")," 32 Bytes - ",(0,r.kt)("inlineCode",{parentName:"li"},"String"),": The root of the final state trie of the block."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"receiptsRoot")," 32 Bytes - ",(0,r.kt)("inlineCode",{parentName:"li"},"String"),": The root of the receipts."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"miner")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"String"),": The address of the beneficiary to whom the mining rewards were given."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"extraData")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"String"),": The \u201cextra data\u201d field of this block."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"gasLimit")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"Number"),": The maximum gas allowed in this block."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"gasUsed")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"Number"),": The total used gas by all transactions in this block."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"timestamp")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"Number"),": The unix timestamp for when the block was collated.")),(0,r.kt)("p",null,"Notification returns:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"Object|Null")," - First parameter is an error object if the subscription failed."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"Object")," - The block header object like above.")),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"var subscription = web3.platon\n  .subscribe('newBlockHeaders', function (error, result) {\n    if (error) console.log(error);\n  })\n  .on('data', function (blockHeader) {});\n\n// unsubscribes the subscription\nsubscription.unsubscribe(function (error, success) {\n  if (success) console.log('Successfully unsubscribed!');\n});\n")),(0,r.kt)("hr",null),(0,r.kt)("h4",{id:"web3platonsubscribesyncing"},"web3.platon.subscribe('syncing')"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"syncing")," Subscribe to syncing events. This will return an object when the node is syncing and when it's finished syncing will return FALSE."),(0,r.kt)("p",null,"Method:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"web3.platon.subscribe('syncing' [, callback]);\n")),(0,r.kt)("p",null,"Parameter:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"type"),"\uff1aString - ",(0,r.kt)("inlineCode",{parentName:"li"},'"syncing"'),", the type of the subscription."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"callback"),"\uff1a",(0,r.kt)("inlineCode",{parentName:"li"},"Function")," - (optional) Optional callback, returns an error object as first parameter and the result as second. Will be called for each incoming subscription.")),(0,r.kt)("p",null,"Returns:"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"EventEmitter"),": An subscription instance as an event emitter with the following events:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},'"data"')," returns ",(0,r.kt)("inlineCode",{parentName:"li"},"Object"),": Fires on each incoming sync object as argument."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},'"changed"')," returns ",(0,r.kt)("inlineCode",{parentName:"li"},"Object"),": Fires when the synchronisation is started with true and when finished with false."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},'"error"')," returns ",(0,r.kt)("inlineCode",{parentName:"li"},"Object"),": Fires when an error in the subscription occurs.")),(0,r.kt)("p",null,"For the structure of a returned event Object see ",(0,r.kt)("inlineCode",{parentName:"p"},"web3.platon.isSyncing")," return values."),(0,r.kt)("p",null,"Notification returns:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"Object|Null")," - First parameter is an error object if the subscription failed."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"Object|Boolean")," - The syncing object, when started it will return true once or when finished it will return false once.")),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"var subscription = web3.platon\n  .subscribe('syncing', function (error, sync) {\n    if (!error) console.log(sync);\n  })\n  .on('data', function (sync) {\n    // show some syncing stats\n  })\n  .on('changed', function (isSyncing) {\n    if (isSyncing) {\n      // stop app operation\n    } else {\n      // regain app operation\n    }\n  });\n\n// unsubscribes the subscription\nsubscription.unsubscribe(function (error, success) {\n  if (success) console.log('Successfully unsubscribed!');\n});\n")),(0,r.kt)("hr",null),(0,r.kt)("h4",{id:"web3platonsubscribelogs"},"web3.platon.subscribe('logs')"),(0,r.kt)("p",null,"Subscribes to incoming logs, filtered by the given options. If a valid numerical fromBlock options property is set, Web3 will retrieve logs beginning from this point, backfilling the response as necessary."),(0,r.kt)("p",null,"Method:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"web3.platon.subscribe('logs', options [, callback]);\n")),(0,r.kt)("p",null,"Parameter:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},'"logs"')," \uff1a",(0,r.kt)("inlineCode",{parentName:"li"},"String"),", the type of the subscription."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"options"),"\uff1a",(0,r.kt)("inlineCode",{parentName:"li"},"Object")," - The subscription options:",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"fromBlock")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"Number"),": The number of the earliest block. By default null."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"address")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"String|Array"),": An address or a list of addresses to only get logs from particular account(s)."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"topics")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"Array"),": An array of values which must each appear in the log entries. The order is important, if you want to leave topics out use null, e.g. ","[null, '0x00...']",". You can also pass another array for each topic with options for that topic e.g. [null, ","['option1', 'option2']","]"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"callback")," - Function: An array of values which must each appear in the log entries. The order is important, if you want to leave topics out use null, e.g. ","[null, '0x00...']",". You can also pass another array for each topic with options for that topic e.g. [null, ","['option1', 'option2']","].")),(0,r.kt)("p",null,"Returns:"),(0,r.kt)("p",null,"EventEmitter: An subscription instance as an event emitter with the following events:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},'"data"')," returns ",(0,r.kt)("inlineCode",{parentName:"li"},"Object"),": Fires on each incoming log with the log object as argument."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},'"changed"')," returns ",(0,r.kt)("inlineCode",{parentName:"li"},"Object"),': returns Object: Fires on each log which was removed from the blockchain. The log will have the additional property "removed: true".'),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},'"error"')," returns ",(0,r.kt)("inlineCode",{parentName:"li"},"Object"),": Fires when an error in the subscription occurs.")),(0,r.kt)("p",null,"For the structure of a returned event Object see web3.platon.getPastEvents return values."),(0,r.kt)("p",null,"Notification returns:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"Object|Null")," - First parameter is an error object if the subscription failed."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"Object")," - The log object like in web3.platon.getPastEvents return values.")),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"var subscription = web3.platon\n  .subscribe(\n    'logs',\n    {\n      address: 'lax..',\n      topics: ['lax...']\n    },\n    function (error, result) {\n      if (!error) console.log(result);\n    }\n  )\n  .on('data', function (log) {\n    console.log(log);\n  })\n  .on('changed', function (log) {});\n\n// unsubscribes the subscription\nsubscription.unsubscribe(function (error, success) {\n  if (success) console.log('Successfully unsubscribed!');\n});\n")),(0,r.kt)("hr",null),(0,r.kt)("h4",{id:"web3platoncontract"},"web3.platon.Contract"),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"web3.platon.Contract")," object makes it easy to interact with smart contracts on the PlatON blockchain. When you create a new contract object you give it the json interface of the respective smart contract and web3 will auto convert all calls into low level ABI calls over RPC for you."),(0,r.kt)("p",null,"This allows you to interact with smart contracts as if they were JavaScript objects."),(0,r.kt)("p",null,"To use it standalone:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"new web3.platon.Contract(jsonInterface[, address][, options])\n")),(0,r.kt)("p",null,"Parameter:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"jsonInterface")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"Object"),": The json interface for the contract to instantiate"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"address")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"String"),": (optional): The address of the smart contract to call."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"options")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"Object")," : (optional): The options of the contract. Some are used as fallbacks for calls and transactions:",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"from")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"String"),": The address transactions should be made from."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"gasPrice")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"String"),": The gas price in von to use for transactions."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"gas")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"Number"),": The maximum gas provided for a transaction (gas limit)."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"data")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"String"),": The byte code of the contract. Used when the contract gets deployed."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"vmType")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"Number"),": The contract type. 0 means solidity contract, 1 means WASM contract. The default is the solidity contract. (New field)"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"net_type ")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"String"),": The network type. ",(0,r.kt)("inlineCode",{parentName:"li"},"lat")," represents the primary network, ",(0,r.kt)("inlineCode",{parentName:"li"},"lax")," represents the test network. The default is to the test network. (New field)")))),(0,r.kt)("p",null,"Returns:"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Object"),": The contract instance with all it's methods and events."),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"var myContract = new web3.platon.Contract([...], 'lax1mc9jj4nf487e840j3k0vshjq7n9kj7awe459dv', {\n    from: 'lax1zg69v7yszg69v7yszg69v7yszg69v7y3q7dnwf', // default from address\n    gasPrice: '20000000000' // default gas price in wei, 20 gwei in this case\n});\n")),(0,r.kt)("hr",null),(0,r.kt)("h4",{id:"options"},"options"),(0,r.kt)("p",null,"The options object for the contract instance. from, gas and gasPrice are used as fallback values when sending transactions."),(0,r.kt)("p",null,"Method:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"myContract.options\n")),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"options")," options:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"address")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"String"),": The address where the contract is deployed."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"jsonInterface")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"Array"),": The json interface of the contract."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"data")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"String"),": The byte code of the contract."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"from")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"String"),": The address transactions should be made from."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"gasPrice")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"String"),": The gas price in von to use for transactions."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"gas")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"Number"),": The maximum gas provided for a transaction (gas limit).")),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"myContract.options;\n> {\n    address: 'lax1zg69v7yszg69v7yszg69v7yszg69v7y3q7dnwf',\n    jsonInterface: [...],\n    from: 'lax1mc9jj4nf487e840j3k0vshjq7n9kj7awe459dv',\n    gasPrice: '10000000000000',\n    gas: 1000000\n}\n\nmyContract.options.from = 'lax1zg69v7yszg69v7yszg69v7yszg69v7y3q7dnwf'; // default from address\nmyContract.options.gasPrice = '20000000000000'; // default gas price in wei\nmyContract.options.gas = 5000000; // provide as fallback always 5M gas\n")),(0,r.kt)("hr",null),(0,r.kt)("h4",{id:"optionsaddress---contract-address"},"options.address - contract address"),(0,r.kt)("p",null,"The address used for this contract instance. All transactions generated by web3.js from this contract will contain this address as the \u201cto\u201d. The address will be stored in lowercase."),(0,r.kt)("p",null,"Method:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"myContract.options.address\n")),(0,r.kt)("p",null,"Property:"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"address")," - ",(0,r.kt)("inlineCode",{parentName:"p"},"String|null"),": The address for this contract, or null if it\u2019s not yet set."),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"myContract.options.address;\n> 'lax1mc9jj4nf487e840j3k0vshjq7n9kj7awe459dv'\n\n// set a new address\nmyContract.options.address = 'lax...';\n")),(0,r.kt)("hr",null),(0,r.kt)("h4",{id:"optionsjsoninterface"},"options.jsonInterface"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"jsonInterface")," The json interface object derived from the ABI of this contract."),(0,r.kt)("p",null,"Method:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"myContract.options.jsonInterface\n")),(0,r.kt)("p",null,"Property:"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"jsonInterface")," - ",(0,r.kt)("inlineCode",{parentName:"p"},"Array"),": The json interface for this contract. Re-setting this will regenerate the methods and events of the contract instance."),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'myContract.options.jsonInterface;\n> [{\n    "type":"function",\n    "name":"foo",\n    "inputs": [{"name":"a","type":"uint256"}],\n    "outputs": [{"name":"b","type":"address"}]\n},{\n    "type":"event",\n    "name":"Event"\n    "inputs": [{"name":"a","type":"uint256","indexed":true},{"name":"b","type":"bytes32","indexed":false}],\n}]\n\n// set a new interface\nmyContract.options.jsonInterface = [...];\n')),(0,r.kt)("hr",null),(0,r.kt)("h4",{id:"deploy"},"deploy"),(0,r.kt)("p",null,"Call this function to deploy the contract to the blockchain. After successful deployment the promise will resolve with a new contract instance."),(0,r.kt)("p",null,"Method:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"myContract.deploy(options)\n")),(0,r.kt)("p",null,"Parameter:"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"options")," - Object: The options used for deployment."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"data")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"String"),": The byte code of the contract."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"arguments")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"Array"),": (optional): The arguments which get passed to the constructor on deployment. If you deploy a WASM contract, you can refer to ",(0,r.kt)("a",{parentName:"li",href:"https://github.com/PlatONnetwork/client-sdk-js/blob/feature/wasm/test/1_platon_wasm.js"},"WASM contract parameter passing reference"),"\u3002")),(0,r.kt)("p",null,"Returns:"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Object"),": The transaction object:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"arguments"),": ",(0,r.kt)("inlineCode",{parentName:"li"},"Array")," - The arguments passed to the method before. They can be changed."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"send"),": ",(0,r.kt)("inlineCode",{parentName:"li"},"Function")," - Will deploy the contract. The promise will resolve with the new contract instance, instead of the receipt!"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"estimateGas"),": ",(0,r.kt)("inlineCode",{parentName:"li"},"Function")," - Will estimate the gas used for deploying."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"encodeABI"),": ",(0,r.kt)("inlineCode",{parentName:"li"},"Function")," - Encodes the ABI of the deployment, which is contract data + constructor parameters")),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"myContract.deploy({\n    data: '0x12345...',\n    arguments: [123, 'My String']\n})\n.send({\n    from: 'lax1zg69v7yszg69v7yszg69v7yszg69v7y3q7dnwf',\n    gas: 1500000,\n    gasPrice: '30000000000000'\n}, function(error, transactionHash){ ... })\n.on('error', function(error){ ... })\n.on('transactionHash', function(transactionHash){ ... })\n.on('receipt', function(receipt){\n   console.log(receipt.contractAddress) // contains the new contract address\n})\n.on('confirmation', function(confirmationNumber, receipt){ ... })\n.then(function(newContractInstance){\n    console.log(newContractInstance.options.address) // instance with the new contract address\n});\n\n\n// When the data is already set as an option to the contract itself\nmyContract.options.data = '0x12345...';\n\nmyContract.deploy({\n    arguments: [123, 'My String']\n})\n.send({\n    from: 'lax1zg69v7yszg69v7yszg69v7yszg69v7y3q7dnwf',\n    gas: 1500000,\n    gasPrice: '30000000000000'\n})\n.then(function(newContractInstance){\n    console.log(newContractInstance.options.address) // instance with the new contract address\n});\n\n\n// Simply encoding\nmyContract.deploy({\n    data: '0x12345...',\n    arguments: [123, 'My String']\n})\n.encodeABI();\n> '0x12345...0000012345678765432'\n\n\n// Gas estimation\nmyContract.deploy({\n    data: '0x12345...',\n    arguments: [123, 'My String']\n})\n.estimateGas(function(err, gas){\n    console.log(gas);\n});\n")),(0,r.kt)("hr",null),(0,r.kt)("h4",{id:"methods"},"methods"),(0,r.kt)("p",null,"Creates a transaction object for that method, which then can be called, send, estimated."),(0,r.kt)("p",null,"If it is a WASM contract, you can refer to ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/PlatONnetwork/client-sdk-js/blob/feature/wasm/test/1_platon_wasm.js"},"WASM contract parameter passing reference"),"\u3002"),(0,r.kt)("p",null,"Method:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"myContract.methods.myMethod([param1[, param2[, ...]]])\n")),(0,r.kt)("p",null,"The methods of this smart contract are available through:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"The name: myContract.methods.myMethod(123)"),(0,r.kt)("li",{parentName:"ul"},"The name with parameters: myContract.methods","[","'myMethod(uint256)'","]","(123)"),(0,r.kt)("li",{parentName:"ul"},"The signature: myContract.methods","[","'0x58cf5f10'","]","(123)")),(0,r.kt)("p",null,"This allows calling functions with same name but different parameters from the JavaScript contract object."),(0,r.kt)("p",null,"Parameter:"),(0,r.kt)("p",null,"Parameters of any method depend on the smart contracts methods, defined in the JSON interface."),(0,r.kt)("p",null,"Returns:"),(0,r.kt)("p",null,"Object: The transaction object:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"arguments"),": Array - The arguments passed to the method before. They can be changed."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"call"),": Function - Will call the \u201cconstant\u201d method and execute it's smart contract method in the EVM without sending a transaction (Can\u2019t alter the smart contract state)."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"send"),": Function - Will send a transaction to the smart contract and execute it's method (Can alter the smart contract state)."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"estimateGas"),": Function - Will estimate the gas used when the method would be executed on chain."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"encodeABI"),": Function - Encodes the ABI for this method. This can be send using a transaction, call the method or passing into another smart contracts method as argument.")),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"// calling a method\nmyContract.methods.myMethod(123).call({from: 'lax1mc9jj4nf487e840j3k0vshjq7n9kj7awe459dv'}, function(error, result){\n    ...\n});\n\n// or sending and using a promise\nmyContract.methods.myMethod(123).send({from: 'lax1mc9jj4nf487e840j3k0vshjq7n9kj7awe459dv'})\n.then(function(receipt){\n    // receipt can also be a new contract instance, when coming from a \"contract.deploy({...}).send()\"\n});\n\n// or sending and using the events\nmyContract.methods.myMethod(123).send({from: 'lax1mc9jj4nf487e840j3k0vshjq7n9kj7awe459dv'})\n.on('transactionHash', function(hash){\n    ...\n})\n.on('receipt', function(receipt){\n    ...\n})\n.on('confirmation', function(confirmationNumber, receipt){\n    ...\n})\n.on('error', console.error);\n")),(0,r.kt)("hr",null),(0,r.kt)("h4",{id:"methodsmymethodcall"},"methods.myMethod.call"),(0,r.kt)("p",null,"Will call a \u201cconstant\u201d method and execute it's smart contract method in the EVM without sending any transaction. Note calling can not alter the smart contract state."),(0,r.kt)("p",null,"Method:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"myContract.methods.myMethod([param1[, param2[, ...]]]).call(options[, callback])\n")),(0,r.kt)("p",null,"Parameter:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"options")," - Object : (optional): The options used for calling.",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"from")," - String (optional): The address the call \u201ctransaction\u201d should be made from."),(0,r.kt)("li",{parentName:"ul"},"gasPrice - String (optional): The gas price in wei to use for this call \u201ctransaction\u201d."),(0,r.kt)("li",{parentName:"ul"},"gas - Number (optional): The maximum gas provided for this call \u201ctransaction\u201d (gas limit)."))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"callback")," - Function : (optional): This callback will be fired with the result of the smart contract method execution as the second argument, or with an error object as the first argument.")),(0,r.kt)("p",null,"Returns:"),(0,r.kt)("p",null,"Promise returns Mixed: The return value(s) of the smart contract method. If it returns a single value, it\u2019s returned as is. If it has multiple return values they are returned as an object with properties and indices:\nExample:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"// using the callback\nmyContract.methods.myMethod(123).call({from: 'lax1mc9jj4nf487e840j3k0vshjq7n9kj7awe459dv'}, function(error, result){\n    ...\n});\n\n// using the promise\nmyContract.methods.myMethod(123).call({from: 'lax1mc9jj4nf487e840j3k0vshjq7n9kj7awe459dv'})\n.then(function(result){\n    ...\n});\n")),(0,r.kt)("p",null,"MULTI-ARGUMENT RETURN:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'// Solidity\ncontract MyContract {\n    function myFunction() returns(uint256 myNumber, string myString) {\n        return (23456, "Hello!%");\n    }\n}\n')),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"// web3.js\nvar MyContract = new web3.platon.contract(abi, address);\nMyContract.methods.myFunction().call()\n.then(console.log);\n> Result {\n    myNumber: '23456',\n    myString: 'Hello!%',\n    0: '23456', // these are here as fallbacks if the name is not know or given\n    1: 'Hello!%'\n}\n")),(0,r.kt)("p",null,"SINGLE-ARGUMENT RETURN:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'// Solidity\ncontract MyContract {\n    function myFunction() returns(string myString) {\n        return "Hello!%";\n    }\n}\n')),(0,r.kt)("p",null,"Then in web3.js, the ",(0,r.kt)("inlineCode",{parentName:"p"},"call")," method will also return a single value:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'// web3.js\nvar MyContract = new web3.platon.contract(abi, address);\nMyContract.methods.myFunction().call()\n.then(console.log);\n> "Hello!%"\n')),(0,r.kt)("hr",null),(0,r.kt)("h4",{id:"send---methodsmymethodsend"},"send - methods.myMethod.send"),(0,r.kt)("p",null,"Will send a transaction to the smart contract and execute it's method. Note this can alter the smart contract state."),(0,r.kt)("p",null,"Method:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"myContract.methods.myMethod([param1[, param2[, ...]]]).send(options[, callback])\n")),(0,r.kt)("p",null,"Parameter:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"options")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"Object"),": The options used for sending.",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"from")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"String"),": The address the transaction should be sent from."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"gasPrice")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"String"),": (optional): The gas price in von to use for this transaction."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"gas")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"Number"),": (optional): The maximum gas provided for this transaction (gas limit)."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"value")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"Number|String|BN|BigNumber"),": (optional): The value transferred for the transaction in von."))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"callback")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"Function"),": (optional): This callback will be fired first with the \u201ctransactionHash\u201d, or with an error object as the first argument.")),(0,r.kt)("p",null,"Returns:"),(0,r.kt)("p",null,"The callback will return the 32 bytes transaction hash."),(0,r.kt)("p",null,"PromiEvent: A promise combined event emitter. Will be resolved when the transaction receipt is available, OR if this send() is called from a someContract.deploy(), then the promise will resolve with the new contract instance. Additionally the following events are available:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},'"transactionHash" returns ',(0,r.kt)("inlineCode",{parentName:"li"},"String"),": is fired right after the transaction is sent and a transaction hash is available."),(0,r.kt)("li",{parentName:"ul"},'"receipt" returns ',(0,r.kt)("inlineCode",{parentName:"li"},"Object"),": is fired when the transaction receipt is available. Receipts from contracts will have no logs property, but instead an events property with event names as keys and events as properties. See getPastEvents return values for details about the returned event object."),(0,r.kt)("li",{parentName:"ul"},'"confirmation" returns ',(0,r.kt)("inlineCode",{parentName:"li"},"Number"),", Object: is fired for every confirmation up to the 24th confirmation. Receives the confirmation number as the first and the receipt as the second argument. Fired from confirmation 1 on, which is the block where it\u2019s minded."),(0,r.kt)("li",{parentName:"ul"},'"error" returns ',(0,r.kt)("inlineCode",{parentName:"li"},"Error and Object|undefined"),": Is fired if an error occurs during sending. If the transaction was rejected by the network with a receipt, the second parameter will be the receipt.")),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"// using the callback\nmyContract.methods.myMethod(123).send({from: 'lax1mc9jj4nf487e840j3k0vshjq7n9kj7awe459dv'}, function(error, transactionHash){\n    ...\n});\n\n// using the promise\nmyContract.methods.myMethod(123).send({from: 'lax1mc9jj4nf487e840j3k0vshjq7n9kj7awe459dv'})\n.then(function(receipt){\n    // receipt can also be a new contract instance, when coming from a \"contract.deploy({...}).send()\"\n});\n\n\n// using the event emitter\nmyContract.methods.myMethod(123).send({from: 'lax1mc9jj4nf487e840j3k0vshjq7n9kj7awe459dv'})\n.on('transactionHash', function(hash){\n    ...\n})\n.on('confirmation', function(confirmationNumber, receipt){\n    ...\n})\n.on('receipt', function(receipt){\n    // receipt example\n    console.log(receipt);\n    > {\n        \"transactionHash\": \"0x9fc76417374aa880d4449a1f7f31ec597f00b1f6f3dd2d66f4c9c6c445836d8b\",\n        \"transactionIndex\": 0,\n        \"blockHash\": \"0xef95f2f1ed3ca60b048b4bf67cde2195961e0bba6f70bcbea9a2c4e133e34b46\",\n        \"blockNumber\": 3,\n        \"contractAddress\": \"lax1fyeszufxwxk62p46djncj86rd553skpptsj8v6\",\n        \"cumulativeGasUsed\": 314159,\n        \"gasUsed\": 30234,\n        \"events\": {\n            \"MyEvent\": {\n                returnValues: {\n                    myIndexedParam: 20,\n                    myOtherIndexedParam: '0x123456789...',\n                    myNonIndexParam: 'My String'\n                },\n                raw: {\n                    data: '0x7f9fade1c0d57a7af66ab4ead79fade1c0d57a7af66ab4ead7c2c2eb7b11a91385',\n                    topics: ['0xfd43ade1c09fade1c0d57a7af66ab4ead7c2c2eb7b11a91ffdd57a7af66ab4ead7', '0x7f9fade1c0d57a7af66ab4ead79fade1c0d57a7af66ab4ead7c2c2eb7b11a91385']\n                },\n                event: 'MyEvent',\n                signature: '0xfd43ade1c09fade1c0d57a7af66ab4ead7c2c2eb7b11a91ffdd57a7af66ab4ead7',\n                logIndex: 0,\n                transactionIndex: 0,\n                transactionHash: '0x7f9fade1c0d57a7af66ab4ead79fade1c0d57a7af66ab4ead7c2c2eb7b11a91385',\n                blockHash: '0xfd43ade1c09fade1c0d57a7af66ab4ead7c2c2eb7b11a91ffdd57a7af66ab4ead7',\n                blockNumber: 1234,\n                address: 'lax1mc9jj4nf487e840j3k0vshjq7n9kj7awe459dv'\n            },\n            \"MyOtherEvent\": {\n                ...\n            },\n            \"MyMultipleEvent\":[{...}, {...}] // If there are multiple of the same event, they will be in an array\n        }\n    }\n})\n.on('error', console.error); // If there's an out of gas error the second parameter is the receipt.\n")),(0,r.kt)("hr",null),(0,r.kt)("h4",{id:"estimategas---methodsmymethodestimategas"},"estimateGas - methods.myMethod.estimateGas"),(0,r.kt)("p",null,"Will call estimate the gas a method execution will take when executed in the EVM without. The estimation can differ from the actual gas used when later sending a transaction, as the state of the smart contract can be different at that time."),(0,r.kt)("p",null,"Method:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"myContract.methods.myMethod([param1[, param2[, ...]]]).estimateGas(options[, callback])\n")),(0,r.kt)("p",null,"Parameter:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"options")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"Object"),": (optional): The options used for calling.",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"from")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"String"),": (optional): The address the call \u201ctransaction\u201d should be made from."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"gas")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"Number")," : (optional): The maximum gas provided for this call \u201ctransaction\u201d (gas limit). Setting a specific value helps to detect out of gas errors. If all gas is used it will return the same number."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"value")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"Number|String|BN|BigNumber"),": (optional): The value transferred for the call \u201ctransaction\u201d in von."))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"callback")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"Function")," : (optional): This callback will be fired with the result of the gas estimation as the second argument, or with an error object as the first argument.")),(0,r.kt)("p",null,"Returns:"),(0,r.kt)("p",null,"Promise returns Number: The gas amount estimated."),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"// using the callback\nmyContract.methods.myMethod(123).estimateGas({gas: 5000000}, function(error, gasAmount){\n    if(gasAmount == 5000000)\n        console.log('Method ran out of gas');\n});\n\n// using the promise\nmyContract.methods.myMethod(123).estimateGas({from: 'lax1mc9jj4nf487e840j3k0vshjq7n9kj7awe459dv'})\n.then(function(gasAmount){\n    ...\n})\n.catch(function(error){\n    ...\n});\n")),(0,r.kt)("hr",null),(0,r.kt)("h4",{id:"encodeabi---methodsmymethodencodeabi"},"encodeABI - methods.myMethod.encodeABI"),(0,r.kt)("p",null,"Encodes the ABI for this method. This can be used to send a transaction, call a method, or pass it into another smart contracts method as arguments."),(0,r.kt)("p",null,"Method:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"myContract.methods.myMethod([param1[, param2[, ...]]]).encodeABI()\n")),(0,r.kt)("p",null,"Parameter:"),(0,r.kt)("p",null,"none"),(0,r.kt)("p",null,"Returns:"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"String"),": The encoded ABI byte code to send via a transaction or call."),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"myContract.methods.myMethod(123).encodeABI();\n> '0x58cf5f1000000000000000000000000000000000000000000000000000000000000007B'\n")),(0,r.kt)("hr",null),(0,r.kt)("h4",{id:"events"},"events"),(0,r.kt)("p",null,"Subscribe to an event."),(0,r.kt)("p",null,"Method:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"myContract.events.MyEvent([options][, callback])\n")),(0,r.kt)("p",null,"Parameter:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"options")," - ",(0,r.kt)("inlineCode",{parentName:"p"},"Object")," (optional): The options used for deployment\uff1a"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"filter")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"Object")," (optional): Let you filter events by indexed parameters, e.g. {filter: {myNumber: ","[12,13]","}} means all events where \u201cmyNumber\u201d is 12 or 13."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"fromBlock")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"Number"),' (optional): The block number (greater than or equal to) from which to get events on. Pre-defined block numbers as "latest", "earlist", "pending", and "genesis" can also be used.'),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"topics")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"Array")," (optional): This allows to manually set the topics for the event filter. If given the filter property and event signature, (topic","[0]",") will not be set automatically."))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"callback")," - ",(0,r.kt)("inlineCode",{parentName:"p"},"Function")," (optional): This callback will be fired for each event as the second argument, or an error as the first argument."))),(0,r.kt)("p",null,"Returns:"),(0,r.kt)("p",null,"EventEmitter: The event emitter has the following events:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},'"data"')," returns ",(0,r.kt)("inlineCode",{parentName:"li"},"Object"),": Fires on each incoming event with the event object as argument."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},'"changed"')," returns ",(0,r.kt)("inlineCode",{parentName:"li"},"Object"),': Fires on each event which was removed from the blockchain. The event will have the additional property "removed: true".'),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},'"error"')," returns ",(0,r.kt)("inlineCode",{parentName:"li"},"Object"),": Fires when an error in the subscription occours.")),(0,r.kt)("p",null,"The structure of the returned event ",(0,r.kt)("inlineCode",{parentName:"p"},"Object")," looks as follows:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"event")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"String"),": The event name."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"signature")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"String|Null"),": The event signature, null if it\u2019s an anonymous event."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"address")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"String"),": Address this event originated from."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"returnValues")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"Object"),": The return values coming from the event, e.g. {myVar: 1, myVar2: '0x234...'}."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"logIndex")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"Number"),": Integer of the event index position in the block."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"transactionIndex")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"Number"),": Integer of the transaction\u2019s index position the event was created in."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"transactionHash")," 32 Bytes - ",(0,r.kt)("inlineCode",{parentName:"li"},"String")," Hash of the transaction this event was created in."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"blockHash")," 32 Bytes - ",(0,r.kt)("inlineCode",{parentName:"li"},"String"),": Hash of the block this event was created in. null when it\u2019s still pending."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"blockNumber")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"Number"),": The block number this log was created in. null when it's still pending."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"raw.data")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"String"),": The data containing non-indexed log parameter."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"raw.topics")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"Array"),": An array with max 4 32 Byte topics, topic 1-3 contains indexed parameters of the event.")),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"myContract.events.MyEvent({\n    filter: {myIndexedParam: [20,23], myOtherIndexedParam: '0x123456789...'}, // Using an array means OR: e.g. 20 or 23\n    fromBlock: 0\n}, function(error, event){ console.log(event); })\n.on('data', function(event){\n    console.log(event); // same results as the optional callback above\n})\n.on('changed', function(event){\n    // remove event from local database\n})\n.on('error', console.error);\n\n// event output example\n> {\n    returnValues: {\n        myIndexedParam: 20,\n        myOtherIndexedParam: '0x123456789...',\n        myNonIndexParam: 'My String'\n    },\n    raw: {\n        data: '0x7f9fade1c0d57a7af66ab4ead79fade1c0d57a7af66ab4ead7c2c2eb7b11a91385',\n        topics: ['0xfd43ade1c09fade1c0d57a7af66ab4ead7c2c2eb7b11a91ffdd57a7af66ab4ead7', '0x7f9fade1c0d57a7af66ab4ead79fade1c0d57a7af66ab4ead7c2c2eb7b11a91385']\n    },\n    event: 'MyEvent',\n    signature: '0xfd43ade1c09fade1c0d57a7af66ab4ead7c2c2eb7b11a91ffdd57a7af66ab4ead7',\n    logIndex: 0,\n    transactionIndex: 0,\n    transactionHash: '0x7f9fade1c0d57a7af66ab4ead79fade1c0d57a7af66ab4ead7c2c2eb7b11a91385',\n    blockHash: '0xfd43ade1c09fade1c0d57a7af66ab4ead7c2c2eb7b11a91ffdd57a7af66ab4ead7',\n    blockNumber: 1234,\n    address: 'lax1mc9jj4nf487e840j3k0vshjq7n9kj7awe459dv'\n}\n")),(0,r.kt)("hr",null),(0,r.kt)("h4",{id:"eventsallevents"},"events.allEvents"),(0,r.kt)("p",null,"Method:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"myContract.events.allEvents([options][, callback])\n")),(0,r.kt)("p",null,"Same as ",(0,r.kt)("inlineCode",{parentName:"p"},"events")," but receives all events from this smart contract. Optionally the filter property can filter those events."),(0,r.kt)("hr",null),(0,r.kt)("h4",{id:"getpastevents"},"getPastEvents"),(0,r.kt)("p",null,"Gets past events for this contract."),(0,r.kt)("p",null,"Method:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"myContract.getPastEvents(event[, options][, callback])\n")),(0,r.kt)("p",null,"Parameter:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"event")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"String"),': The name of the event in the contract, or "allEvents" to get all events.'),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"options")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"Object")," (optional): The options used for deployment.",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"filter")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"Object")," (optional): Lets you filter events by indexed parameters, e.g. {filter: {myNumber: ","[12,13]","}} means all events where \u201cmyNumber\u201d is 12 or 13."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"fromBlock")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"Number|String|BN|BigNumber"),' (optional): The block number (greater than or equal to) from which to get events on. Pre-defined block numbers as "latest", "earlist", "pending", and "genesis" can also be used.'),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"toBlock")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"Number|String|BN|BigNumber"),' (optional): The block number (less than or equal to) to get events up to (Defaults to "latest"). Pre-defined block numbers as "latest", "earlist", "pending", and "genesis" can also be used.'),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"topics")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"Array")," (optional): This allows manually setting the topics for the event filter. If given the filter property and event signature, (topic","[0]",") will not be set automatically."))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"callback")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"Function")," (optional): This callback will be fired with an array of event logs as the second argument, or an error as the first argument.")),(0,r.kt)("p",null,"Returns:"),(0,r.kt)("p",null,"Promise returns Array: An array with the past event Objects, matching the given event name and filter."),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"myContract.getPastEvents('MyEvent', {\n    filter: {myIndexedParam: [20,23], myOtherIndexedParam: '0x123456789...'}, // Using an array means OR: e.g. 20 or 23\n    fromBlock: 0,\n    toBlock: 'latest'\n}, function(error, events){ console.log(events); })\n.then(function(events){\n    console.log(events) // same results as the optional callback above\n});\n\n> [{\n    returnValues: {\n        myIndexedParam: 20,\n        myOtherIndexedParam: '0x123456789...',\n        myNonIndexParam: 'My String'\n    },\n    raw: {\n        data: '0x7f9fade1c0d57a7af66ab4ead79fade1c0d57a7af66ab4ead7c2c2eb7b11a91385',\n        topics: ['0xfd43ade1c09fade1c0d57a7af66ab4ead7c2c2eb7b11a91ffdd57a7af66ab4ead7', '0x7f9fade1c0d57a7af66ab4ead79fade1c0d57a7af66ab4ead7c2c2eb7b11a91385']\n    },\n    event: 'MyEvent',\n    signature: '0xfd43ade1c09fade1c0d57a7af66ab4ead7c2c2eb7b11a91ffdd57a7af66ab4ead7',\n    logIndex: 0,\n    transactionIndex: 0,\n    transactionHash: '0x7f9fade1c0d57a7af66ab4ead79fade1c0d57a7af66ab4ead7c2c2eb7b11a91385',\n    blockHash: '0xfd43ade1c09fade1c0d57a7af66ab4ead7c2c2eb7b11a91ffdd57a7af66ab4ead7',\n    blockNumber: 1234,\n    address: 'lax1mc9jj4nf487e840j3k0vshjq7n9kj7awe459dv'\n},{\n    ...\n}]\n")),(0,r.kt)("hr",null),(0,r.kt)("h4",{id:"newfilter"},"newFilter"),(0,r.kt)("p",null,"newFilter creates a new filter and returns the filter id. It can be used to retrieve logs when the state changes."),(0,r.kt)("p",null,"Method:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"myContract.newFilter(event[, options][, callback])\n")),(0,r.kt)("p",null,"Parameter\uff1a"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"event")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"String"),': The name of the event in the contract, or "allEvents" to get all events.'),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"options")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"Object")," (optional): The options used for deployment.",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"filter")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"Object")," (optional): Lets you filter events by indexed parameters, e.g. {filter: {myNumber: ","[12,13]","}} means all events where \u201cmyNumber\u201d is 12 or 13."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"fromBlock")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"Number|String|BN|BigNumber"),' (optional): The block number (greater than or equal to) from which to get events on. Pre-defined block numbers as "latest", "earlist", "pending", and "genesis" can also be used.'),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"toBlock")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"Number|String|BN|BigNumber"),' (optional): The block number (less than or equal to) to get events up to (Defaults to "latest"). Pre-defined block numbers as "latest", "earlist", "pending", and "genesis" can also be used.'),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"topics")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"Array")," (optional): This allows manually setting the topics for the event filter. If given the filter property and event signature, (topic","[0]",") will not be set automatically."))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"callback")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"Function")," (optional): This callback will be fired with an array of event logs as the second argument, or an error as the first argument.")),(0,r.kt)("p",null,"Returns:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Returns a filter ID of type String.")),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'myContract.newFilter(eventName, {\n   filter: eventFilter,\n   fromBlock: fromBlockNum,\n   toBlock: "latest"\n}, function(error, rpcId){\n    console.log("rpcId:", rpcId);\n})\n\n> rpcId: 0xa081d1f00117ade0e08769bb053ae7e\n')),(0,r.kt)("hr",null),(0,r.kt)("h4",{id:"getfilterlogs"},"getFilterLogs"),(0,r.kt)("p",null,"getFilterLogs returns the logs for the filter with the given id. If the filter could not be found an empty array of logs is returned."),(0,r.kt)("p",null,"Method:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"myContract.getFilterLogs(rpcId[, callback])\n")),(0,r.kt)("p",null,"Parameter\uff1a"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"rpcId- String: Filter ID, returned by calling the ",(0,r.kt)("inlineCode",{parentName:"li"},"newFilter")," interface .")),(0,r.kt)("p",null,"Returns:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Promise returns Array: An array with the past event Objects, matching the given event name and filter.")),(0,r.kt)("p",null,"Example\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"contract.getFilterLogs('0xa081d1f00117ade0e08769bb053ae7e', function (error, events) {\n  console.log(events);\n}) >\n  [\n    {\n      address: 'lat1dw8t6q5jy6r3xqqkgc43nn403gpuzwx7penk3q',\n      topics: [\n        '0x0000000000000000000000000000000000000000007374727563744576656e74',\n        '0x000000000000000000000000000000000000000000000000000000000000c180'\n      ],\n      data: '0xc0',\n      blockNumber: '0x16375a',\n      transactionHash: '0x59d68e32b6566877fb024f3ab356d9c5d2947f6f7a89bc4b34432496c34193d5',\n      transactionIndex: '0x0',\n      blockHash: '0x2843f645de8147cce62e6d18bb287c4cf06bbb6a3f3f5ec97917a7a09e300eee',\n      logIndex: '0x0',\n      removed: false\n    }\n  ];\n")),(0,r.kt)("p",null,"Note: Read contract history events, which can be obtained using the ",(0,r.kt)("inlineCode",{parentName:"p"},"newFilter")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"getFilterLogs")," interfaces."),(0,r.kt)("hr",null),(0,r.kt)("h4",{id:"web3platonpersonal"},"web3.platon.personal"),(0,r.kt)("p",null,"The web3-platon-personal package allows you to interact with the PlatON node\u2019s accounts."),(0,r.kt)("p",null,"Notes: Many of these functions send sensitive information, like password. Never call these functions over a unsecured Websocket or HTTP provider, as your password will be sent in plain text!"),(0,r.kt)("p",null,"Usage:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"var Personal = require('web3.platon-personal');\n\n// \"Personal.providers.givenProvider\" will be set if in an PlatON supported browser.\nvar personal = new Personal(Personal.givenProvider || 'ws://some.local-or-remote.node:8546');\n\n\n// or using the web3 umbrella package\n\nvar Web3 = require('web3');\nvar web3 = new Web3(Web3.givenProvider || 'ws://some.local-or-remote.node:8546');\n\n// -> web3.platon.personal\n")),(0,r.kt)("hr",null),(0,r.kt)("h4",{id:"web3platonpersonalnewaccount"},"web3.platon.personal.newAccount"),(0,r.kt)("p",null,"Creates a new account."),(0,r.kt)("p",null,"Notes: Never call this function over a unsecured Websocket or HTTP provider, as your password will be sent in plain text!"),(0,r.kt)("p",null,"Method:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"web3.platon.personal.newAccount(password, [callback])\n")),(0,r.kt)("p",null,"Parameter:"),(0,r.kt)("p",null,"password - String: The password to encrypt this account with."),(0,r.kt)("p",null,"Returns:"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Promise")," returns ",(0,r.kt)("inlineCode",{parentName:"p"},"String"),": The address of the newly created account."),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"web3.platon.personal.newAccount('!@superpassword')\n.then(console.log);\n> 'lax1uqug0zq7rcxddndleq4ux2ft3tv6dqljphydrl'\n")),(0,r.kt)("hr",null),(0,r.kt)("h4",{id:"web3platonpersonalsign"},"web3.platon.personal.sign"),(0,r.kt)("p",null,"The sign method calculates an PlatON specific signature with:"),(0,r.kt)("p",null,"Notes: Sending your account password over an unsecured HTTP RPC connection is highly unsecure."),(0,r.kt)("p",null,"Method:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"web3.platon.personal.sign(dataToSign, address, password [, callback])\n")),(0,r.kt)("p",null,"Parameter:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"dataToSign"),"\uff1aString - Data to sign. If String it will be converted using web3.utils.utf8ToHex."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"address"),"\uff1aString - Address to sign data with."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"password"),"\uff1aString - The password of the account to sign data with."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"callback"),"\uff1aFunction - (optional) Optional callback, returns an error object as first parameter and the result as second.")),(0,r.kt)("p",null,"Returns:"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Promise")," returns ",(0,r.kt)("inlineCode",{parentName:"p"},"String")," - The signature."),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'web3.platon.personal.sign("Hello world", "lax1fyeszufxwxk62p46djncj86rd553skpptsj8v6", "test password!")\n.then(console.log);\n> "0x30755ed65396facf86c53e6217c52b4daebe72aa4941d89635409de4c9c7f9466d4e9aaec7977f05e923889b33c0d0dd27d7226b6e6f56ce737465c5cfd04be400"\n\n// the below is the same\nweb3.platon.personal.sign(web3.utils.utf8ToHex("Hello world"), "lax1fyeszufxwxk62p46djncj86rd553skpptsj8v6", "test password!")\n.then(console.log);\n> "0x30755ed65396facf86c53e6217c52b4daebe72aa4941d89635409de4c9c7f9466d4e9aaec7977f05e923889b33c0d0dd27d7226b6e6f56ce737465c5cfd04be400"\n')),(0,r.kt)("hr",null),(0,r.kt)("h4",{id:"web3platonpersonalecrecover"},"web3.platon.personal.ecRecover"),(0,r.kt)("p",null,"Recovers the account that signed the data."),(0,r.kt)("p",null,"Method:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"web3.platon.personal.ecRecover(dataThatWasSigned, signature [, callback])\n")),(0,r.kt)("p",null,"Parameter:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"dataThatWasSigned"),"\uff1a",(0,r.kt)("inlineCode",{parentName:"li"},"String")," - Data that was signed. If String it will be converted using web3.utils.utf8ToHex."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"signature"),"\uff1a",(0,r.kt)("inlineCode",{parentName:"li"},"String")," - The signature."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"Function")," - (optional) Optional callback, returns an error object as first parameter and the result as second.")),(0,r.kt)("p",null,"Returns:"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Promise")," returns ",(0,r.kt)("inlineCode",{parentName:"p"},"String")," - The account."),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'web3.platon.personal.ecRecover("Hello world", "0x30755ed65396facf86c53e6217c52b4daebe72aa4941d89635409de4c9c7f9466d4e9aaec7977f05e923889b33c0d0dd27d7226b6e6f56ce737465c5cfd04be400").then(console.log);\n> "lax1fyeszufxwxk62p46djncj86rd553skpptsj8v6"\n')),(0,r.kt)("hr",null),(0,r.kt)("h4",{id:"web3platonpersonalsigntransaction"},"web3.platon.personal.signTransaction"),(0,r.kt)("p",null,"Signs a transaction. This account needs to be unlocked."),(0,r.kt)("p",null,"Notes: Sending your account password over an unsecured HTTP RPC connection is highly unsecure."),(0,r.kt)("p",null,"Method:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"web3.platon.personal.signTransaction(transaction, password [, callback])\n")),(0,r.kt)("p",null,"Parameter:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"transaction"),"\uff1aObject - The transaction data to sign web3.platon.sendTransaction() for more."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"password"),"\uff1aString - The password of the from account, to sign the transaction with."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"callback"),"\uff1aFunction - (optional) Optional callback, returns an error object as first parameter and the result as second.")),(0,r.kt)("p",null,"Returns:"),(0,r.kt)("p",null,"Promise returns Object - The RLP encoded transaction. The raw property can be used to send the transaction using web3.platon.sendSignedTransaction."),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"web3.platon.signTransaction({\n    from: \"lax1avq5lrytgxxmddzhwnpjdg8xf3ufznwqrjn60v\",\n    gasPrice: \"20000000000\",\n    gas: \"21000\",\n    to: 'lax1x56n2df4x56n2df4x56n2df4x56n2df44dm33c',\n    value: \"1000000000000000000\",\n    data: \"\"\n}, 'MyPassword!').then(console.log);\n> {\n    raw: '0xf86c808504a817c800825208943535353535353535353535353535353535353535880de0b6b3a76400008025a04f4c17305743700648bc4f6cd3038ec6f6af0df73e31757007b7f59df7bee88da07e1941b264348e80c78c4027afc65a87b0a5e43e86742b8ca0823584c6788fd0',\n    tx: {\n        nonce: '0x0',\n        gasPrice: '0x4a817c800',\n        gas: '0x5208',\n        to: 'lax1x56n2df4x56n2df4x56n2df4x56n2df44dm33c',\n        value: '0xde0b6b3a7640000',\n        input: '0x',\n        v: '0x25',\n        r: '0x4f4c17305743700648bc4f6cd3038ec6f6af0df73e31757007b7f59df7bee88d',\n        s: '0x7e1941b264348e80c78c4027afc65a87b0a5e43e86742b8ca0823584c6788fd0',\n        hash: '0xda3be87732110de6c1354c83770aae630ede9ac308d9f7b399ecfba23d923384'\n    }\n}\n")),(0,r.kt)("hr",null),(0,r.kt)("h4",{id:"web3platonabi"},"web3.platon.abi"),(0,r.kt)("p",null,"The web3.platon.abi functions let you de- and encode parameters to ABI (Application Binary Interface) for function calls to the EVM (Ethereum Virtual Machine)."),(0,r.kt)("p",null,"Function List:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"web3.platon.abi.encodeFunctionSignature"),(0,r.kt)("li",{parentName:"ul"},"web3.platon.abi.encodeEventSignature"),(0,r.kt)("li",{parentName:"ul"},"web3.platon.abi.encodeParameter"),(0,r.kt)("li",{parentName:"ul"},"web3.platon.abi.encodeParameters"),(0,r.kt)("li",{parentName:"ul"},"web3.platon.abi.encodeFunctionCall"),(0,r.kt)("li",{parentName:"ul"},"web3.platon.abi.decodeParameter"),(0,r.kt)("li",{parentName:"ul"},"web3.platon.abi.decodeParameters"),(0,r.kt)("li",{parentName:"ul"},"web3.platon.abi.decodeLog")),(0,r.kt)("hr",null),(0,r.kt)("h4",{id:"web3platonabiencodefunctionsignature"},"web3.platon.abi.encodeFunctionSignature"),(0,r.kt)("p",null,"Encodes the function name to it's ABI signature, which are the first 4 bytes of the sha3 hash of the function name including types."),(0,r.kt)("p",null,"Method:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"web3.platon.abi.encodeFunctionSignature(functionName);\n")),(0,r.kt)("p",null,"Parameter:"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"functionName")," - ",(0,r.kt)("inlineCode",{parentName:"p"},"String|Object"),": The function name to encode. or the JSON interface object of the function. If string it has to be in the form function(type,type,...), e.g: myFunction(uint256,uint32[],bytes10,bytes)"),(0,r.kt)("p",null,"Returns:"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"String")," - The ABI signature of the function."),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"// From a JSON interface object\nweb3.platon.abi.encodeFunctionSignature({\n  name: 'myMethod',\n  type: 'function',\n  inputs: [\n    {\n      type: 'uint256',\n      name: 'myNumber'\n    },\n    {\n      type: 'string',\n      name: 'myString'\n    }\n  ]\n}) > 0x24ee0097;\n\n// Or string\nweb3.platon.abi.encodeFunctionSignature('myMethod(uint256,string)') > '0x24ee0097';\n")),(0,r.kt)("hr",null),(0,r.kt)("h4",{id:"web3platonabiencodeeventsignature"},"web3.platon.abi.encodeEventSignature"),(0,r.kt)("p",null,"Encodes the event name to it's ABI signature, which are the sha3 hash of the event name including input types."),(0,r.kt)("p",null,"Method:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"web3.platon.abi.encodeEventSignature(eventName);\n")),(0,r.kt)("p",null,"Parameter:"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"eventName")," - ",(0,r.kt)("inlineCode",{parentName:"p"},"String|Object"),": The event name to encode. or the JSON interface object of the event. If string it has to be in the form event(type,type,...), e.g: myEvent(uint256,uint32[],bytes10,bytes)"),(0,r.kt)("p",null,"Returns:"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"String")," - The ABI signature of the event."),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"// use params of string.\nweb3.platon.abi.encodeEventSignature('myEvent(uint256,bytes32)') >\n  0xf2eeb729e636a8cb783be044acf6b7b1e2c5863735b60d6daae84c366ee87d97;\n\n// or from a json interface object\nweb3.platon.abi.encodeEventSignature({\n  name: 'myEvent',\n  type: 'event',\n  inputs: [\n    {\n      type: 'uint256',\n      name: 'myNumber'\n    },\n    {\n      type: 'bytes32',\n      name: 'myBytes'\n    }\n  ]\n}) > 0xf2eeb729e636a8cb783be044acf6b7b1e2c5863735b60d6daae84c366ee87d97;\n")),(0,r.kt)("hr",null),(0,r.kt)("h4",{id:"web3platonabiencodefunctioncall"},"web3.platon.abi.encodeFunctionCall"),(0,r.kt)("p",null,"Encodes a function call using it's JSON interface object and given paramaters."),(0,r.kt)("p",null,"Method:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"web3.platon.abi.encodeFunctionCall(jsonInterface, parameters);\n")),(0,r.kt)("p",null,"Parameter:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"jsonInterface")," - Object: The JSON interface object of a function."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"parameters")," - Array: The parameters to encode.")),(0,r.kt)("p",null,"Returns:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"String")," - The ABI encoded function call. Means function signature + parameters.")),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"web3.platon.abi.encodeFunctionCall({\n    name: 'myMethod',\n    type: 'function',\n    inputs: [{\n        type: 'uint256',\n        name: 'myNumber'\n    },{\n        type: 'string',\n        name: 'myString'\n    }]\n}, ['2345675643', 'Hello!%']);\n> \"0x24ee0097000000000000000000000000000000000000000000000000000000008bd02b7b0000000000000000000000000000000000000000000000000000000000000040000000000000000000000000000000000000000000000000000000000000000748656c6c6f212500000000000000000000000000000000000000000000000000\"\n")),(0,r.kt)("hr",null),(0,r.kt)("h4",{id:"web3platonabidecodeparameter"},"web3.platon.abi.decodeParameter"),(0,r.kt)("p",null,"Decodes an ABI encoded parameter to it's JavaScript type."),(0,r.kt)("p",null,"Method:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"web3.platon.abi.decodeParameter(type, hexString);\n")),(0,r.kt)("p",null,"Parameter:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"type")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"String"),": The type of the parameter, see the solidity documentation for a list of types."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"hexString")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"String"),": The ABI byte code to decode.")),(0,r.kt)("p",null,"Returns:"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Mixed")," - The decoded parameter."),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"web3.platon.abi.decodeParameter('uint256', '0x0000000000000000000000000000000000000000000000000000000000000010');\n> \"16\"\n\nweb3.platon.abi.decodeParameter('string', '0x0000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000000848656c6c6f212521000000000000000000000000000000000000000000000000');\n> \"Hello!%!\"\n")),(0,r.kt)("hr",null),(0,r.kt)("h4",{id:"web3platonabidecodeparameters"},"web3.platon.abi.decodeParameters"),(0,r.kt)("p",null,"Decodes ABI encoded parameters to it's JavaScript types."),(0,r.kt)("p",null,"Method:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"web3.platon.abi.decodeParameters(typesArray, hexString);\n")),(0,r.kt)("p",null,"Parameter:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"typesArray")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"Array|Object"),": An array with types or a JSON interface outputs array."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"hexString")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"String"),": The ABI byte code to decode.")),(0,r.kt)("p",null,"Returns:"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Object")," - The result object containing the decoded parameters."),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"web3.platon.abi.decodeParameters(['string', 'uint256'], '0x000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000000ea000000000000000000000000000000000000000000000000000000000000000848656c6c6f212521000000000000000000000000000000000000000000000000');\n> Result { '0': 'Hello!%!', '1': '234' }\n\nweb3.platon.abi.decodeParameters([{\n    type: 'string',\n    name: 'myString'\n},{\n    type: 'uint256',\n    name: 'myNumber'\n}], '0x000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000000ea000000000000000000000000000000000000000000000000000000000000000848656c6c6f212521000000000000000000000000000000000000000000000000');\n> Result {\n    '0': 'Hello!%!',\n    '1': '234',\n    myString: 'Hello!%!',\n    myNumber: '234'\n}\n")),(0,r.kt)("hr",null),(0,r.kt)("h4",{id:"web3platonabidecodelog"},"web3.platon.abi.decodeLog"),(0,r.kt)("p",null,"Decodes ABI encoded log data and indexed topic data."),(0,r.kt)("p",null,"Method:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"web3.platon.abi.decodeLog(inputs, hexString, topics);\n")),(0,r.kt)("p",null,"Parameter:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"inputs - Object: A JSON interface inputs array. See the solidity documentation for a list of types."),(0,r.kt)("li",{parentName:"ul"},"hexString - String: The ABI byte code in the data field of a log."),(0,r.kt)("li",{parentName:"ul"},"topics - Array: An array with the index parameter topics of the log, without the topic","[0]"," if it's a non-anonymous event, otherwise with topic","[0]",".")),(0,r.kt)("p",null,"Returns:"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Object")," - The result object containing the decoded parameters."),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"web3.platon.abi.decodeLog([{\n    type: 'string',\n    name: 'myString'\n},{\n    type: 'uint256',\n    name: 'myNumber',\n    indexed: true\n},{\n    type: 'uint8',\n    name: 'mySmallNumber',\n    indexed: true\n}],\n'0x0000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000000748656c6c6f252100000000000000000000000000000000000000000000000000',\n['0x000000000000000000000000000000000000000000000000000000000000f310', '0x0000000000000000000000000000000000000000000000000000000000000010']);\n> Result {\n    '0': 'Hello%!',\n    '1': '62224',\n    '2': '16',\n    myString: 'Hello%!',\n    myNumber: '62224',\n    mySmallNumber: '16'\n}\n")),(0,r.kt)("hr",null),(0,r.kt)("h4",{id:"web3utils"},"web3.utils"),(0,r.kt)("p",null,"This package provides utility functions for PlatON dapps and other web3.js packages"),(0,r.kt)("p",null,"Method:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"Web3.utils;\nweb3.utils;\n")),(0,r.kt)("hr",null),(0,r.kt)("h4",{id:"web3utilsrandomhex"},"web3.utils.randomHex"),(0,r.kt)("p",null,"The randomHex library to generate cryptographically strong pseudo-random HEX strings from a given byte size."),(0,r.kt)("p",null,"Method:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"web3.utils.randomHex(size)\n")),(0,r.kt)("p",null,"Parameter:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"size")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"Number"),": The byte size for the HEX string, e.g. 32 will result in a 32 bytes HEX string with 64 characters preficed with \u201c0x\u201d.")),(0,r.kt)("p",null,"Returns:"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"String"),": The generated random HEX string."),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"web3.utils.randomHex(32) > '0xa5b9d60f32436310afebcfda832817a68921beb782fabf7915cc0460b443116a';\n\nweb3.utils.randomHex(4) > '0x6892ffc6';\n\nweb3.utils.randomHex(2) > '0x99d6';\n\nweb3.utils.randomHex(1) > '0x9a';\n\nweb3.utils.randomHex(0) > '0x';\n")),(0,r.kt)("hr",null),(0,r.kt)("h4",{id:"web3utils_"},"web3.utils.","_"),(0,r.kt)("p",null,"The underscore library for many convenience JavaScript functions."),(0,r.kt)("p",null,"See the ",(0,r.kt)("a",{parentName:"p",href:"http://underscorejs.org/"},"underscore API")," reference for details."),(0,r.kt)("p",null,"Method:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"web3.utils._\n")),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"var _ = web3.utils._;\n\n_.union([1,2],[3]);\n> [1,2,3]\n\n_.each({my: 'object'}, function(value, key){ ... })\n")),(0,r.kt)("hr",null),(0,r.kt)("h4",{id:"web3utilsbn"},"web3.utils.BN"),(0,r.kt)("p",null,"The ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/indutny/bn.js/"},"BN.js")," library for calculating with big numbers in JavaScript. See the ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/indutny/bn.js/"},"BN.js")," documentation for details."),(0,r.kt)("p",null,"Notes: For safe conversion of many types, incl ",(0,r.kt)("a",{parentName:"p",href:"http://mikemcl.github.io/bignumber.js/"},"BigNumber.js")," use ",(0,r.kt)("a",{parentName:"p",href:"https://web3js.readthedocs.io/en/v1.2.6/web3-utils.html#utils-tobn"},"utils.toBN")),(0,r.kt)("p",null,"Method:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"web3.utils.BN(mixed)\n")),(0,r.kt)("p",null,"Parameter:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"mixed")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"String|Number"),": A number, number string or HEX string to convert to a BN object.")),(0,r.kt)("p",null,"Returns:"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Object"),": The ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/indutny/bn.js/"},"BN.js")," instance."),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"var BN = web3.utils.BN;\n\nnew BN(1234).toString();\n> \"1234\"\n\nnew BN('1234').add(new BN('1')).toString();\n> \"1235\"\n\nnew BN('0xea').toString();\n> \"234\"\n")),(0,r.kt)("hr",null),(0,r.kt)("h4",{id:"web3utilsisbn"},"web3.utils.isBN"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"web3.utils.isBN()")," Checks if a given value is a ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/indutny/bn.js/"},"BN.js")," instance."),(0,r.kt)("p",null,"Method:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"web3.utils.isBN(bn)\n")),(0,r.kt)("p",null,"Parameter:"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"bn")," - ",(0,r.kt)("inlineCode",{parentName:"p"},"Object"),": An ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/indutny/bn.js/"},"BN.js")," instance."),(0,r.kt)("p",null,"Returns:"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Boolean")),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"var number = new BN(10);\n\nweb3.utils.isBN(number);\n> true\n")),(0,r.kt)("hr",null),(0,r.kt)("h4",{id:"web3utilsisbignumber"},"web3.utils.isBigNumber"),(0,r.kt)("p",null,"Checks if a given value is a ",(0,r.kt)("a",{parentName:"p",href:"http://mikemcl.github.io/bignumber.js/"},"BigNumber.js")," instance."),(0,r.kt)("p",null,"Method:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"web3.utils.isBigNumber(bignumber)\n")),(0,r.kt)("p",null,"Parameter:"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"bignumber")," - ",(0,r.kt)("inlineCode",{parentName:"p"},"Object"),": A ",(0,r.kt)("a",{parentName:"p",href:"http://mikemcl.github.io/bignumber.js/"},"BigNumber.js")," instance."),(0,r.kt)("p",null,"Returns:"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Boolean")),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"var number = new BigNumber(10);\n\nweb3.utils.isBigNumber(number);\n> true\n")),(0,r.kt)("hr",null),(0,r.kt)("h4",{id:"web3utilssha3"},"web3.utils.sha3"),(0,r.kt)("p",null,"Will calculate the sha3 of the input."),(0,r.kt)("p",null,"Notes: To mimic the sha3 behaviour of solidity use ",(0,r.kt)("a",{parentName:"p",href:"https://web3js.readthedocs.io/en/v1.2.6/web3-utils.html#utils-soliditysha3"},"soliditySha3"),"."),(0,r.kt)("p",null,"Method:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"web3.utils.sha3(string)\nweb3.utils.keccak256(string) // ALIAS\n")),(0,r.kt)("p",null,"Parameter:"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"string")," - String: A string to hash."),(0,r.kt)("p",null,"Returns:"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"String"),": the result hash."),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"web3.utils.sha3('234'); // taken as string\n> \"0xc1912fee45d61c87cc5ea59dae311904cd86b84fee17cc96966216f811ce6a79\"\n\nweb3.utils.sha3(new BN('234'));\n> \"0xbc36789e7a1e281436464229828f817d6612f7b477d66591ff96a9e064bcc98a\"\n\nweb3.utils.sha3(234);\n> null // can't calculate the has of a number\n\nweb3.utils.sha3(0xea); // same as above, just the HEX representation of the number\n> null\n\nweb3.utils.sha3('0xea'); // will be converted to a byte array first, and then hashed\n> \"0x2f20677459120677484f7104c76deb6846a2c071f9b3152c103bb12cd54d1a4a\"\n")),(0,r.kt)("hr",null),(0,r.kt)("h4",{id:"web3utilssoliditysha3"},"web3.utils.soliditySha3"),(0,r.kt)("p",null,"Will calculate the sha3 of given input parameters in the same way solidity would. This means arguments will be ABI converted and tightly packed before being hashed."),(0,r.kt)("p",null,"Method:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"web3.utils.soliditySha3(param1 [, param2, ...])\n")),(0,r.kt)("p",null,"Parameter:"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"paramX")," - ",(0,r.kt)("inlineCode",{parentName:"p"},"Mixed"),": Any type, or an object with ",(0,r.kt)("inlineCode",{parentName:"p"},"{type: 'uint', value: '123456'}")," or ",(0,r.kt)("inlineCode",{parentName:"p"},"{t: 'bytes', v: '0xfff456'}"),". Basic types are autodetected as follows:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"String")," non numerical UTF-8 string is interpreted as ",(0,r.kt)("inlineCode",{parentName:"li"},"string"),"."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"String|Number|BN|HEX")," positive number is interpreted as ",(0,r.kt)("inlineCode",{parentName:"li"},"uint256"),"."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"String|Number|BN")," negative number is interpreted as ",(0,r.kt)("inlineCode",{parentName:"li"},"int256"),"."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"Boolean")," as ",(0,r.kt)("inlineCode",{parentName:"li"},"bool"),"."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"String")," HEX string with leading 0x is interpreted as ",(0,r.kt)("inlineCode",{parentName:"li"},"bytes"),"."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"HEX")," HEX number representation is interpreted as ",(0,r.kt)("inlineCode",{parentName:"li"},"uint256"),".")),(0,r.kt)("p",null,"Returns:"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"String"),": the result hash."),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"web3.utils.soliditySha3('234564535', '0xfff23243', true, -10);\n// auto detects:        uint256,      bytes,     bool,   int256\n> \"0x3e27a893dc40ef8a7f0841d96639de2f58a132be5ae466d40087a2cfa83b7179\"\n\n\nweb3.utils.soliditySha3('Hello!%'); // auto detects: string\n> \"0x661136a4267dba9ccdf6bfddb7c00e714de936674c4bdb065a531cf1cb15c7fc\"\n\n\nweb3.utils.soliditySha3('234'); // auto detects: uint256\n> \"0x61c831beab28d67d1bb40b5ae1a11e2757fa842f031a2d0bc94a7867bc5d26c2\"\n\nweb3.utils.soliditySha3(0xea); // same as above\n> \"0x61c831beab28d67d1bb40b5ae1a11e2757fa842f031a2d0bc94a7867bc5d26c2\"\n\nweb3.utils.soliditySha3(new BN('234')); // same as above\n> \"0x61c831beab28d67d1bb40b5ae1a11e2757fa842f031a2d0bc94a7867bc5d26c2\"\n\nweb3.utils.soliditySha3({type: 'uint256', value: '234'})); // same as above\n> \"0x61c831beab28d67d1bb40b5ae1a11e2757fa842f031a2d0bc94a7867bc5d26c2\"\n\nweb3.utils.soliditySha3({t: 'uint', v: new BN('234')})); // same as above\n> \"0x61c831beab28d67d1bb40b5ae1a11e2757fa842f031a2d0bc94a7867bc5d26c2\"\n\n\nweb3.utils.soliditySha3('lax1fyeszufxwxk62p46djncj86rd553skpptsj8v6');\n> \"0x4e8ebbefa452077428f93c9520d3edd60594ff452a29ac7d2ccc11d47f3ab95b\"\n\nweb3.utils.soliditySha3({t: 'bytes', v: 'lax1fyeszufxwxk62p46djncj86rd553skpptsj8v6'});\n> \"0x4e8ebbefa452077428f93c9520d3edd60594ff452a29ac7d2ccc11d47f3ab95b\" // same result as above\n\n\nweb3.utils.soliditySha3({t: 'address', v: 'lax1fyeszufxwxk62p46djncj86rd553skpptsj8v6'});\n> \"0x4e8ebbefa452077428f93c9520d3edd60594ff452a29ac7d2ccc11d47f3ab95b\" //same as above, but will do a checksum check, if it's multi case\n\n\nweb3.utils.soliditySha3({t: 'bytes32', v: 'lax1fyeszufxwxk62p46djncj86rd553skpptsj8v6'});\n> \"0x3c69a194aaf415ba5d6afca734660d0a3d45acdc05d54cd1ca89a8988e7625b4\" // different result as above\n\n\nweb3.utils.soliditySha3({t: 'string', v: 'Hello!%'}, {t: 'int8', v:-23}, {t: 'address', v: '0x85F43D8a49eeB85d32Cf465507DD71d507100C1d'});\n> \"0xa13b31627c1ed7aaded5aecec71baf02fe123797fffd45e662eac8e06fbe4955\"\n")),(0,r.kt)("hr",null),(0,r.kt)("h4",{id:"web3utilsishex"},"web3.utils.isHex"),(0,r.kt)("p",null,"Checks if a given string is a HEX string."),(0,r.kt)("p",null,"Method:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"web3.utils.isHex(hex)\n")),(0,r.kt)("p",null,"Parameter:"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"hex")," - ",(0,r.kt)("inlineCode",{parentName:"p"},"String|HEX"),": The given HEX string."),(0,r.kt)("p",null,"Returns:"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Boolean"),"\uff1aReturns true if the argument is a hexadecimal string, otherwise returns false."),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"web3.utils.isHex('0xc1912');\n> true\n\nweb3.utils.isHex(0xc1912);\n> true\n\nweb3.utils.isHex('c1912');\n> true\n\nweb3.utils.isHex(345);\n> true  // this is tricky, as 345 can be a a HEX representation or a number, be careful when not having a 0x in front!\n\nweb3.utils.isHex('0xZ1912');\n> false\n\nweb3.utils.isHex('Hello');\n> false\n")),(0,r.kt)("hr",null),(0,r.kt)("h4",{id:"web3utilsishexstrict"},"web3.utils.isHexStrict"),(0,r.kt)("p",null,"Checks if a given string is a HEX string. Difference to ",(0,r.kt)("inlineCode",{parentName:"p"},"web3.utils.isHex()")," is that it expects HEX to be prefixed with ",(0,r.kt)("inlineCode",{parentName:"p"},"0x"),"."),(0,r.kt)("p",null,"Method:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"web3.utils.isHexStrict(hex)\n")),(0,r.kt)("p",null,"Parameter:"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"hex")," - ",(0,r.kt)("inlineCode",{parentName:"p"},"String|HEX"),": The given HEX string."),(0,r.kt)("p",null,"Returns:"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Boolean")),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"web3.utils.isHexStrict('0xc1912');\n> true\n\nweb3.utils.isHexStrict(0xc1912);\n> false\n\nweb3.utils.isHexStrict('c1912');\n> false\n\nweb3.utils.isHexStrict(345);\n> false\n\nweb3.utils.isHexStrict('0xZ1912');\n> false\n\nweb3.utils.isHex('Hello');\n> false\n")),(0,r.kt)("hr",null),(0,r.kt)("h4",{id:"web3utilsisaddress"},"web3.utils.isAddress"),(0,r.kt)("p",null,"Checks if a given string is a valid Hexadecimal address (ie. Ethereum address). It will also check the checksum, if the address has upper and lowercase letters."),(0,r.kt)("p",null,"Method:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"web3.utils.isAddress(address)\n")),(0,r.kt)("p",null,"Parameter:"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"address")," - ",(0,r.kt)("inlineCode",{parentName:"p"},"String"),": An address string."),(0,r.kt)("p",null,"Returns:"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Boolean")),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"web3.utils.isAddress('0xc1912fee45d61c87cc5ea59dae31190fffff232d');\n> true\n\nweb3.utils.isAddress('c1912fee45d61c87cc5ea59dae31190fffff232d');\n> true\n\nweb3.utils.isAddress('0XC1912FEE45D61C87CC5EA59DAE31190FFFFF232D');\n> true // as all is uppercase, no checksum will be checked\n\nweb3.utils.isAddress('0xc1912fEE45d61C87Cc5EA59DaE31190FFFFf232d');\n> true\n\nweb3.utils.isAddress('0xC1912fEE45d61C87Cc5EA59DaE31190FFFFf232d');\n> false // wrong checksum\n")),(0,r.kt)("hr",null),(0,r.kt)("h4",{id:"web3utilsisbech32address"},"web3.utils.isBech32Address"),(0,r.kt)("p",null,"Check whether the specified character string is a valid address in bech32 format\uff08ie.PlatON address\uff09."),(0,r.kt)("p",null,"Method:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"web3.utils.isBech32Address(bech32Address);\n")),(0,r.kt)("p",null,"Parameter:"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"bech32Address")," - String: The address string to be checked in bech32 format; lax represents the test network address, and lat represents the main network address."),(0,r.kt)("p",null,"Returns:"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Boolean"),": Valid address returns true, otherwise returns false."),(0,r.kt)("p",null,"Sample code:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"web3.utils.isBech32Address('lax1zg69v7yszg69v7yszg69v7yszg69v7y3q7dnwf');\n> true\n\nweb3.utils.isBech32Address('lat1zg69v7yszg69v7yszg69v7yszg69v7y3q7dnwf');\n> false\n\nweb3.utils.isBech32Address('lat1zg69v7yszg69v7yszg69v7yszg69v7y30mluqx');\n> true\n\nweb3.utils.isBech32Address('lax1zg69v7yszg69v7yszg69v7yszg69v7y30mluqx');\n> false\n")),(0,r.kt)("hr",null),(0,r.kt)("h4",{id:"web3utilstobech32address"},"web3.utils.toBech32Address"),(0,r.kt)("p",null,"Convert a valid Hexadecimal address (ie. Ethereum address) format address of the designated network."),(0,r.kt)("p",null,"Method:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"web3.utils.toBech32Address(hrp, address);\n")),(0,r.kt)("p",null,"Parameters:"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"hrp")," - String: Specify the network parameters, lax indicates the test network address, and lat indicates the main network address."),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"address")," - String: Hexadecimal address (ie. Ethereum address)  format string."),(0,r.kt)("p",null,"Returns:"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"String"),": Returns address string in bech32 format"),(0,r.kt)("p",null,"Sample code:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"web3.utils.toBech32Address('lax', '0x1234567890123456789012345678901234567891');\n> 'lax1zg69v7yszg69v7yszg69v7yszg69v7y3q7dnwf'\n\nweb3.utils.toBech32Address('lat', '0x1234567890123456789012345678901234567891');\n> 'lat1zg69v7yszg69v7yszg69v7yszg69v7y30mluqx'\n")),(0,r.kt)("hr",null),(0,r.kt)("h4",{id:"web3utilsdecodebech32address"},"web3.utils.decodeBech32Address"),(0,r.kt)("p",null,"Resolve the bech32 format address(ie. PlatON address) of the specified network into a valid Hexadecimal address (ie. Ethereum address)."),(0,r.kt)("p",null,"Method:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"web3.utils.decodeBech32Address(hrp, bech32Address);\n")),(0,r.kt)("p",null,"Parameters:"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"hrp")," - String: Specify the network parameters, lax indicates the test network address, and lat indicates the main network address."),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"bech32Address")," - String: Address string in bech32 format(ie.  PlatON address)."),(0,r.kt)("p",null,"Returns:"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"String"),": The resolution correctly returns a valid Hexadecimal address (ie. Ethereum address), otherwise it returns null."),(0,r.kt)("p",null,"Sample code:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"web3.utils.decodeBech32Address('lax', 'lax1zg69v7yszg69v7yszg69v7yszg69v7y3q7dnwf');\n> '0x1234567890123456789012345678901234567891'\n\nweb3.utils.decodeBech32Address('lat', 'lat1zg69v7yszg69v7yszg69v7yszg69v7y30mluqx');\n> '0x1234567890123456789012345678901234567891'\n")),(0,r.kt)("hr",null),(0,r.kt)("h4",{id:"web3utilstochecksumaddress"},"web3.utils.toChecksumAddress"),(0,r.kt)("p",null,"Will convert an upper or lowercase Hexadecimal address (ie. Ethereum address) to a checksum address."),(0,r.kt)("p",null,"Method:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"web3.utils.toChecksumAddress(address)\n")),(0,r.kt)("p",null,"Parameter:"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"address")," - ",(0,r.kt)("inlineCode",{parentName:"p"},"String"),": An address string."),(0,r.kt)("p",null,"Returns:"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"String"),": The checksum address."),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"web3.utils.toChecksumAddress('0xc1912fee45d61c87cc5ea59dae31190fffff2323');\n> \"0xc1912fEE45d61C87Cc5EA59DaE31190FFFFf232d\"\n\nweb3.utils.toChecksumAddress('0XC1912FEE45D61C87CC5EA59DAE31190FFFFF232D');\n> \"0xc1912fEE45d61C87Cc5EA59DaE31190FFFFf232d\" // same as above\n")),(0,r.kt)("hr",null),(0,r.kt)("h4",{id:"web3utilscheckaddresschecksum"},"web3.utils.checkAddressChecksum"),(0,r.kt)("p",null,"Checks the checksum of a given address. Will also return false on non-checksum addresses."),(0,r.kt)("p",null,"Method:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"web3.utils.checkAddressChecksum(address)\n")),(0,r.kt)("p",null,"Parameter:"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"address")," - ",(0,r.kt)("inlineCode",{parentName:"p"},"String"),": An address string."),(0,r.kt)("p",null,"Returns:"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Boolean"),": ",(0,r.kt)("inlineCode",{parentName:"p"},"true")," when the checksum of the address is valid, ",(0,r.kt)("inlineCode",{parentName:"p"},"false")," if it's not a checksum address, or the checksum is invalid."),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"web3.utils.checkAddressChecksum('0xc1912fEE45d61C87Cc5EA59DaE31190FFFFf232d');\n> true\n")),(0,r.kt)("hr",null),(0,r.kt)("h4",{id:"web3utilstohex"},"web3.utils.toHex"),(0,r.kt)("p",null,"Will auto convert any given value to HEX. Number strings will interpreted as numbers. Text strings will be interpreted as UTF-8 strings."),(0,r.kt)("p",null,"Method:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"web3.utils.toHex(mixed)\n")),(0,r.kt)("p",null,"Parameter:"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"mixed")," - ",(0,r.kt)("inlineCode",{parentName:"p"},"String|Number|BN|BigNumber"),": The input to convert to HEX."),(0,r.kt)("p",null,"Returns:"),(0,r.kt)("p",null,"String: The resulting HEX string."),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'web3.utils.toHex(\'234\');\n> "0xea"\n\nweb3.utils.toHex(234);\n> "0xea"\n\nweb3.utils.toHex(new BN(\'234\'));\n> "0xea"\n\nweb3.utils.toHex(new BigNumber(\'234\'));\n> "0xea"\n\nweb3.utils.toHex(\'I have 100\u20ac\');\n> "0x49206861766520313030e282ac"\n')),(0,r.kt)("hr",null),(0,r.kt)("h4",{id:"web3utilshextonumberstring"},"web3.utils.hexToNumberString"),(0,r.kt)("p",null,"Returns the number representation of a given HEX value as a string."),(0,r.kt)("p",null,"Method:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"web3.utils.hexToNumberString(hex)\n")),(0,r.kt)("p",null,"Parameter:"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"hexString")," - ",(0,r.kt)("inlineCode",{parentName:"p"},"String|HEX"),": A string to hash."),(0,r.kt)("p",null,"Returns:"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"String"),": The number as a string."),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"web3.utils.hexToNumberString('0xea');\n> \"234\"\n")),(0,r.kt)("hr",null),(0,r.kt)("h4",{id:"web3utilshextonumber"},"web3.utils.hexToNumber"),(0,r.kt)("p",null,"Returns the number representation of a given HEX value."),(0,r.kt)("p",null,"This is not useful for big numbers, rather use ",(0,r.kt)("a",{parentName:"p",href:"https://web3js.readthedocs.io/en/v1.2.6/web3-utils.html#utils-tobn"},"utils.toBN")," instead."),(0,r.kt)("p",null,"Method:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"web3.utils.hexToNumber(hex)\nweb3.utils.toDecimal(hex) // ALIAS, deprecated\n")),(0,r.kt)("p",null,"Parameter:"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"hexString")," - ",(0,r.kt)("inlineCode",{parentName:"p"},"String|HEX"),": A string to hash."),(0,r.kt)("p",null,"Returns:"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Number")),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"web3.utils.hexToNumber('0xea');\n> 234\n")),(0,r.kt)("hr",null),(0,r.kt)("h4",{id:"web3utilsnumbertohex"},"web3.utils.numberToHex"),(0,r.kt)("p",null,"Returns the HEX representation of a given number value."),(0,r.kt)("p",null,"Method:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"web3.utils.numberToHex(number)\nweb3.utils.fromDecimal(number) // ALIAS, deprecated\n")),(0,r.kt)("p",null,"Parameter:"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"number")," - ",(0,r.kt)("inlineCode",{parentName:"p"},"String|Number|BN|BigNumber"),": A number as string or number."),(0,r.kt)("p",null,"Returns:"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"String"),": The HEX value of the given number."),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"web3.utils.numberToHex('234');\n> '0xea'\n")),(0,r.kt)("hr",null),(0,r.kt)("h4",{id:"web3utilshextoutf8"},"web3.utils.hexToUtf8"),(0,r.kt)("p",null,"Returns the UTF-8 string representation of a given HEX value."),(0,r.kt)("p",null,"Method:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"web3.utils.hexToUtf8(hex)\nweb3.utils.hexToString(hex) // ALIAS\nweb3.utils.toUtf8(hex) // ALIAS, deprecated\n")),(0,r.kt)("p",null,"Parameter:"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"hex")," - ",(0,r.kt)("inlineCode",{parentName:"p"},"String"),": A HEX string to convert to a UTF-8 string."),(0,r.kt)("p",null,"Returns:"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"String"),": The UTF-8 string."),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"web3.utils.hexToUtf8('0x49206861766520313030e282ac');\n> \"I have 100\u20ac\"\n")),(0,r.kt)("hr",null),(0,r.kt)("h4",{id:"web3utilshextoascii"},"web3.utils.hexToAscii"),(0,r.kt)("p",null,"Returns the ASCII string representation of a given HEX value."),(0,r.kt)("p",null,"Method:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"web3.utils.hexToAscii(hex)\nweb3.utils.toAscii(hex) // ALIAS, deprecated\n")),(0,r.kt)("p",null,"Parameter:"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"hex")," - ",(0,r.kt)("inlineCode",{parentName:"p"},"String"),": A HEX string to convert to a ASCII string."),(0,r.kt)("p",null,"Returns:"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"String"),": The ASCII string."),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"web3.utils.hexToAscii('0x4920686176652031303021');\n> \"I have 100!\"\n")),(0,r.kt)("hr",null),(0,r.kt)("h4",{id:"web3utilsutf8tohex"},"web3.utils.utf8ToHex"),(0,r.kt)("p",null,"Returns the HEX representation of a given UTF-8 string."),(0,r.kt)("p",null,"Method:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"web3.utils.utf8ToHex(string)\nweb3.utils.stringToHex(string) // ALIAS\nweb3.utils.fromUtf8(string) // ALIAS, deprecated\n")),(0,r.kt)("p",null,"Parameter:"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"string")," - ",(0,r.kt)("inlineCode",{parentName:"p"},"String"),": A UTF-8 string to convert to a HEX string."),(0,r.kt)("p",null,"Returns:"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"String"),": The HEX string."),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"web3.utils.utf8ToHex('I have 100\u20ac');\n> \"0x49206861766520313030e282ac\"\n")),(0,r.kt)("hr",null),(0,r.kt)("h4",{id:"web3utilsasciitohex"},"web3.utils.asciiToHex"),(0,r.kt)("p",null,"Returns the HEX representation of a given ASCII string."),(0,r.kt)("p",null,"Method:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"web3.utils.asciiToHex(string)\nweb3.utils.fromAscii(string) // ALIAS, deprecated\n")),(0,r.kt)("p",null,"Parameter:"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"string")," - ",(0,r.kt)("inlineCode",{parentName:"p"},"String"),": A ASCII string to convert to a HEX string."),(0,r.kt)("p",null,"Returns:"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"String"),": The HEX string."),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"web3.utils.asciiToHex('I have 100!');\n> \"0x4920686176652031303021\"\n")),(0,r.kt)("hr",null),(0,r.kt)("h4",{id:"web3utilshextobytes"},"web3.utils.hexToBytes"),(0,r.kt)("p",null,"Returns a byte array from the given HEX string."),(0,r.kt)("p",null,"Method:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"web3.utils.hexToBytes(hex)\n")),(0,r.kt)("p",null,"Parameter:"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"hex")," - ",(0,r.kt)("inlineCode",{parentName:"p"},"String|HEX"),": A HEX to convert."),(0,r.kt)("p",null,"Returns:"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Array"),": The byte array."),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"web3.utils.hexToBytes('0x000000ea');\n> [ 0, 0, 0, 234 ]\n\nweb3.utils.hexToBytes(0x000000ea);\n> [ 234 ]\n")),(0,r.kt)("hr",null),(0,r.kt)("h4",{id:"web3utilstovon"},"web3.utils.toVon"),(0,r.kt)("p",null,"Converts any lat value value into von."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"'von':          '1',\n'kvon':         '1000',\n'mvon':         '1000000',\n'gvon':         '1000000000',\n'microlat':     '1000000000000',\n'millilat':     '1000000000000000',\n'lat':          '1000000000000000000',\n'klat':         '1000000000000000000000',\n'mlat':         '1000000000000000000000000',\n'glat':         '1000000000000000000000000000',\n'tlat':         '1000000000000000000000000000000'\n")),(0,r.kt)("p",null,"Method:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"web3.utils.toVon(number [, unit])\n")),(0,r.kt)("p",null,"Parameter:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"number")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"String|Number|BN"),": The value."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"unit"),' - String\uff0c(optional, defaults to "lat"): The lat to convert from. Possible units are:',(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"von"),(0,r.kt)("li",{parentName:"ul"},"kvon"),(0,r.kt)("li",{parentName:"ul"},"mvon"),(0,r.kt)("li",{parentName:"ul"},"gvon"),(0,r.kt)("li",{parentName:"ul"},"microlat"),(0,r.kt)("li",{parentName:"ul"},"millilat"),(0,r.kt)("li",{parentName:"ul"},"lat"),(0,r.kt)("li",{parentName:"ul"},"klat"),(0,r.kt)("li",{parentName:"ul"},"mlat"),(0,r.kt)("li",{parentName:"ul"},"glat"),(0,r.kt)("li",{parentName:"ul"},"tlat")))),(0,r.kt)("p",null,"Returns:"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"String|BN"),": If a string is given it returns a number string, otherwise a ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/indutny/bn.js/"},"BN.js")," instance."),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"web3.utils.toVon('1', 'lat');\n> \"1000000000000000000\"\n")),(0,r.kt)("hr",null),(0,r.kt)("h4",{id:"web3utilsfromvon"},"web3.utils.fromVon"),(0,r.kt)("p",null,"Converts any von value into a lat value."),(0,r.kt)("p",null,"Method:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"web3.utils.fromVon(number [, unit])\n")),(0,r.kt)("p",null,"Parameter:"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"number")," - ",(0,r.kt)("inlineCode",{parentName:"p"},"String|Number|BN"),": The value in von.\n",(0,r.kt)("inlineCode",{parentName:"p"},"unit")," - ",(0,r.kt)("inlineCode",{parentName:"p"},"String"),'\uff0c(optional, defaults to "lat"): The lat to convert to. Possible units are:'),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"von"),(0,r.kt)("li",{parentName:"ul"},"kvon"),(0,r.kt)("li",{parentName:"ul"},"mvon"),(0,r.kt)("li",{parentName:"ul"},"gvon"),(0,r.kt)("li",{parentName:"ul"},"microlat"),(0,r.kt)("li",{parentName:"ul"},"millilat"),(0,r.kt)("li",{parentName:"ul"},"lat"),(0,r.kt)("li",{parentName:"ul"},"klat"),(0,r.kt)("li",{parentName:"ul"},"mlat"),(0,r.kt)("li",{parentName:"ul"},"glat"),(0,r.kt)("li",{parentName:"ul"},"tlat")),(0,r.kt)("p",null,"Returns:"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"String|BN"),": It always returns a string number."),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"web3.utils.fromVon('1', 'lat');\n> \"0.000000000000000001\"\n")),(0,r.kt)("hr",null),(0,r.kt)("h4",{id:"web3utilspadleft"},"web3.utils.padLeft"),(0,r.kt)("p",null,"Adds a padding on the left of a string, Useful for adding paddings to HEX strings."),(0,r.kt)("p",null,"Method:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"web3.utils.padLeft(string, characterAmount [, sign])\nweb3.utils.leftPad(string, characterAmount [, sign]) // ALIAS\n")),(0,r.kt)("p",null,"Parameter:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"string")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"String"),": The string to add padding on the left."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"characterAmount")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"Number"),": The number of characters the total string should have."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"sign")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"String"),"(optional): The character sign to use, defaults to ",(0,r.kt)("inlineCode",{parentName:"li"},'"0"'),".")),(0,r.kt)("p",null,"Returns:"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"String"),": The padded string."),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"web3.utils.padLeft('0x3456ff', 20);\n> \"0x000000000000003456ff\"\n\nweb3.utils.padLeft(0x3456ff, 20);\n> \"0x000000000000003456ff\"\n\nweb3.utils.padLeft('Hello', 20, 'x');\n> \"xxxxxxxxxxxxxxxHello\"\n")),(0,r.kt)("hr",null),(0,r.kt)("h2",{id:"built-in-contract-call"},"Built-in Contract Call"),(0,r.kt)("h3",{id:"overview"},"Overview"),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"call")," or ",(0,r.kt)("inlineCode",{parentName:"p"},"send")," function of ppos (the built-in contract related to the economic model) is used to convert the parameters passed into the parameters required by the rpc interface ",(0,r.kt)("inlineCode",{parentName:"p"},"platon_call")," or ",(0,r.kt)("inlineCode",{parentName:"p"},"platon_sendRawTransaction")," call, and then send the transaction to the node. And some helper functions needed to complete the call and send parameters."),(0,r.kt)("h3",{id:"usage"},"Usage"),(0,r.kt)("p",null,"When you call ",(0,r.kt)("inlineCode",{parentName:"p"},"const web3 = new Web3('http://127.0.0.1:6789');")," to instantiate a web3, the system will automatically append a ppos object after ",(0,r.kt)("inlineCode",{parentName:"p"},"web3"),". In other words, you can use ",(0,r.kt)("inlineCode",{parentName:"p"},"web3.ppos")," to call some methods of",(0,r.kt)("inlineCode",{parentName:"p"}," ppos"),". But if you want to use the ppos object to send transactions on the chain, in addition to the ",(0,r.kt)("inlineCode",{parentName:"p"},"provider")," passed in when instantiating",(0,r.kt)("inlineCode",{parentName:"p"}," web3"),", you need to send at least the private key and chain id required for transaction signing, where the chain id can be passed through rpc Get ",(0,r.kt)("inlineCode",{parentName:"p"},"chainId 'returned by interface")," admin_nodeInfo",(0,r.kt)("inlineCode",{parentName:"p"},": xxx")),(0,r.kt)("p",null,"Of course, in order to satisfy multiple ppos that can be instantiated arbitrarily (for example, I want to instantiate 3 ppos to different chains to send transaction calls at the same time), I will also attach a PPOS object to the web3 object (note all capitalization). You can call ",(0,r.kt)("inlineCode",{parentName:"p"},"new PPOS (setting)")," to instantiate a ppos object. An example call is as follows:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-JavaScript"},"(async () => {\n    const Web3 = require('web3');\n    const web3 = new Web3('http://192.168.120.164:6789');\n    const ppos = web3.ppos;\n\n    // Update the configuration of ppos, this step must be done to send on-chain transactions.\n    // Since the provider has been passed in when instantiating web3, it is not necessary to pass in the provider.\n    ppos.updateSetting({\n        privateKey: 'acc73b693b79bbb56f89f63ccc3a0c00bf1b8380111965bfe8ab22e32045600c',\n        chainId: 104,\n    })\n\n    let data, reply;\n\n    // Passing parameters to send transactions in the form of objects: 1000. createStaking (): initiate a pledge.\n    const benefitAddress = 'lax1umevux40n6ljlclm4pmrh2ad7f0rld06hkzx3u';\n    const nodeId = '80f1fcee54de74dbf7587450f31c31c0e057bedd4faaa2a10c179d52c900ca01f0fb255a630c49d83b39f970d175c42b12a341a37504be248d76ecf592d32bc0';\n    const amount = '10000000000000000000000000000';\n    const blsPubKey = 'd2459db974f49ca9cbf944d4d04c2d17888aef90858b62d6aec166341a6e886e8c0c0cfae9e469c2f618f5d9b7a249130d10047899da6154288c9cde07b576acacd75fef07ba0cfeb4eaa7510704e77a9007eff5f1a5f8d099e6ea664129780c';\n    data = {\n        funcType: 1000,\n        typ: 0,\n        benefitAddress: ppos.hexStrBuf(benefitAddress),\n        nodeId: ppos.hexStrBuf(nodeId),\n        externalId: 'externalId',\n        nodeName: 'Me',\n        website: 'www.platon.network',\n        details: 'staking',\n        amount: ppos.bigNumBuf(amount),\n        rewardPer: 500, //\u4f20500\u5c31\u662f5%\u7684\u5956\u52b1\u4f5c\u4e3a\u59d4\u6258\u5956\u52b1\n        programVersion: undefined, // rpc get\n        programVersionSign: undefined, // rpc get\n        blsPubKey: ppos.hexStrBuf(blsPubKey),\n        blsProof: undefined, // rpc get\n    }\n    let pv = await ppos.rpc('admin_getProgramVersion');\n    let blsProof = await ppos.rpc('admin_getSchnorrNIZKProve');\n    data.programVersion = pv.Version;\n    data.programVersionSign = pv.Sign;\n    data.blsProof = ppos.hexStrBuf(blsProof);\n    reply = await ppos.send(data);\n    console.log('createStaking params object reply: ', JSON.stringify(reply, null, 2));\n\n    // Sending transactions as an array\uff1a 1000. createStaking() : Initiate a pledge.\n    data = [\n        1000,\n        0,\n        ppos.hexStrBuf(benefitAddress),\n        ppos.hexStrBuf(nodeId),\n        'externalId',\n        'Me',\n        'www.platon.network',\n        'staking',\n        ppos.bigNumBuf(amount),\n        500,\n        pv.Version,\n        pv.Sign,\n        ppos.hexStrBuf(blsPubKey),\n        ppos.hexStrBuf(blsProof)\n    ];\n    //Since it has been called above, the trade fair is on the chain, but the business will fail.\n    reply = await ppos.send(data);\n    console.log('createStaking params array reply: ', reply);\n\n    // Passing parameters as objects\uff1a 1102. getCandidateList() : Query all real-time candidate lists.\n    data = {\n        funcType: 1102,\n    }\n    reply = await ppos.call(data);\n    console.log('getCandidateList params object reply: ', reply);\n\n    //Passing parameters as an array\uff1a 1102. getCandidateList() : Query all real-time candidate lists.\n    data = [1102];\n    reply = await ppos.call(data);\n    console.log('getCandidateList params array reply: ', reply);\n\n    // Re-instantiate a ppos1 object and call it.\n    const ppos1 = new web3.PPOS({\n        provider: 'http://127.0.0.1:6789',\n        privateKey: '9f9b18c72f8e5154a9c59af2a35f73d1bdad37b049387fc6cea2bac89804293b',\n        chainId: 104,\n    })\n    reply = await ppos1.call(data);\n})()\n")),(0,r.kt)("p",null,"The log information is output as follows. In order to save space, there are cuts:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'createStaking params object reply:  {\n  "blockHash": "0xdddd6b12919b69169b63d17fece52e8632fe3d8b48166c8b4ef8fdee39a1f35c",\n  "blockNumber": "0xb",\n  "contractAddress": null,\n  "cumulativeGasUsed": "0x14f34",\n  "from": "lax1w9x7ye4qalarnl9v59zzhyn7tug9864rr2fc35",\n  "gasUsed": "0x14f34",\n  "logs": [\n    {\n      "address": "lax1w9x7ye4qalarnl9v59zzhyn7tug9864rr2fc35",\n      "topics": [\n        "0xd63087bea9f1800eed943829fc1d61e7869764805baa3259078c1caf3d4f5a48"\n      ],\n      "data": "0xe3a27b22436f6465223a302c2244617461223a22222c224572724d7367223a226f6b227d",\n      "blockNumber": "0xb",\n      "transactionHash": "0x4bee71e351076a81482e2576e469a8dfaa76da9b6cc848265c10968d6de67364",\n      "transactionIndex": "0x0",\n      "blockHash": "0xdddd6b12919b69169b63d17fece52e8632fe3d8b48166c8b4ef8fdee39a1f35c",\n      "logIndex": "0x0",\n      "removed": false,\n      "dataStr": {\n        "Code": 0,\n        "Data": "",\n        "ErrMsg": "ok"\n      }\n    }\n  ],\n  "logsBloom": "",\n  "root": "0x3b7a41cea97f90196039586a3068f6a64c09aa7597898440c3c241a095e37984",\n  "to": "lax1zqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqzlh5ge3",\n  "transactionHash": "0x4bee71e351076a81482e2576e469a8dfaa76da9b6cc848265c10968d6de67364",\n  "transactionIndex": "0x0"\n}\n\ncreateStaking params array reply:  { blockHash:\n   \'0x43351e4a9f1b7173552094bacfd5b6f84f18a6c7c0c02d8a10506e3a61041117\',\n  blockNumber: \'0x10\',\n  contractAddress: null,\n  cumulativeGasUsed: \'0x14f34\',\n  from: \'lax1w9x7ye4qalarnl9v59zzhyn7tug9864rr2fc35\',\n  gasUsed: \'0x14f34\',\n  logs:\n   [ { address: \'lax1zqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqzlh5ge3\',\n       topics: [Array],\n       data:\n        \'0xf846b8447b22436f6465223a3330313130312c2244617461223a22222c224572724d7367223a22546869732063616e64696461746520697320616c7265616479206578697374227d\',\n       blockNumber: \'0x10\',\n       transactionHash:\n        \'0xe5cbc728d6e284464c30ce6f0bbee5fb2b30351a591424f3a0edd37cc1bbdc05\',\n       transactionIndex: \'0x0\',\n       blockHash:\n        \'0x43351e4a9f1b7173552094bacfd5b6f84f18a6c7c0c02d8a10506e3a61041117\',\n       logIndex: \'0x0\',\n       removed: false,\n       dataStr: [Object] } ],\n  logsBloom:\'\',\n  root:\n   \'0x45ffeda340b68a0d54c5556a51f925b0787307eab1fb120ed141fd8ba81183d4\',\n  to: \'lax1zqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqzlh5ge3\',\n  transactionHash:\n   \'0xe5cbc728d6e284464c30ce6f0bbee5fb2b30351a591424f3a0edd37cc1bbdc05\',\n  transactionIndex: \'0x0\' }\n\ngetCandidateList params object reply:  {\n  Code: 0,\n  Data:\n   [ { candidate1 info... },\n     { candidate2 info... },\n     { candidate3 info... },\n     { candidate4 info... }\n   ],\n  ErrMsg: \'ok\' }\n\ngetCandidateList params array reply:  {\n  Code: 0,\n  Data:\n   [ { candidate1 info... },\n     { candidate2 info... },\n     { candidate3 info... },\n     { candidate4 info... }\n   ],\n  ErrMsg: \'ok\' }\n')),(0,r.kt)("h3",{id:"api-usage"},"API Usage"),(0,r.kt)("h4",{id:"updatesettingsetting"},"updateSetting(setting)"),(0,r.kt)("p",null,"Update the configuration parameters of the ",(0,r.kt)("inlineCode",{parentName:"p"},"ppos")," object. If you only need to send a call, you only need to pass in the parameter ",(0,r.kt)("inlineCode",{parentName:"p"},"provider"),". If you passed in the provider when instantiating web3, then the ",(0,r.kt)("inlineCode",{parentName:"p"},"provider")," of",(0,r.kt)("inlineCode",{parentName:"p"}," ppos")," is the provider that you instantiate from web3 by default. Of course you can also update the provider at any time."),(0,r.kt)("p",null,"If you want to send a transaction via send, you need to pass in the parameters ",(0,r.kt)("inlineCode",{parentName:"p"},"provider"),", the private key, and the chain id. Of course, sending transactions requires setting four parameters: ",(0,r.kt)("inlineCode",{parentName:"p"},"gas"),",",(0,r.kt)("inlineCode",{parentName:"p"}," gasPrice"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"retry"),", and",(0,r.kt)("inlineCode",{parentName:"p"}," interval"),". See the ",(0,r.kt)("inlineCode",{parentName:"p"},"async send (params, [other])")," description for details."),(0,r.kt)("p",null,"For the parameters passed in, you can choose partial update. For example, if you want to use the private key A when sending a transaction to a ppos object, then you execute ",(0,r.kt)("inlineCode",{parentName:"p"},"ppos.updateSetting before calling")," send (params, ","[other]",") ",(0,r.kt)("inlineCode",{parentName:"p"},"({privateKey: youPrivateKeyA})")," to update the private key. Once updated, the current configuration will be overwritten, and the send transaction interface will be called later, with the last updated configuration as the default."),(0,r.kt)("p",null,"Parameters:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"setting")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"Object"),":",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"provider")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"String"),": network link."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"privateKey")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"String"),": pairvate key."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"chainId")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"String"),": id of chain."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"gas")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"String"),": Maximum gas consumption value, please enter a hexadecimal string, such as '0xf4240'."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"gasPrice")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"String"),": Fuel price, please enter a hexadecimal string, such as '0x746a528800'."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"retry")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"Number"),": The number of times to query the receipt."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"interval")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"Number"),": Time interval to query the transaction receipt, the unit is ",(0,r.kt)("inlineCode",{parentName:"li"},"ms"),".")))),(0,r.kt)("p",null,"Returns:"),(0,r.kt)("p",null,"none"),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-JavaScript"},"ppos.updateSetting({\n    privateKey: 'acc73b693b79bbb56f89f63ccc3a0c00bf1b8380111965bfe8ab22e32045600c',\n    chainId: 104,\n})\n\nppos.updateSetting({\n    privateKey: '9f9b18c72f8e5154a9c59af2a35f73d1bdad37b049387fc6cea2bac89804293b'\n})\n")),(0,r.kt)("hr",null),(0,r.kt)("h4",{id:"getsetting"},"getSetting()"),(0,r.kt)("p",null,"Querying configured parameters."),(0,r.kt)("p",null,"Parameters:"),(0,r.kt)("p",null,"none"),(0,r.kt)("p",null,"Returns:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"setting")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"Object"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"provider")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"String"),": Network RPC link."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"privateKey")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"String"),": private key."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"chainId")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"String"),": id of chain."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"gas")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"String"),": Maximum limit of gas."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"gasPrice")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"String"),": Unit price of Gas."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"retry")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"Number"),": Number of retries for query receipt."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"interval")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"Number"),": Query the interval of the transaction receipt object, the unit is ms.")))),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-JavaScript"},"let setting = ppos.getSetting();\n")),(0,r.kt)("hr",null),(0,r.kt)("h4",{id:"async-rpcmethod-params"},"async rpc(method, ","[params]",")"),(0,r.kt)("p",null,"Helper function to initiate rpc requests. Because some parameters need to be obtained through rpc during the process of calling ppos to send a transaction, an rpc is intentionally encapsulated for invocation. Note that this interface is an async function, you need to add await to return the result of the call, otherwise it returns a Promise object."),(0,r.kt)("p",null,"Parameters:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"method")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"String"),": method name."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"params")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"Array"),": Parameter required for calling the rpc interface. If the rpc interface does not require parameters, this parameter can be omitted.")),(0,r.kt)("p",null,"Returns:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"reply"),": Results returned by rpc call.")),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-JavaScript"},"// Get program version\nlet reply = await ppos.rpc('admin_getProgramVersion');\n\n// Get all accounts\nlet reply = await ppos.rpc('platon_accounts')\n\n// Get the amount of the specified account.\nlet reply = await ppos.rpc('platon_getBalance', [\"lax1w9x7ye4qalarnl9v59zzhyn7tug9864rr2fc35\",\"latest\"])\n")),(0,r.kt)("hr",null),(0,r.kt)("h4",{id:"bignumbufintstr"},"bigNumBuf(intStr)"),(0,r.kt)("p",null,"Converts a large decimal integer into a buffer object that can be accepted by RLP encoding. A helper function. Because JavaScript's positive number range can only be expressed as a maximum of ",(0,r.kt)("inlineCode",{parentName:"p"},"2^53"),", in order for RLP to encode large integers, you need to convert the decimal large integer of the string into the corresponding Buffer. Note that this interface can only convert large decimal integers to Buffer temporarily. If it is a hexadecimal string, you need to convert it to a decimal string first."),(0,r.kt)("p",null,"Parameters:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"intStr")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"String"),": String decimal large integer.")),(0,r.kt)("p",null,"Returns:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"buffer")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"Buffer"),": A cache area.")),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-JavaScript"},"let buffer = ppos.bigNumBuf('1000000000000000000000000000000000000000000');\n")),(0,r.kt)("hr",null),(0,r.kt)("h4",{id:"hexstrbufhexstr"},"hexStrBuf(hexStr)"),(0,r.kt)("p",null,"Converts a hexadecimal string into a buffer object that can be accepted by RLP encoding, a helper function. In the process of sending transactions by ppos, many parameters need to be transmitted as ",(0,r.kt)("inlineCode",{parentName:"p"},"bytes")," instead of",(0,r.kt)("inlineCode",{parentName:"p"}," string"),", such as ",(0,r.kt)("inlineCode",{parentName:"p"},"nodeId 64bytes")," pledged node Id (also called candidate node Id)`. The nodeId when writing code can only be expressed as a string. It needs to be converted into a 64 bytes Buffer."),(0,r.kt)("p",null,"Note: If the string you pass in starts with ",(0,r.kt)("inlineCode",{parentName:"p"},"0x")," or",(0,r.kt)("inlineCode",{parentName:"p"}," 0X"),", the system will assume that you are a hexadecimal string that does not encode the first two letters. If you really want to encode ",(0,r.kt)("inlineCode",{parentName:"p"},"0x")," or",(0,r.kt)("inlineCode",{parentName:"p"}," 0X"),", you must prefix the string with ",(0,r.kt)("inlineCode",{parentName:"p"},"0x"),". For example, if you want to encode the full string ",(0,r.kt)("inlineCode",{parentName:"p"},"0x31c0e0 (4 bytes)"),", you must pass in 0x0x31c0e0."),(0,r.kt)("p",null,"Parameters:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"hexStr")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"String"),": A hex string.")),(0,r.kt)("p",null,"Returns:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"buffer")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"Buffer"),": A cache area.")),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-JavaScript"},"const nodeId = '80f1fcee54de74dbf7587450f31c31c0e057bedd4faaa2a10c179d52c900ca01f0fb255a630c49d83b39f970d175c42b12a341a37504be248d76ecf592d32bc0';\nlet buffer = ppos.hexStrBuf(nodeId);\n")),(0,r.kt)("hr",null),(0,r.kt)("h4",{id:"async-callparams"},"async call(params)"),(0,r.kt)("p",null,"Send a ",(0,r.kt)("inlineCode",{parentName:"p"},"call")," query call to",(0,r.kt)("inlineCode",{parentName:"p"}," PPOS")," without changing the state. So you need to distinguish between querying and sending transactions. The input parameters can select objects or arrays. If you choose to pass in an object, then you need to use the specified string ",(0,r.kt)("inlineCode",{parentName:"p"},"key"),", but the order of the",(0,r.kt)("inlineCode",{parentName:"p"}," key")," is not required. You can write ",(0,r.kt)("inlineCode",{parentName:"p"},"{a: 1, b: 'hello'}")," or ",(0,r.kt)("inlineCode",{parentName:"p"},"{b: 'hello', a: 1}")," without any problem."),(0,r.kt)("p",null,"If you choose to use an array as the input parameter, you must put the parameters into the array in the order of the input parameters. Note that for some string large integers and ",(0,r.kt)("inlineCode",{parentName:"p"},"bytes' that need to be passed in, please choose the interfaces")," bigNumBuf (intStr) ",(0,r.kt)("inlineCode",{parentName:"p"},"and")," hexStrBuf (hexStr) `provided above to convert them by themselves."),(0,r.kt)("p",null,"Note that this interface is an async function, you need to add await to return the result of the call, otherwise it returns a Promise object."),(0,r.kt)("p",null,"Parameters:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"params")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"Object|Array"),": Call parameters.")),(0,r.kt)("p",null,"Returns:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("inlineCode",{parentName:"li"},"reply")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"Object"),": The result of the call. Note that I have turned the returned results into Object objects.")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"Code")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"Number"),": Return code, 0 means the result of the call is normal."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"Data")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"Array|Object|String|Number"),": Return the corresponding type according to the result of the call."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"ErrMsg")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"String"),": Error message.")),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Query the NodeID and Pledged Id of the node entrusted by the current account address")," The input parameters of this interface are from top to bottom. The input parameters are as follows:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"name"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Desc"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"funcType"),(0,r.kt)("td",{parentName:"tr",align:null},"uint16(2bytes)"),(0,r.kt)("td",{parentName:"tr",align:null},"Method type code(1103)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"addr"),(0,r.kt)("td",{parentName:"tr",align:null},"common.address(20bytes)"),(0,r.kt)("td",{parentName:"tr",align:null},"Client's account address")))),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-JavaScript"},'let params, reply;\n\n// Called by passing in an object (the order is not required for the key)\nparams = {\n    funcType: 1103,\n    addr: ppos.hexStrBuf("lax1w9x7ye4qalarnl9v59zzhyn7tug9864rr2fc35")\n}\nreply = await ppos.call(params);\n\n// Calling as an array object.\nparams = [1103, ppos.hexStrBuf("lax1w9x7ye4qalarnl9v59zzhyn7tug9864rr2fc35")];\nreply = await ppos.call(params);\n')),(0,r.kt)("hr",null),(0,r.kt)("h4",{id:"async-sendparams-other"},"async send(params, ","[other]",")"),(0,r.kt)("p",null,"Send a transaction to ",(0,r.kt)("inlineCode",{parentName:"p"},"ppos"),"."),(0,r.kt)("p",null,"Trading will involve some parameters, such as ",(0,r.kt)("inlineCode",{parentName:"p"},"gas"),",",(0,r.kt)("inlineCode",{parentName:"p"}," gasPrice"),". After the transaction is sent, in order to confirm whether the transaction is on the chain, you need to continuously poll the result on the chain through the transaction hash. There is an interval between the number of polls ",(0,r.kt)("inlineCode",{parentName:"p"},"retry")," and each poll."),(0,r.kt)("p",null,"For the four parameters mentioned above, ",(0,r.kt)("inlineCode",{parentName:"p"},"gas"),",",(0,r.kt)("inlineCode",{parentName:"p"}," gasPrice"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"retry"),",",(0,r.kt)("inlineCode",{parentName:"p"}," interval"),", if the ",(0,r.kt)("inlineCode",{parentName:"p"},"other")," input parameter is specified, the",(0,r.kt)("inlineCode",{parentName:"p"}," other")," parameter is used. If the other parameter is not specified, the parameter specified by updateSetting (setting) is used when calling the function, otherwise the default value is used."),(0,r.kt)("p",null,"Note: This interface is an async function, you need to add await to return the result of the call, otherwise it returns a Promise object."),(0,r.kt)("p",null,"Parameters:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"params")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"Object|Array"),": Transaction parameters."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"other")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"Object"),"(Optional):",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"gas")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"String"),": Gas limit, default '0xf4240'."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"gasPrice")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"String"),": Gas price, default '0x746a528800'."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"retry")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"Number"),": Query the number of transaction receipt objects. The default is 600 times."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"interval")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"Number"),": Query the interval of the transaction receipt object, the unit is ms. The default is 100 ms.")))),(0,r.kt)("p",null,"Returns:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"reply")," - ",(0,r.kt)("inlineCode",{parentName:"p"},"Object"),": Receipt object for the specified transaction hash."),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"status")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"Boolean"),": Successful transaction returns true, false if EVM rolls back the transaction."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"blockHash")," 32 Bytes - ",(0,r.kt)("inlineCode",{parentName:"li"},"String"),": The hash of the block"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"blockNumber")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"Number"),": The number of the block"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"transactionHash")," 32 Bytes - ",(0,r.kt)("inlineCode",{parentName:"li"},"String"),": The hash of transaction."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"transactionIndex")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"Number"),": Index position of the transaction in the block."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"from")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"String"),": Address of the sender of the transaction."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"to")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"String"),": The address of the transaction receiver. For the transaction that created the contract, the value is null."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"contractAddress")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"String"),": For transactions that create a contract, the value is the contract address created, otherwise null."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"cumulativeGasUsed")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"Number"),": Cumulative total gas usage of the block where the transaction is executed."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"gasUsed")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"Number"),": Total gas consumed by this transaction."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"logs")," - ",(0,r.kt)("inlineCode",{parentName:"li"},"Array"),": Array of log objects generated by this transaction."))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"errMsg")," - ",(0,r.kt)("inlineCode",{parentName:"p"},"String"),": If the call fails and there is no receipt after the sending transaction returns, the error message ",(0,r.kt)("inlineCode",{parentName:"p"},"no hash")," is returned. If there is a receipt after sending the transaction, but no receipt object is found within the specified time, then ",(0,r.kt)("inlineCode",{parentName:"p"},"getTransactionReceipt txHash ${hash} interval ${interval} ms by ${retry} retry failed"),"."))),(0,r.kt)("p",null,"Call the interface that initiates the delegation. The input parameters are:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Desc"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"funcType"),(0,r.kt)("td",{parentName:"tr",align:null},"uint16(2bytes)"),(0,r.kt)("td",{parentName:"tr",align:null},"type code of method. (1004)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"typ"),(0,r.kt)("td",{parentName:"tr",align:null},"uint16(2bytes)"),(0,r.kt)("td",{parentName:"tr",align:null},"Indicates whether to use the free amount of the account or the locked amount of the account as the commission, 0: free amount; 1: locked amount;2:Give priority to the use of the locked balance, and use the free amount for the remaining part if the locked balance is insufficient;")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"nodeId"),(0,r.kt)("td",{parentName:"tr",align:null},"64bytes"),(0,r.kt)("td",{parentName:"tr",align:null},"NodeId of the pledged node")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"amount"),(0,r.kt)("td",{parentName:"tr",align:null},"big.Int(bytes)"),(0,r.kt)("td",{parentName:"tr",align:null},"Amount entrusted (Calculated in the smallest unit\uff0c1LAT = 10^18 von)")))),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-JavaScript"},'const nodeId = "f71e1bc638456363a66c4769284290ef3ccff03aba4a22fb60ffaed60b77f614bfd173532c3575abe254c366df6f4d6248b929cb9398aaac00cbcc959f7b2b7c";\nlet params, others, reply;\n\n// Objects as parameters (the order is not required for keys)\nparams = {\n    funcType: 1004,\n    typ: 0,\n    nodeId: ppos.hexStrBuf(nodeId),\n    amount: ppos.bigNumBuf("10000000000000000000000")\n}\nreply = await ppos.send(params);\n\n// Array as parameter.\nparams = [1004, 0, ppos.hexStrBuf(nodeId), ppos.bigNumBuf("10000000000000000000000")];\nreply = await ppos.send(params);\n\n// Default configuration\nother = {\n    retry: 300,\n    interval: 200\n}\nparams = [1004, 0, ppos.hexStrBuf(nodeId), ppos.bigNumBuf("10000000000000000000000")];\nreply = await ppos.send(params, other);\n')),(0,r.kt)("h3",{id:"pledge-module"},"Pledge Module"),(0,r.kt)("h4",{id:"initiate-pledge"},"Initiate Pledge"),(0,r.kt)("p",null,"Pledge by sending transactions via send."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Desc"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"funcType"),(0,r.kt)("td",{parentName:"tr",align:null},"uint16(2bytes)"),(0,r.kt)("td",{parentName:"tr",align:null},"Type code of method(1000)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"typ"),(0,r.kt)("td",{parentName:"tr",align:null},"uint16(2bytes)"),(0,r.kt)("td",{parentName:"tr",align:null},"Indicates whether to use the account free amount or the account's locked amount as a pledge, 0: free amount; 1: locked amount; 2:Give priority to the use of the locked balance, and use the free amount for the remaining part if the locked balance is insufficient;")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"benefitAddress"),(0,r.kt)("td",{parentName:"tr",align:null},"20bytes"),(0,r.kt)("td",{parentName:"tr",align:null},"Revenue account for receiving block rewards and pledged rewards")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"nodeId"),(0,r.kt)("td",{parentName:"tr",align:null},"64bytes"),(0,r.kt)("td",{parentName:"tr",align:null},"The node ID of the pledged (also called the node ID of the candidate)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"externalId"),(0,r.kt)("td",{parentName:"tr",align:null},"string"),(0,r.kt)("td",{parentName:"tr",align:null},"External Id (with a length limit, the Id described by the third-party pull node)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"nodeName"),(0,r.kt)("td",{parentName:"tr",align:null},"string"),(0,r.kt)("td",{parentName:"tr",align:null},"The name of the node being pledged (there is a length limitation, indicating the name of the node)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"website"),(0,r.kt)("td",{parentName:"tr",align:null},"string"),(0,r.kt)("td",{parentName:"tr",align:null},"The third-party home page of the node (the length is limited, indicating the home page of the node)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"details"),(0,r.kt)("td",{parentName:"tr",align:null},"string"),(0,r.kt)("td",{parentName:"tr",align:null},"The description of the node (the length is limited, indicating the description of the node)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"amount"),(0,r.kt)("td",{parentName:"tr",align:null},"*","big.Int(bytes)"),(0,r.kt)("td",{parentName:"tr",align:null},"Pledged von")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"rewardPer"),(0,r.kt)("td",{parentName:"tr",align:null},"uint16(2bytes)"),(0,r.kt)("td",{parentName:"tr",align:null},"The percentage of rewards obtained from delegation is BasePoint 1BP = 0.01%")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"programVersion"),(0,r.kt)("td",{parentName:"tr",align:null},"uint32"),(0,r.kt)("td",{parentName:"tr",align:null},"Real version of the program, governance rpc acquisition")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"programVersionSign"),(0,r.kt)("td",{parentName:"tr",align:null},"65bytes"),(0,r.kt)("td",{parentName:"tr",align:null},"The true version signature of the program and the rpc interface of the governance module")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"blsPubKey"),(0,r.kt)("td",{parentName:"tr",align:null},"96bytes"),(0,r.kt)("td",{parentName:"tr",align:null},"bls public key")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"blsProof"),(0,r.kt)("td",{parentName:"tr",align:null},"64bytes"),(0,r.kt)("td",{parentName:"tr",align:null},"Proof of bls, obtained by pulling the proof interface")))),(0,r.kt)("h4",{id:"update-pledge-information"},"Update Pledge Information"),(0,r.kt)("p",null,"Modify the pledge information by sending the transaction."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Desc"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"funcType"),(0,r.kt)("td",{parentName:"tr",align:null},"uint16(2bytes)"),(0,r.kt)("td",{parentName:"tr",align:null},"Method type code(1001)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"benefitAddress"),(0,r.kt)("td",{parentName:"tr",align:null},"20bytes"),(0,r.kt)("td",{parentName:"tr",align:null},"Revenue account for receiving block rewards and pledged rewards")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"nodeId"),(0,r.kt)("td",{parentName:"tr",align:null},"64bytes"),(0,r.kt)("td",{parentName:"tr",align:null},"The node ID of the pledged (also called the node ID of the candidate)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"rewardPer"),(0,r.kt)("td",{parentName:"tr",align:null},"uint16(2bytes)"),(0,r.kt)("td",{parentName:"tr",align:null},"The percentage of rewards obtained from delegation is BasePoint 1BP = 0.01%")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"externalId"),(0,r.kt)("td",{parentName:"tr",align:null},"string"),(0,r.kt)("td",{parentName:"tr",align:null},"External Id (with a length limit, the Id described by the third-party pull node)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"nodeName"),(0,r.kt)("td",{parentName:"tr",align:null},"string"),(0,r.kt)("td",{parentName:"tr",align:null},"The name of the node being pledged (there is a length limitation, indicating the name of the node)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"website"),(0,r.kt)("td",{parentName:"tr",align:null},"string"),(0,r.kt)("td",{parentName:"tr",align:null},"The third-party home page of the node (the length is limited, indicating the home page of the node)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"details"),(0,r.kt)("td",{parentName:"tr",align:null},"string"),(0,r.kt)("td",{parentName:"tr",align:null},"The description of the node (the length is limited, indicating the description of the node)")))),(0,r.kt)("h4",{id:"increase-pledge"},"Increase Pledge"),(0,r.kt)("p",null,"Increase pledge by sending transactions."),(0,r.kt)("p",null,"Parameters:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Desc"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"funcType"),(0,r.kt)("td",{parentName:"tr",align:null},"uint16(2bytes)"),(0,r.kt)("td",{parentName:"tr",align:null},"Method type code(1002)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"nodeId"),(0,r.kt)("td",{parentName:"tr",align:null},"64bytes"),(0,r.kt)("td",{parentName:"tr",align:null},"The node ID of the pledged (also called the node ID of the candidate)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"typ"),(0,r.kt)("td",{parentName:"tr",align:null},"uint16(2bytes)"),(0,r.kt)("td",{parentName:"tr",align:null},"Indicates whether to use the account free amount or the account's locked amount as a pledge, 0: free amount; 1: locked amount; 2:Give priority to the use of the locked balance, and use the free amount for the remaining part if the locked balance is insufficient;")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"amount"),(0,r.kt)("td",{parentName:"tr",align:null},"*","big.Int(bytes)"),(0,r.kt)("td",{parentName:"tr",align:null},"Increased von")))),(0,r.kt)("h4",{id:"cancellation-of-pledge"},"Cancellation Of Pledge"),(0,r.kt)("p",null,"Send the transaction to cancel the pledge."),(0,r.kt)("p",null,"Notes: All cancellations are initiated at once, and the amount is divided into multiple returns to the account."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Desc"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"funcType"),(0,r.kt)("td",{parentName:"tr",align:null},"uint16(2bytes)"),(0,r.kt)("td",{parentName:"tr",align:null},"Method type code(1003)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"nodeId"),(0,r.kt)("td",{parentName:"tr",align:null},"64bytes"),(0,r.kt)("td",{parentName:"tr",align:null},"NodeId of the pledged node")))),(0,r.kt)("h4",{id:"initiate-delegation"},"Initiate Delegation"),(0,r.kt)("p",null,"Initiate delegation by sending a transaction."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Desc"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"funcType"),(0,r.kt)("td",{parentName:"tr",align:null},"uint16(2bytes)"),(0,r.kt)("td",{parentName:"tr",align:null},"Method type code(1004)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"typ"),(0,r.kt)("td",{parentName:"tr",align:null},"uint16(2bytes)"),(0,r.kt)("td",{parentName:"tr",align:null},"Indicates whether to use the free amount of the account or the locked amount of the account as the commission, 0: free amount; 1: locked amount; 2:Give priority to the use of the locked balance, and use the free amount for the remaining part if the locked balance is insufficient;")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"nodeId"),(0,r.kt)("td",{parentName:"tr",align:null},"64bytes"),(0,r.kt)("td",{parentName:"tr",align:null},"NodeId of the pledged node")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"amount"),(0,r.kt)("td",{parentName:"tr",align:null},"*","big.Int(bytes)"),(0,r.kt)("td",{parentName:"tr",align:null},"Amount entrusted (based on the smallest unit, 1LAT = 10 ","*","*"," 18 von)")))),(0,r.kt)("h4",{id:"reductionrevocation-delegation"},"Reduction/Revocation Delegation"),(0,r.kt)("p",null,"Completed by sending a transaction(All reductions are cancelled)."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Desc"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"funcType"),(0,r.kt)("td",{parentName:"tr",align:null},"uint16(2bytes)"),(0,r.kt)("td",{parentName:"tr",align:null},"Method type code(1005)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"stakingBlockNum"),(0,r.kt)("td",{parentName:"tr",align:null},"uint64(8bytes)"),(0,r.kt)("td",{parentName:"tr",align:null},"A unique identifier representing a pledge of a node")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"nodeId"),(0,r.kt)("td",{parentName:"tr",align:null},"64bytes"),(0,r.kt)("td",{parentName:"tr",align:null},"NodeId of the pledged node")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"amount"),(0,r.kt)("td",{parentName:"tr",align:null},"*","big.Int(bytes)"),(0,r.kt)("td",{parentName:"tr",align:null},"Amount of reduction entrustment (calculated by the smallest unit, ",(0,r.kt)("inlineCode",{parentName:"td"},"1LAT = 10 ** 18 von"),")")))),(0,r.kt)("h4",{id:"query-validators"},"Query Validators"),(0,r.kt)("p",null,"Query the validator of the current settlement cycle by calling."),(0,r.kt)("p",null,"Parameters:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Desc"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"funcType"),(0,r.kt)("td",{parentName:"tr",align:null},"uint16(2bytes)"),(0,r.kt)("td",{parentName:"tr",align:null},"Method type code(1100)")))),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Unified query result format")),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Field"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Desc"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Code"),(0,r.kt)("td",{parentName:"tr",align:null},"uint32"),(0,r.kt)("td",{parentName:"tr",align:null},"Indicates the error code returned by the ppos built-in contract")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Data"),(0,r.kt)("td",{parentName:"tr",align:null},"string"),(0,r.kt)("td",{parentName:"tr",align:null},"Query result of json string")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"ErrMsg"),(0,r.kt)("td",{parentName:"tr",align:null},"string"),(0,r.kt)("td",{parentName:"tr",align:null},"Error message")))),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"Note: The following query interfaces (the interfaces called by ",(0,r.kt)("inlineCode",{parentName:"p"},"platon_call"),") are returned in the above format unless otherwise specified")),(0,r.kt)("p",null,"Returns: List"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Field"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Desc"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"NodeId"),(0,r.kt)("td",{parentName:"tr",align:null},"64bytes"),(0,r.kt)("td",{parentName:"tr",align:null},"The node ID of the pledged (also called the node ID of the candidate)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"StakingAddress"),(0,r.kt)("td",{parentName:"tr",align:null},"20bytes"),(0,r.kt)("td",{parentName:"tr",align:null},"The account used when initiating the pledge (this account can only be used for subsequent pledge information. When the pledge is cancelled, ",(0,r.kt)("inlineCode",{parentName:"td"},"von")," will be returned to the account or the account lock information)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"BenefitAddress"),(0,r.kt)("td",{parentName:"tr",align:null},"20bytes"),(0,r.kt)("td",{parentName:"tr",align:null},"Revenue account for receiving block rewards and pledged rewards")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"StakingTxIndex"),(0,r.kt)("td",{parentName:"tr",align:null},"uint32(4bytes)"),(0,r.kt)("td",{parentName:"tr",align:null},"Index of transactions when pledge is initiated")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"ProgramVersion"),(0,r.kt)("td",{parentName:"tr",align:null},"uint32"),(0,r.kt)("td",{parentName:"tr",align:null},"The real version number of the PlatON process of the pledged node (the interface for obtaining the version number is provided by the governance)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"StakingBlockNum"),(0,r.kt)("td",{parentName:"tr",align:null},"uint64(8bytes)"),(0,r.kt)("td",{parentName:"tr",align:null},"Block height when pledge is initiated")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Shares"),(0,r.kt)("td",{parentName:"tr",align:null},"*","big.Int(bytes)"),(0,r.kt)("td",{parentName:"tr",align:null},"The current candidate's total pledge plus the number of ",(0,r.kt)("inlineCode",{parentName:"td"},"von")," entrusted")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"ExternalId"),(0,r.kt)("td",{parentName:"tr",align:null},"string"),(0,r.kt)("td",{parentName:"tr",align:null},"External Id (with a length limit, the Id described by the third-party pull node)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"NodeName"),(0,r.kt)("td",{parentName:"tr",align:null},"string"),(0,r.kt)("td",{parentName:"tr",align:null},"The name of the node being pledged (there is a length limitation, indicating the name of the node)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Website"),(0,r.kt)("td",{parentName:"tr",align:null},"string"),(0,r.kt)("td",{parentName:"tr",align:null},"The third-party home page of the node (the length is limited, indicating the home page of the node)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Details"),(0,r.kt)("td",{parentName:"tr",align:null},"string"),(0,r.kt)("td",{parentName:"tr",align:null},"The description of the node (the length is limited, indicating the description of the node)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"ValidatorTerm"),(0,r.kt)("td",{parentName:"tr",align:null},"uint32(4bytes)"),(0,r.kt)("td",{parentName:"tr",align:null},"Validator's term (it will always be 0 in the 101 validator snapshots of the settlement cycle, and will only be valued when the validator of the consensus round, it is also 0 when it is just selected, and +1 when it stays in office)")))),(0,r.kt)("h4",{id:"query-validator-list"},"Query Validator list"),(0,r.kt)("p",null,"Query the list of validators by call."),(0,r.kt)("p",null,"Parameters:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Field"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Remark"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"funcType"),(0,r.kt)("td",{parentName:"tr",align:null},"uint16(2bytes)"),(0,r.kt)("td",{parentName:"tr",align:null},"Method type code(1101)")))),(0,r.kt)("p",null,"Returns: List"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Field"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Remark"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"NodeId"),(0,r.kt)("td",{parentName:"tr",align:null},"64bytes"),(0,r.kt)("td",{parentName:"tr",align:null},"The node ID of the pledged (also called the node ID of the candidate).")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"StakingAddress"),(0,r.kt)("td",{parentName:"tr",align:null},"20bytes"),(0,r.kt)("td",{parentName:"tr",align:null},"The account used when initiating the pledge (the pledge information can only be used for this operation in subsequent operations. When the pledge is cancelled, von will be returned to the account or the account lock information)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"BenefitAddress"),(0,r.kt)("td",{parentName:"tr",align:null},"20bytes"),(0,r.kt)("td",{parentName:"tr",align:null},"Revenue account for receiving block rewards and pledged rewards")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"StakingTxIndex"),(0,r.kt)("td",{parentName:"tr",align:null},"uint32(4bytes)"),(0,r.kt)("td",{parentName:"tr",align:null},"Index of transactions when pledge is initiated")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"ProgramVersion"),(0,r.kt)("td",{parentName:"tr",align:null},"uint32(4bytes)"),(0,r.kt)("td",{parentName:"tr",align:null},"The real version number of the PlatON process of the pledged node (the interface for obtaining the version number is provided by the governance)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"StakingBlockNum"),(0,r.kt)("td",{parentName:"tr",align:null},"uint64(8bytes)"),(0,r.kt)("td",{parentName:"tr",align:null},"Block height when pledge is initiated")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Shares"),(0,r.kt)("td",{parentName:"tr",align:null},"*","big.Int(bytes)"),(0,r.kt)("td",{parentName:"tr",align:null},"The current candidate's total pledge plus the number of entrusted von")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"ExternalId"),(0,r.kt)("td",{parentName:"tr",align:null},"string"),(0,r.kt)("td",{parentName:"tr",align:null},"External Id (with a length limit, the Id described by the third-party pull node)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"NodeName"),(0,r.kt)("td",{parentName:"tr",align:null},"string"),(0,r.kt)("td",{parentName:"tr",align:null},"The name of the node being pledged (there is a length limitation, indicating the name of the node)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Website"),(0,r.kt)("td",{parentName:"tr",align:null},"string"),(0,r.kt)("td",{parentName:"tr",align:null},"The third-party home page of the node (the length is limited, indicating the home page of the node)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Details"),(0,r.kt)("td",{parentName:"tr",align:null},"string"),(0,r.kt)("td",{parentName:"tr",align:null},"The description of the node (the length is limited, indicating the description of the node)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"ValidatorTerm"),(0,r.kt)("td",{parentName:"tr",align:null},"uint32(4bytes)"),(0,r.kt)("td",{parentName:"tr",align:null},"Validator's term (it will always be 0 in the 101 validator snapshots of the settlement cycle, and will only be valued when the validator of the consensus round, it is also 0 when it is just selected, and +1 when it stays in office)")))),(0,r.kt)("h4",{id:"query-real-time-candidate-list"},"Query Real-time Candidate List"),(0,r.kt)("p",null,"Query real-time candidate list by call."),(0,r.kt)("p",null,"Parameters:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Field"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Remark"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"funcType"),(0,r.kt)("td",{parentName:"tr",align:null},"uint16(2bytes)"),(0,r.kt)("td",{parentName:"tr",align:null},"Method type code(1102)")))),(0,r.kt)("p",null,"Returns:List"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Field"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Remark"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"NodeId"),(0,r.kt)("td",{parentName:"tr",align:null},"64bytes"),(0,r.kt)("td",{parentName:"tr",align:null},"The node ID of the pledged (also called the node ID of the candidate).")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"StakingAddress"),(0,r.kt)("td",{parentName:"tr",align:null},"20bytes"),(0,r.kt)("td",{parentName:"tr",align:null},"The account used when initiating the pledge (the pledge information can only be used for this operation in subsequent operations. When the pledge is cancelled, von will be returned to the account or the account lock information)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"BenefitAddress"),(0,r.kt)("td",{parentName:"tr",align:null},"20bytes"),(0,r.kt)("td",{parentName:"tr",align:null},"Revenue account for receiving block rewards and pledged rewards")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"StakingTxIndex"),(0,r.kt)("td",{parentName:"tr",align:null},"uint32(4bytes)"),(0,r.kt)("td",{parentName:"tr",align:null},"Index of transactions when pledge is initiated")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"ProgramVersion"),(0,r.kt)("td",{parentName:"tr",align:null},"uint32(4bytes)"),(0,r.kt)("td",{parentName:"tr",align:null},"The real version number of the PlatON process of the pledged node (the interface for obtaining the version number is provided by the governance)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Status"),(0,r.kt)("td",{parentName:"tr",align:null},"uint32(4bytes)"),(0,r.kt)("td",{parentName:"tr",align:null},"The status of the candidate (the status is placed according to the 32bit of uint32, there can be multiple states at the same time, and the value is the sum of multiple simultaneous state values ","[0: node available (32 bits are all 0); 1: node Not available (only the last bit is 1); 2: The node has a low block generation rate but does not meet the removal condition (only the penultimate bit is 1); 4: The node's von is not enough to meet the minimum pledge threshold (only the penultimate bit 1); 8: The node is reported with a double sign (only the penultimate bit is 1)); 16: the node's block generation rate is low and the removal condition is met (the penultimate bit is 1); 32: the node actively initiates the cancellation (Only the penultimate bit is 1)]")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"StakingEpoch"),(0,r.kt)("td",{parentName:"tr",align:null},"uint32(4bytes)"),(0,r.kt)("td",{parentName:"tr",align:null},"Settlement cycle when current pledge amount is changed")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"StakingBlockNum"),(0,r.kt)("td",{parentName:"tr",align:null},"uint64(8bytes)"),(0,r.kt)("td",{parentName:"tr",align:null},"Block height when pledge is initiated")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Shares"),(0,r.kt)("td",{parentName:"tr",align:null},"string"),(0,r.kt)("td",{parentName:"tr",align:null},"The current candidate's total pledge plus the number of entrusted von")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Released"),(0,r.kt)("td",{parentName:"tr",align:null},"string"),(0,r.kt)("td",{parentName:"tr",align:null},"Initiating a free amount locked period pledge of a pledged account ",(0,r.kt)("inlineCode",{parentName:"td"},"von"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"ReleasedHes"),(0,r.kt)("td",{parentName:"tr",align:null},"string"),(0,r.kt)("td",{parentName:"tr",align:null},"Freedom to initiate a pledge account with a hesitation period of von von")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"RestrictingPlan"),(0,r.kt)("td",{parentName:"tr",align:null},"string"),(0,r.kt)("td",{parentName:"tr",align:null},"Initiating the lock-up period of the pledged account's lock-up amount ",(0,r.kt)("inlineCode",{parentName:"td"},"von"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"RestrictingPlanHes"),(0,r.kt)("td",{parentName:"tr",align:null},"string"),(0,r.kt)("td",{parentName:"tr",align:null},"Initiating the hedging period of the pledged account's hedging amount ",(0,r.kt)("inlineCode",{parentName:"td"},"von"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"ExternalId"),(0,r.kt)("td",{parentName:"tr",align:null},"string"),(0,r.kt)("td",{parentName:"tr",align:null},"External Id (with a length limit, the Id described by the third-party pull node)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"NodeName"),(0,r.kt)("td",{parentName:"tr",align:null},"string"),(0,r.kt)("td",{parentName:"tr",align:null},"The name of the node being pledged (there is a length limitation, indicating the name of the node)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Website"),(0,r.kt)("td",{parentName:"tr",align:null},"string"),(0,r.kt)("td",{parentName:"tr",align:null},"The third-party home page of the node (the length is limited, indicating the home page of the node)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Details"),(0,r.kt)("td",{parentName:"tr",align:null},"string"),(0,r.kt)("td",{parentName:"tr",align:null},"The description of the node (the length is limited, indicating the description of the node)")))),(0,r.kt)("h4",{id:"query-the-nodeid-and-pledged-id-of-the-delegated-node"},"Query The NodeID And Pledged Id of The Delegated Node"),(0,r.kt)("p",null,"Query the NodeID and Pledged Id of the node entrusted by the current account address."),(0,r.kt)("p",null,"Parameters:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Field"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Remark"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"funcType"),(0,r.kt)("td",{parentName:"tr",align:null},"uint16(2bytes)"),(0,r.kt)("td",{parentName:"tr",align:null},"Method type code(1103)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"addr"),(0,r.kt)("td",{parentName:"tr",align:null},"common.address(20bytes)"),(0,r.kt)("td",{parentName:"tr",align:null},"Client's account address")))),(0,r.kt)("p",null,"Returns: List"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Field"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Remark"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Addr"),(0,r.kt)("td",{parentName:"tr",align:null},"20bytes"),(0,r.kt)("td",{parentName:"tr",align:null},"Client's account address")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"NodeId"),(0,r.kt)("td",{parentName:"tr",align:null},"64bytes"),(0,r.kt)("td",{parentName:"tr",align:null},"Node ID of the validator")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"StakingBlockNum"),(0,r.kt)("td",{parentName:"tr",align:null},"uint64(8bytes)"),(0,r.kt)("td",{parentName:"tr",align:null},"Block height when pledge is initiated")))),(0,r.kt)("h4",{id:"query-delegated-informations"},"Query Delegated Informations"),(0,r.kt)("p",null,"Query the current single delegate information, using the call method."),(0,r.kt)("p",null,"Parameters:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Field"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Remark"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"funcType"),(0,r.kt)("td",{parentName:"tr",align:null},"uint16"),(0,r.kt)("td",{parentName:"tr",align:null},"Method type code(1104)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"stakingBlockNum"),(0,r.kt)("td",{parentName:"tr",align:null},"uint64(8bytes)"),(0,r.kt)("td",{parentName:"tr",align:null},"Block height when pledge is initiated")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"delAddr"),(0,r.kt)("td",{parentName:"tr",align:null},"20bytes"),(0,r.kt)("td",{parentName:"tr",align:null},"Client's account address")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"nodeId"),(0,r.kt)("td",{parentName:"tr",align:null},"64bytes"),(0,r.kt)("td",{parentName:"tr",align:null},"Node ID of the validator")))),(0,r.kt)("p",null,"Returns: List"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Field"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Remark"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Addr"),(0,r.kt)("td",{parentName:"tr",align:null},"20bytes"),(0,r.kt)("td",{parentName:"tr",align:null},"Client's account address")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"NodeId"),(0,r.kt)("td",{parentName:"tr",align:null},"64bytes"),(0,r.kt)("td",{parentName:"tr",align:null},"Node ID of the validator")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"StakingBlockNum"),(0,r.kt)("td",{parentName:"tr",align:null},"uint64(8bytes)"),(0,r.kt)("td",{parentName:"tr",align:null},"Block height when pledge is initiated")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"DelegateEpoch"),(0,r.kt)("td",{parentName:"tr",align:null},"uint32(4bytes)"),(0,r.kt)("td",{parentName:"tr",align:null},"Settlement cycle at the time of the most recent commission for this candidate")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Released"),(0,r.kt)("td",{parentName:"tr",align:null},"string"),(0,r.kt)("td",{parentName:"tr",align:null},"The free amount of the account that initiated the commission, the ",(0,r.kt)("inlineCode",{parentName:"td"},"von")," that was commissioned during the lock-up period.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"ReleasedHes"),(0,r.kt)("td",{parentName:"tr",align:null},"string"),(0,r.kt)("td",{parentName:"tr",align:null},"Number of von commissioned during the hesitation period of the free amount of the commission account")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"RestrictingPlan"),(0,r.kt)("td",{parentName:"tr",align:null},"string"),(0,r.kt)("td",{parentName:"tr",align:null},"Number of von commissioned during the lock period that initiated the lockup amount of the commissioned account")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"RestrictingPlanHes"),(0,r.kt)("td",{parentName:"tr",align:null},"string"),(0,r.kt)("td",{parentName:"tr",align:null},"Number of von commissioned during the hesitation period of the hedging amount of the commissioned account")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Reduction"),(0,r.kt)("td",{parentName:"tr",align:null},"string"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"von")," in revocation plan")))),(0,r.kt)("h4",{id:"query-pledge-information"},"Query Pledge Information"),(0,r.kt)("p",null,"Query the pledge information of the current node."),(0,r.kt)("p",null,"Parameters:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Field"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Remark"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"funcType"),(0,r.kt)("td",{parentName:"tr",align:null},"uint16"),(0,r.kt)("td",{parentName:"tr",align:null},"Method type code(1105)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"nodeId"),(0,r.kt)("td",{parentName:"tr",align:null},"64bytes"),(0,r.kt)("td",{parentName:"tr",align:null},"Node ID of the validator")))),(0,r.kt)("p",null,"Returns: List"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Field"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Remark"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"NodeId"),(0,r.kt)("td",{parentName:"tr",align:null},"64bytes"),(0,r.kt)("td",{parentName:"tr",align:null},"The node ID of the pledged (also called the node ID of the candidate).")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"StakingAddress"),(0,r.kt)("td",{parentName:"tr",align:null},"20bytes"),(0,r.kt)("td",{parentName:"tr",align:null},"The account used when initiating the pledge (the pledge information can only be used for this operation in subsequent operations. When the pledge is cancelled, von will be returned to the account or the account lock information)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"BenefitAddress"),(0,r.kt)("td",{parentName:"tr",align:null},"20bytes"),(0,r.kt)("td",{parentName:"tr",align:null},"Revenue account for receiving block rewards and pledged rewards")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"StakingTxIndex"),(0,r.kt)("td",{parentName:"tr",align:null},"uint32(4bytes)"),(0,r.kt)("td",{parentName:"tr",align:null},"Index of transactions when pledge is initiated")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"ProgramVersion"),(0,r.kt)("td",{parentName:"tr",align:null},"uint32(4bytes)"),(0,r.kt)("td",{parentName:"tr",align:null},"The real version number of the PlatON process of the pledged node (the interface for obtaining the version number is provided by the governance)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Status"),(0,r.kt)("td",{parentName:"tr",align:null},"uint32(4bytes)"),(0,r.kt)("td",{parentName:"tr",align:null},"The status of the candidate (the status is placed according to the ",(0,r.kt)("inlineCode",{parentName:"td"},"32bit")," of",(0,r.kt)("inlineCode",{parentName:"td"}," uint32"),", multiple states can exist at the same time, and the value of multiple simultaneous state values is added ","[",(0,r.kt)("inlineCode",{parentName:"td"},"0"),": the node is available (32 bits are all 0); ",(0,r.kt)("inlineCode",{parentName:"td"},"1"),": The node is unavailable (only the last bit is 1);",(0,r.kt)("inlineCode",{parentName:"td"}," 2"),": The node has a low block rate but does not meet the removal condition (only the penultimate bit is 1); ",(0,r.kt)("inlineCode",{parentName:"td"},"4"),": The node Von is lower than the minimum pledge threshold (only the penultimate bit is 1); ",(0,r.kt)("inlineCode",{parentName:"td"},"8"),": the node is reported as a double sign (only the penultimate bit is 1);",(0,r.kt)("inlineCode",{parentName:"td"}," 16"),": the node block rate is low and the removal condition is met (The penultimate bit is 1); ",(0,r.kt)("inlineCode",{parentName:"td"},"32"),": the node actively initiates the revocation (only the penultimate bit is 1)]")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"StakingEpoch"),(0,r.kt)("td",{parentName:"tr",align:null},"uint32(4bytes)"),(0,r.kt)("td",{parentName:"tr",align:null},"Settlement cycle when current pledge amount is changed")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"StakingBlockNum"),(0,r.kt)("td",{parentName:"tr",align:null},"uint64(8bytes)"),(0,r.kt)("td",{parentName:"tr",align:null},"Block height when pledge is initiated")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Shares"),(0,r.kt)("td",{parentName:"tr",align:null},"string"),(0,r.kt)("td",{parentName:"tr",align:null},"The current candidate's total pledge plus the number of entrusted von")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Released"),(0,r.kt)("td",{parentName:"tr",align:null},"string"),(0,r.kt)("td",{parentName:"tr",align:null},"Initiating a free amount locked period pledge of a pledged account ",(0,r.kt)("inlineCode",{parentName:"td"},"von"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"ReleasedHes"),(0,r.kt)("td",{parentName:"tr",align:null},"string"),(0,r.kt)("td",{parentName:"tr",align:null},"Freedom to initiate a pledge account with a hesitation period of von von")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"RestrictingPlan"),(0,r.kt)("td",{parentName:"tr",align:null},"string"),(0,r.kt)("td",{parentName:"tr",align:null},"Initiating the lock-up period of the pledged account's lock-up amount ",(0,r.kt)("inlineCode",{parentName:"td"},"von"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"RestrictingPlanHes"),(0,r.kt)("td",{parentName:"tr",align:null},"string"),(0,r.kt)("td",{parentName:"tr",align:null},"Initiating the hedging period of the pledged account's hedging amount ",(0,r.kt)("inlineCode",{parentName:"td"},"von"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"ExternalId"),(0,r.kt)("td",{parentName:"tr",align:null},"string"),(0,r.kt)("td",{parentName:"tr",align:null},"External Id (with a length limit, the Id described by the third-party pull node)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"NodeName"),(0,r.kt)("td",{parentName:"tr",align:null},"string"),(0,r.kt)("td",{parentName:"tr",align:null},"The name of the node being pledged (there is a length limitation, indicating the name of the node)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Website"),(0,r.kt)("td",{parentName:"tr",align:null},"string"),(0,r.kt)("td",{parentName:"tr",align:null},"The third-party home page of the node (the length is limited, indicating the home page of the node)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Details"),(0,r.kt)("td",{parentName:"tr",align:null},"string"),(0,r.kt)("td",{parentName:"tr",align:null},"The description of the node (the length is limited, indicating the description of the node)")))),(0,r.kt)("h3",{id:"governance-module"},"Governance Module"),(0,r.kt)("h4",{id:"submit-text-proposal"},"Submit Text Proposal"),(0,r.kt)("p",null,"Submit a text proposal by sending a transaction."),(0,r.kt)("p",null,"Parameters:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Field"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Remark"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"funcType"),(0,r.kt)("td",{parentName:"tr",align:null},"uint16(2bytes)"),(0,r.kt)("td",{parentName:"tr",align:null},"Method type code(2000)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"verifier"),(0,r.kt)("td",{parentName:"tr",align:null},"discover.NodeID(64bytes)"),(0,r.kt)("td",{parentName:"tr",align:null},"Submit a validator")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"pIDID"),(0,r.kt)("td",{parentName:"tr",align:null},"string(uint64)"),(0,r.kt)("td",{parentName:"tr",align:null},"PIPID")))),(0,r.kt)("h4",{id:"submit-upgrade-proposal"},"Submit Upgrade Proposal"),(0,r.kt)("p",null,"Submit an upgrade proposal by sending a transaction."),(0,r.kt)("p",null,"Parameters:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Field"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Remark"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"funcType"),(0,r.kt)("td",{parentName:"tr",align:null},"uint16(2bytes)"),(0,r.kt)("td",{parentName:"tr",align:null},"Method type code(2001)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"verifier"),(0,r.kt)("td",{parentName:"tr",align:null},"discover.NodeID(64bytes)"),(0,r.kt)("td",{parentName:"tr",align:null},"Validator of proposal")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"pIDID"),(0,r.kt)("td",{parentName:"tr",align:null},"string(uint64)"),(0,r.kt)("td",{parentName:"tr",align:null},"PIPID")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"newVersion"),(0,r.kt)("td",{parentName:"tr",align:null},"uint32(4bytes)"),(0,r.kt)("td",{parentName:"tr",align:null},"updated version")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"endVotingRounds"),(0,r.kt)("td",{parentName:"tr",align:null},"uint64"),(0,r.kt)("td",{parentName:"tr",align:null},"Number of voting consensus rounds. Note: Assume that the number of the consensus round when the transaction that submitted the proposal is packaged into the block is ",(0,r.kt)("inlineCode",{parentName:"td"},"round1"),". The",(0,r.kt)("inlineCode",{parentName:"td"}," blockNumber")," of the proposal voting deadline is ",(0,r.kt)("inlineCode",{parentName:"td"},"round1 + endVotingRounds"),". The consensus round produced block 250, ppos was announced 20 blocks ahead of time, ",(0,r.kt)("inlineCode",{parentName:"td"},"250"),", and",(0,r.kt)("inlineCode",{parentName:"td"}," 20")," are all configurable), of which ",(0,r.kt)("inlineCode",{parentName:"td"},"0 <endVotingRounds <= 4840")," (about 2 weeks, the actual discussion can be calculated according to the configuration), And is an integer)")))),(0,r.kt)("h4",{id:"submit-cancellation-proposal"},"Submit Cancellation Proposal"),(0,r.kt)("p",null,"Submit cancellation proposal by sending transaction."),(0,r.kt)("p",null,"Parameters:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Field"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Remark"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"funcType"),(0,r.kt)("td",{parentName:"tr",align:null},"uint16(2bytes)"),(0,r.kt)("td",{parentName:"tr",align:null},"Method type code(2005)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"verifier"),(0,r.kt)("td",{parentName:"tr",align:null},"discover.NodeID(64bytes)"),(0,r.kt)("td",{parentName:"tr",align:null},"Validator of proposal")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"pIDID"),(0,r.kt)("td",{parentName:"tr",align:null},"string(uint64)"),(0,r.kt)("td",{parentName:"tr",align:null},"PIPID")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"endVotingRounds"),(0,r.kt)("td",{parentName:"tr",align:null},"uint64"),(0,r.kt)("td",{parentName:"tr",align:null},"Number of voting consensus rounds. Refer to the description of submitting an upgrade proposal. At the same time, the value of this parameter in this interface cannot be greater than the value in the corresponding upgrade proposal.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"tobeCanceledProposalID"),(0,r.kt)("td",{parentName:"tr",align:null},"common.hash(32bytes)"),(0,r.kt)("td",{parentName:"tr",align:null},"Upgrade proposal ID to be canceled")))),(0,r.kt)("h4",{id:"vote-on-proposal"},"Vote On Proposal"),(0,r.kt)("p",null,"Vote on a proposal by sending a transaction."),(0,r.kt)("p",null,"Parameters:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Field"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Remark"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"funcType"),(0,r.kt)("td",{parentName:"tr",align:null},"uint16(2bytes)"),(0,r.kt)("td",{parentName:"tr",align:null},"Method type code(2003)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"verifier"),(0,r.kt)("td",{parentName:"tr",align:null},"discover.NodeID(64bytes)"),(0,r.kt)("td",{parentName:"tr",align:null},"Vote validator")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"proposalID"),(0,r.kt)("td",{parentName:"tr",align:null},"common.Hash(32bytes)"),(0,r.kt)("td",{parentName:"tr",align:null},"Proposal ID")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"option"),(0,r.kt)("td",{parentName:"tr",align:null},"uint8(1byte)"),(0,r.kt)("td",{parentName:"tr",align:null},"Voting options")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"programVersion"),(0,r.kt)("td",{parentName:"tr",align:null},"uint32(4bytes)"),(0,r.kt)("td",{parentName:"tr",align:null},"The code version of the node, obtained by the ",(0,r.kt)("inlineCode",{parentName:"td"},"getProgramVersion")," interface of rpc")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"versionSign"),(0,r.kt)("td",{parentName:"tr",align:null},"common.VesionSign(65bytes)"),(0,r.kt)("td",{parentName:"tr",align:null},"Code version signature, obtained by rpc's getProgramVersion interface")))),(0,r.kt)("h4",{id:"version-declaration"},"Version Declaration"),(0,r.kt)("p",null,"Declaring the version by sending a transaction."),(0,r.kt)("p",null,"Parameters:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Field"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Remark"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"funcType"),(0,r.kt)("td",{parentName:"tr",align:null},"uint16(2bytes)"),(0,r.kt)("td",{parentName:"tr",align:null},"Method type code(2004)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"verifier"),(0,r.kt)("td",{parentName:"tr",align:null},"discover.NodeID(64bytes)"),(0,r.kt)("td",{parentName:"tr",align:null},"The declared node can only be a validator/candidate")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"programVersion"),(0,r.kt)("td",{parentName:"tr",align:null},"uint32(4bytes)"),(0,r.kt)("td",{parentName:"tr",align:null},"Declared version, obtained by rpc's getProgramVersion interface")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"versionSign"),(0,r.kt)("td",{parentName:"tr",align:null},"common.VesionSign(65bytes)"),(0,r.kt)("td",{parentName:"tr",align:null},"Declared version signature, obtained by rpc's getProgramVersion interface")))),(0,r.kt)("h4",{id:"query-proposal"},"Query Proposal"),(0,r.kt)("p",null,"Query proposal by calling."),(0,r.kt)("p",null,"Parameters:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Field"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Remark"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"funcType"),(0,r.kt)("td",{parentName:"tr",align:null},"uint16(2bytes)"),(0,r.kt)("td",{parentName:"tr",align:null},"2100)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"proposalID"),(0,r.kt)("td",{parentName:"tr",align:null},"common.Hash(32bytes)"),(0,r.kt)("td",{parentName:"tr",align:null},"Proposal ID")))),(0,r.kt)("p",null,"Returns:"),(0,r.kt)("p",null,"JSON string of object implementing interface Proposal."),(0,r.kt)("h4",{id:"query-proposal-results"},"Query Proposal Results"),(0,r.kt)("p",null,"Query proposal results through calling operation."),(0,r.kt)("p",null,"Parameters:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Field"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Remark"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"funcType"),(0,r.kt)("td",{parentName:"tr",align:null},"uint16(2bytes)"),(0,r.kt)("td",{parentName:"tr",align:null},"Method type code(2101)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"proposalID"),(0,r.kt)("td",{parentName:"tr",align:null},"common.Hash(32bytes)"),(0,r.kt)("td",{parentName:"tr",align:null},"Proposal ID")))),(0,r.kt)("p",null,"Returns:"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"TallyResult"),": Json string of TallyResult object."),(0,r.kt)("h4",{id:"query-proposal-list"},"Query Proposal List"),(0,r.kt)("p",null,"Query proposal list through calling operation."),(0,r.kt)("p",null,"Parameters:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Field"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Remark"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"funcType"),(0,r.kt)("td",{parentName:"tr",align:null},"uint16(2bytes)"),(0,r.kt)("td",{parentName:"tr",align:null},"Method type code(2102)")))),(0,r.kt)("p",null,"Returns:"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Proposal"),": A json string of an object that implements the interface Proposal."),(0,r.kt)("h4",{id:"query-version-in-effect"},"Query Version In Effect"),(0,r.kt)("p",null,"Query the version in effect through calling operation."),(0,r.kt)("p",null,"Parameters:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Field"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Remark"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"funcType"),(0,r.kt)("td",{parentName:"tr",align:null},"uint16(2bytes)"),(0,r.kt)("td",{parentName:"tr",align:null},"Method type code(2103)")))),(0,r.kt)("p",null,"Returns:"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"String"),": The json string of the version number, such as ",(0,r.kt)("inlineCode",{parentName:"p"},"{65536}"),", indicates that the version is: ",(0,r.kt)("inlineCode",{parentName:"p"},"1.0.0"),".\nWhen parsing, ver needs to be converted into 4 bytes. Major version: second byte; minor version: third byte, patch version, fourth byte."),(0,r.kt)("h4",{id:"query-the-cumulative-voteable-number-of-proposals"},"Query The Cumulative Voteable Number Of Proposals"),(0,r.kt)("p",null,"Query the cumulative voteable number of proposals through calling operation."),(0,r.kt)("p",null,"Parameters:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Field"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Remark"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"funcType"),(0,r.kt)("td",{parentName:"tr",align:null},"uint16(2bytes)"),(0,r.kt)("td",{parentName:"tr",align:null},"Method type code(2105)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"proposalID"),(0,r.kt)("td",{parentName:"tr",align:null},"common.Hash(32bytes)"),(0,r.kt)("td",{parentName:"tr",align:null},"Proposal ID")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"blockHash"),(0,r.kt)("td",{parentName:"tr",align:null},"common.Hash(32bytes)"),(0,r.kt)("td",{parentName:"tr",align:null},"\u5757 hash")))),(0,r.kt)("p",null,"Returns:"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Array")," - ",(0,r.kt)("inlineCode",{parentName:"p"},"[]uint16"),": An array."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Field"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Remark"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null},"uint16"),(0,r.kt)("td",{parentName:"tr",align:null},"Number of cumulative votes")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null},"uint16"),(0,r.kt)("td",{parentName:"tr",align:null},"Number of in favour votes")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null},"uint16"),(0,r.kt)("td",{parentName:"tr",align:null},"Number of negative votes")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null},"uint16"),(0,r.kt)("td",{parentName:"tr",align:null},"Number of Abstained votes")))),(0,r.kt)("h3",{id:"definition"},"Definition"),(0,r.kt)("h4",{id:"proposaltype"},"ProposalType"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Definition"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"TextProposal"),(0,r.kt)("td",{parentName:"tr",align:null},"0x01"),(0,r.kt)("td",{parentName:"tr",align:null},"Text proposal")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"VersionProposal"),(0,r.kt)("td",{parentName:"tr",align:null},"0x02"),(0,r.kt)("td",{parentName:"tr",align:null},"Upgrade proposal")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"CancelProposal"),(0,r.kt)("td",{parentName:"tr",align:null},"0x04"),(0,r.kt)("td",{parentName:"tr",align:null},"Cancel proposal")))),(0,r.kt)("h4",{id:"proposalstatus"},"ProposalStatus"),(0,r.kt)("p",null,"For text proposals, there are three states: ",(0,r.kt)("inlineCode",{parentName:"p"},"0x01"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"0x02"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"0x03"),";\nFor the upgrade proposal, there are four states: ",(0,r.kt)("inlineCode",{parentName:"p"},"0x01"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"0x03"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"0x04"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"0x05"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"0x06"),".\nFor cancellation proposals, there are three states: ",(0,r.kt)("inlineCode",{parentName:"p"},"0x01"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"0x02"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"0x03"),";"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Definition"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Voting"),(0,r.kt)("td",{parentName:"tr",align:null},"0x01"),(0,r.kt)("td",{parentName:"tr",align:null},"Voting")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Pass"),(0,r.kt)("td",{parentName:"tr",align:null},"0x02"),(0,r.kt)("td",{parentName:"tr",align:null},"Voted successfully")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Failed"),(0,r.kt)("td",{parentName:"tr",align:null},"0x03"),(0,r.kt)("td",{parentName:"tr",align:null},"Vote failed")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"PreActive"),(0,r.kt)("td",{parentName:"tr",align:null},"0x04"),(0,r.kt)("td",{parentName:"tr",align:null},"(Upgrade Proposal) Pre-Effective")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Active"),(0,r.kt)("td",{parentName:"tr",align:null},"0x05"),(0,r.kt)("td",{parentName:"tr",align:null},"(Upgrade Proposal) Effective")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Canceled"),(0,r.kt)("td",{parentName:"tr",align:null},"0x06"),(0,r.kt)("td",{parentName:"tr",align:null},"(Upgrade proposal) cancelled")))),(0,r.kt)("h4",{id:"voteoption"},"VoteOption"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Definition"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Yeas"),(0,r.kt)("td",{parentName:"tr",align:null},"0x01"),(0,r.kt)("td",{parentName:"tr",align:null},"agree")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Nays"),(0,r.kt)("td",{parentName:"tr",align:null},"0x02"),(0,r.kt)("td",{parentName:"tr",align:null},"Against")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Abstentions"),(0,r.kt)("td",{parentName:"tr",align:null},"Other values"),(0,r.kt)("td",{parentName:"tr",align:null},"Abstain")))),(0,r.kt)("h4",{id:"proposaltextproposal"},"Proposal(TextProposal)"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Field"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Remark"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"ProposalID"),(0,r.kt)("td",{parentName:"tr",align:null},"common.Hash(32bytes)"),(0,r.kt)("td",{parentName:"tr",align:null},"Proposal ID")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Proposer"),(0,r.kt)("td",{parentName:"tr",align:null},"common.NodeID(64bytes)"),(0,r.kt)("td",{parentName:"tr",align:null},"Proposal Node ID")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"ProposalType"),(0,r.kt)("td",{parentName:"tr",align:null},"byte"),(0,r.kt)("td",{parentName:"tr",align:null},"Proposal type, ",(0,r.kt)("inlineCode",{parentName:"td"},"0x01"),": text proposal; ",(0,r.kt)("inlineCode",{parentName:"td"},"0x02"),": upgrade proposal; ",(0,r.kt)("inlineCode",{parentName:"td"},"0x03")," parameter proposal; ",(0,r.kt)("inlineCode",{parentName:"td"},"0x04")," cancel proposal.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"PIPID"),(0,r.kt)("td",{parentName:"tr",align:null},"string"),(0,r.kt)("td",{parentName:"tr",align:null},"Proposal PIPID")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"SubmitBlock"),(0,r.kt)("td",{parentName:"tr",align:null},"8bytes"),(0,r.kt)("td",{parentName:"tr",align:null},"Submitted blockNumber")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"EndVotingBlock"),(0,r.kt)("td",{parentName:"tr",align:null},"8bytes"),(0,r.kt)("td",{parentName:"tr",align:null},"BlockNumber of proposal voting ended, according to SubmitBlock")))),(0,r.kt)("h4",{id:"proposalversionproposal"},"Proposal(VersionProposal)"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Field"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Remark"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"ProposalID"),(0,r.kt)("td",{parentName:"tr",align:null},"common.Hash(32bytes)"),(0,r.kt)("td",{parentName:"tr",align:null},"Proposal ID")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Proposer"),(0,r.kt)("td",{parentName:"tr",align:null},"common.NodeID(64bytes)"),(0,r.kt)("td",{parentName:"tr",align:null},"Proposal Node ID")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"ProposalType"),(0,r.kt)("td",{parentName:"tr",align:null},"byte"),(0,r.kt)("td",{parentName:"tr",align:null},"Proposal type, ",(0,r.kt)("inlineCode",{parentName:"td"},"0x01"),": text proposal; ",(0,r.kt)("inlineCode",{parentName:"td"},"0x02"),": upgrade proposal; ",(0,r.kt)("inlineCode",{parentName:"td"},"0x03")," parameter proposal; ",(0,r.kt)("inlineCode",{parentName:"td"},"0x04")," cancel proposal.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"PIPID"),(0,r.kt)("td",{parentName:"tr",align:null},"string"),(0,r.kt)("td",{parentName:"tr",align:null},"Proposal PIPID")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"SubmitBlock"),(0,r.kt)("td",{parentName:"tr",align:null},"8bytes"),(0,r.kt)("td",{parentName:"tr",align:null},"Submitted blockNumber")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"EndVotingRounds"),(0,r.kt)("td",{parentName:"tr",align:null},"8bytes"),(0,r.kt)("td",{parentName:"tr",align:null},"Number of voting consensus cycles")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"EndVotingBlock"),(0,r.kt)("td",{parentName:"tr",align:null},"8bytes"),(0,r.kt)("td",{parentName:"tr",align:null},"The block height at the end of proposal voting is calculated by the system according to SubmitBlock, EndVotingRounds")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"ActiveBlock"),(0,r.kt)("td",{parentName:"tr",align:null},"8bytes"),(0,r.kt)("td",{parentName:"tr",align:null},"Proposal effective block height, calculated by the system based on EndVotingBlock")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"NewVersion"),(0,r.kt)("td",{parentName:"tr",align:null},"uint"),(0,r.kt)("td",{parentName:"tr",align:null},"updated version")))),(0,r.kt)("h4",{id:"proposal-cancelproposal"},"Proposal CancelProposal"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Field"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Remark"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"ProposalID"),(0,r.kt)("td",{parentName:"tr",align:null},"common.Hash(32bytes)"),(0,r.kt)("td",{parentName:"tr",align:null},"Proposal ID")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Proposer"),(0,r.kt)("td",{parentName:"tr",align:null},"common.NodeID(64bytes)"),(0,r.kt)("td",{parentName:"tr",align:null},"Proposal Node ID")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"ProposalType"),(0,r.kt)("td",{parentName:"tr",align:null},"byte"),(0,r.kt)("td",{parentName:"tr",align:null},"Proposal type, ",(0,r.kt)("inlineCode",{parentName:"td"},"0x01"),": text proposal; ",(0,r.kt)("inlineCode",{parentName:"td"},"0x02"),": upgrade proposal; ",(0,r.kt)("inlineCode",{parentName:"td"},"0x03")," parameter proposal; ",(0,r.kt)("inlineCode",{parentName:"td"},"0x04")," cancel proposal.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"PIPID"),(0,r.kt)("td",{parentName:"tr",align:null},"string"),(0,r.kt)("td",{parentName:"tr",align:null},"Proposal PIPID")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"SubmitBlock"),(0,r.kt)("td",{parentName:"tr",align:null},"8bytes"),(0,r.kt)("td",{parentName:"tr",align:null},"Submitted blockNumber")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"EndVotingRounds"),(0,r.kt)("td",{parentName:"tr",align:null},"8bytes"),(0,r.kt)("td",{parentName:"tr",align:null},"Number of voting consensus cycles")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"EndVotingBlock"),(0,r.kt)("td",{parentName:"tr",align:null},"8bytes"),(0,r.kt)("td",{parentName:"tr",align:null},"The block height at the end of proposal voting is calculated by the system according to SubmitBlock, EndVotingRounds")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"TobeCanceled"),(0,r.kt)("td",{parentName:"tr",align:null},"common.Hash(32bytes)"),(0,r.kt)("td",{parentName:"tr",align:null},"ID of the promotion proposal to cancel")))),(0,r.kt)("h4",{id:"vote"},"Vote"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Field"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Remark"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"voter"),(0,r.kt)("td",{parentName:"tr",align:null},"64bytes"),(0,r.kt)("td",{parentName:"tr",align:null},"Vote validator")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"proposalID"),(0,r.kt)("td",{parentName:"tr",align:null},"common.Hash(32bytes)"),(0,r.kt)("td",{parentName:"tr",align:null},"Proposal ID")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"option"),(0,r.kt)("td",{parentName:"tr",align:null},"VoteOption"),(0,r.kt)("td",{parentName:"tr",align:null},"Voting options")))),(0,r.kt)("h4",{id:"tallyresult"},"TallyResult"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Field"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Remark"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"proposalID"),(0,r.kt)("td",{parentName:"tr",align:null},"common.Hash(32bytes)"),(0,r.kt)("td",{parentName:"tr",align:null},"Proposal ID")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"yeas"),(0,r.kt)("td",{parentName:"tr",align:null},"uint16(2bytes)"),(0,r.kt)("td",{parentName:"tr",align:null},"Approve")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"nays"),(0,r.kt)("td",{parentName:"tr",align:null},"uint16(2bytes)"),(0,r.kt)("td",{parentName:"tr",align:null},"Against")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"abstentions"),(0,r.kt)("td",{parentName:"tr",align:null},"uint16(2bytes)"),(0,r.kt)("td",{parentName:"tr",align:null},"Abstention")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"accuVerifiers"),(0,r.kt)("td",{parentName:"tr",align:null},"uint16(2bytes)"),(0,r.kt)("td",{parentName:"tr",align:null},"Total number of validators who have qualified to vote during the entire voting period")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"status"),(0,r.kt)("td",{parentName:"tr",align:null},"byte"),(0,r.kt)("td",{parentName:"tr",align:null},"status")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"canceledBy"),(0,r.kt)("td",{parentName:"tr",align:null},"common.Hash(32bytes)"),(0,r.kt)("td",{parentName:"tr",align:null},"When status = 0x06, the ProposalID of the record that initiated the cancellation")))),(0,r.kt)("h3",{id:"exposurepunishment-module"},"Exposure/Punishment Module"),(0,r.kt)("h4",{id:"report-double-sign"},"Report Double Sign"),(0,r.kt)("p",null,"Report a double sign by sending a transaction."),(0,r.kt)("p",null,"Parameters:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Field"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Remark"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"funcType"),(0,r.kt)("td",{parentName:"tr",align:null},"uint16(2bytes)"),(0,r.kt)("td",{parentName:"tr",align:null},"Method type code(3000)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"typ"),(0,r.kt)("td",{parentName:"tr",align:null},"uint8"),(0,r.kt)("td",{parentName:"tr",align:null},"Stands for double sign type",(0,r.kt)("br",null),"1\uff1aprepareBlock\uff0c2\uff1aprepareVote\uff0c3\uff1aviewChange")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"data"),(0,r.kt)("td",{parentName:"tr",align:null},"string"),(0,r.kt)("td",{parentName:"tr",align:null},"The json value of a single evidence. The format is ","[RPC interface Evidences][evidences_interface]")))),(0,r.kt)("h4",{id:"query-whether-node-has-been-reported-as-oversigned"},"Query Whether Node Has Been Reported As Oversigned"),(0,r.kt)("p",null,"Query whether a node has been reported as oversigned by sending a transaction."),(0,r.kt)("p",null,"Parameters:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Field"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Remark"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"funcType"),(0,r.kt)("td",{parentName:"tr",align:null},"uint16(2bytes)"),(0,r.kt)("td",{parentName:"tr",align:null},"Method type code(3001)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"typ"),(0,r.kt)("td",{parentName:"tr",align:null},"uint32"),(0,r.kt)("td",{parentName:"tr",align:null},"Stands for double sign type,",(0,r.kt)("br",null),"1\uff1aprepareBlock\uff0c2\uff1aprepareVote\uff0c3\uff1aviewChange")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"addr"),(0,r.kt)("td",{parentName:"tr",align:null},"20bytes"),(0,r.kt)("td",{parentName:"tr",align:null},"Reporting node address")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"blockNumber"),(0,r.kt)("td",{parentName:"tr",align:null},"uint64"),(0,r.kt)("td",{parentName:"tr",align:null},"Multi-Signed BlockNumber")))),(0,r.kt)("p",null,"Returns:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Remark"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"String"),(0,r.kt)("td",{parentName:"tr",align:null},"Reported Transaction Hash")))),(0,r.kt)("h3",{id:"lockout-module"},"Lockout Module"),(0,r.kt)("h4",{id:"create-hedging-plan"},"Create Hedging Plan"),(0,r.kt)("p",null,"Create hedging plan by sending a transaction."),(0,r.kt)("p",null,"Parameters:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Field"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Remark"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"account"),(0,r.kt)("td",{parentName:"tr",align:null},"20bytes"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Lock release to account"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"plan"),(0,r.kt)("td",{parentName:"tr",align:null},"[]RestrictingPlan"),(0,r.kt)("td",{parentName:"tr",align:null},"plan is a list (array) of type RestrictingPlan. RestrictingPlan is defined as follows: ",(0,r.kt)("br",null)," type RestrictingPlan struct {",(0,r.kt)("br",null)," Epoch uint64 ",(0,r.kt)("br",null)," Amount: \\ ",(0,r.kt)("em",{parentName:"td"}," big.Int ",(0,r.kt)("br",null),"} ",(0,r.kt)("br",null)," Among them, Epoch : Represents a multiple of the settlement cycle. The product of the number of blocks per settlement cycle indicates the release of locked funds at the height of the target block. Epoch \\ ")," The number of blocks per cycle must be at least greater than the highest irreversible block height. ",(0,r.kt)("br",null)," Amount: indicates the amount to be released on the target block.")))),(0,r.kt)("h4",{id:"get-lock-information"},"Get Lock Information"),(0,r.kt)("p",null,"Get lock information by calling."),(0,r.kt)("p",null,"Note: This interface supports the acquisition of historical data. The block height can be attached to the request. By default, the latest block data is queried."),(0,r.kt)("p",null,"Parameters:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Field"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Remark"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"account"),(0,r.kt)("td",{parentName:"tr",align:null},"20bytes"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"The account that was posted after the lockout was released"))))),(0,r.kt)("p",null,"Returns:"),(0,r.kt)("p",null,"Returns a json format string with the following fields:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Field"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Remark"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"balance"),(0,r.kt)("td",{parentName:"tr",align:null},"string(Hex)"),(0,r.kt)("td",{parentName:"tr",align:null},"Amount of remaining locked positions")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"pledge"),(0,r.kt)("td",{parentName:"tr",align:null},"string(Hex)"),(0,r.kt)("td",{parentName:"tr",align:null},"Pledge / mortgage amount")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"debt"),(0,r.kt)("td",{parentName:"tr",align:null},"string(Hex)"),(0,r.kt)("td",{parentName:"tr",align:null},"Amount due for release")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"plans"),(0,r.kt)("td",{parentName:"tr",align:null},"bytes"),(0,r.kt)("td",{parentName:"tr",align:null},"Locked entry information, json array\uff1a",'[{"blockNumber":"","amount":""},...,{"blockNumber":"","amount":""}]',". among:",(0,r.kt)("br",null),"blockNumber\uff1a","*","big.Int\uff0cRelease blockNumber ",(0,r.kt)("br",null),"amount\uff1a\\string(Hex string), Release amount")))),(0,r.kt)("h3",{id:"reward-interface"},"Reward Interface"),(0,r.kt)("h4",{id:"withdraw-delegate-reward"},"Withdraw Delegate Reward"),(0,r.kt)("p",null,"Withdraw all currently available delegate rewards from the account and send the transaction."),(0,r.kt)("p",null,"Parameters\uff1a"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Field"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Remark"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"funcType"),(0,r.kt)("td",{parentName:"tr",align:null},"uint16(2bytes)"),(0,r.kt)("td",{parentName:"tr",align:null},"Method type code(5000)")))),(0,r.kt)("p",null,"Returns:"),(0,r.kt)("p",null,"Note: The transaction results are stored in the logs.data of the transaction receipt. If the transaction is successful, rlp.Encode (byte {[] byte (status code 0), rlp.Encode (",(0,r.kt)("inlineCode",{parentName:"p"},"node income list"),")}). If the transaction is unsuccessful, it is consistent with the previous method."),(0,r.kt)("p",null,"The returned ",(0,r.kt)("inlineCode",{parentName:"p"},"node income list")," is an array"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Field"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Remark"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"NodeID"),(0,r.kt)("td",{parentName:"tr",align:null},"discover.NodeID(64bytes)"),(0,r.kt)("td",{parentName:"tr",align:null},"Node ID")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"StakingNum"),(0,r.kt)("td",{parentName:"tr",align:null},"uint64"),(0,r.kt)("td",{parentName:"tr",align:null},"Node stake block Number")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Reward"),(0,r.kt)("td",{parentName:"tr",align:null},"*","big.Int"),(0,r.kt)("td",{parentName:"tr",align:null},"Received reward")))),(0,r.kt)("h4",{id:"query-delegate-reward"},"Query Delegate Reward"),(0,r.kt)("p",null,"The query account did not withdraw the delegate reward at each node, and call query."),(0,r.kt)("p",null,"Parameters\uff1a"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Field"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Remark"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"funcType"),(0,r.kt)("td",{parentName:"tr",align:null},"uint16(2bytes)"),(0,r.kt)("td",{parentName:"tr",align:null},"Method type code(5100)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"address"),(0,r.kt)("td",{parentName:"tr",align:null},"20bytes"),(0,r.kt)("td",{parentName:"tr",align:null},"The address of the account to be queried")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"nodeIDs"),(0,r.kt)("td",{parentName:"tr",align:null},"[]discover.NodeID"),(0,r.kt)("td",{parentName:"tr",align:null},"The node to be queried, if it is empty, all nodes entrusted by the account are queried")))),(0,r.kt)("p",null,"Returns\uff1a"),(0,r.kt)("p",null,"Is a []Reward array"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Field"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Remark"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"nodeID"),(0,r.kt)("td",{parentName:"tr",align:null},"discover.NodeID(64bytes)"),(0,r.kt)("td",{parentName:"tr",align:null},"Node ID")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"stakingNum"),(0,r.kt)("td",{parentName:"tr",align:null},"uint64"),(0,r.kt)("td",{parentName:"tr",align:null},"Node stake block Number")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"reward"),(0,r.kt)("td",{parentName:"tr",align:null},"string(0x hex string)"),(0,r.kt)("td",{parentName:"tr",align:null},"Did not withdraw the delegate reward")))),(0,r.kt)("h3",{id:"error-code-description"},"Error Code Description"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"ErrorCode"),(0,r.kt)("th",{parentName:"tr",align:null},"Remark"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"301000"),(0,r.kt)("td",{parentName:"tr",align:null},"Wrong bls public key")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"301001"),(0,r.kt)("td",{parentName:"tr",align:null},"Wrong bls public key proof")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"301002"),(0,r.kt)("td",{parentName:"tr",align:null},"The Description length is wrong")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"301003"),(0,r.kt)("td",{parentName:"tr",align:null},"The program version sign is wrong")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"301004"),(0,r.kt)("td",{parentName:"tr",align:null},"The program version of the relates node's is too low")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"301005"),(0,r.kt)("td",{parentName:"tr",align:null},"DeclareVersion is failed on create staking")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"301006"),(0,r.kt)("td",{parentName:"tr",align:null},"The address must be the same as initiated staking")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"301100"),(0,r.kt)("td",{parentName:"tr",align:null},"Staking deposit too low")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"301101"),(0,r.kt)("td",{parentName:"tr",align:null},"This candidate is already exist")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"301102"),(0,r.kt)("td",{parentName:"tr",align:null},"This candidate is not exist")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"301103"),(0,r.kt)("td",{parentName:"tr",align:null},"This candidate status was invalided")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"301104"),(0,r.kt)("td",{parentName:"tr",align:null},"IncreaseStake von is too low")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"301105"),(0,r.kt)("td",{parentName:"tr",align:null},"Delegate deposit too low")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"301106"),(0,r.kt)("td",{parentName:"tr",align:null},"The account is not allowed to be used for delegating")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"301107"),(0,r.kt)("td",{parentName:"tr",align:null},"The candidate does not accept the delegation")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"301108"),(0,r.kt)("td",{parentName:"tr",align:null},"Withdrew delegation von is too low")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"301109"),(0,r.kt)("td",{parentName:"tr",align:null},"This delegation is not exist")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"301110"),(0,r.kt)("td",{parentName:"tr",align:null},"The von operation type is wrong")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"301111"),(0,r.kt)("td",{parentName:"tr",align:null},"The von of account is not enough")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"301112"),(0,r.kt)("td",{parentName:"tr",align:null},"The blockNumber is disordered")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"301113"),(0,r.kt)("td",{parentName:"tr",align:null},"The von of delegation is not enough")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"301114"),(0,r.kt)("td",{parentName:"tr",align:null},"Withdrew delegation von calculation is wrong")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"301115"),(0,r.kt)("td",{parentName:"tr",align:null},"The validator is not exist")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"301116"),(0,r.kt)("td",{parentName:"tr",align:null},"The fn params is wrong")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"301117"),(0,r.kt)("td",{parentName:"tr",align:null},"The slashing type is wrong")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"301118"),(0,r.kt)("td",{parentName:"tr",align:null},"Slashing amount is overflow")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"301119"),(0,r.kt)("td",{parentName:"tr",align:null},"Slashing candidate von calculate is wrong")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"301200"),(0,r.kt)("td",{parentName:"tr",align:null},"Getting verifierList is failed")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"301201"),(0,r.kt)("td",{parentName:"tr",align:null},"Getting validatorList is failed")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"301202"),(0,r.kt)("td",{parentName:"tr",align:null},"Getting candidateList is failed")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"301203"),(0,r.kt)("td",{parentName:"tr",align:null},"Getting related of delegate is failed")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"301204"),(0,r.kt)("td",{parentName:"tr",align:null},"Query candidate info failed")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"301205"),(0,r.kt)("td",{parentName:"tr",align:null},"Query delegate info failed")))),(0,r.kt)("p",null,(0,r.kt)("em",{parentName:"p"},"English Translation Contributors @",(0,r.kt)("a",{parentName:"em",href:"https://github.com/WillXing"},"WillXing"))))}m.isMDXComponent=!0}}]);