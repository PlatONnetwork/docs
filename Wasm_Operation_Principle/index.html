<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.3">
<link rel="search" type="application/opensearchdescription+xml" title="PlatON" href="/docs/opensearch.xml">
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML"></script>
<script src="https://cdn.jsdelivr.net/npm/mermaid@8.4.0/dist/mermaid.min.js"></script>
<script src="/docs/js/custom.js"></script><title data-react-helmet="true">WebAssembly(Wasm) | PlatON</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://luo-dahui.github.io//docs/Wasm_Operation_Principle"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="WebAssembly(Wasm) | PlatON"><meta data-react-helmet="true" name="description" content="Preface"><meta data-react-helmet="true" property="og:description" content="Preface"><meta data-react-helmet="true" property="og:image" content="https://luo-dahui.github.io//docs/img/undraw_online.svg"><meta data-react-helmet="true" name="twitter:image" content="https://luo-dahui.github.io//docs/img/undraw_online.svg"><link data-react-helmet="true" rel="shortcut icon" href="/docs/img/logo.png"><link data-react-helmet="true" rel="canonical" href="https://luo-dahui.github.io//docs/Wasm_Operation_Principle"><link data-react-helmet="true" rel="alternate" href="https://luo-dahui.github.io//docs/Wasm_Operation_Principle" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://luo-dahui.github.io//docs/zh-CN/Wasm_Operation_Principle" hreflang="zh-CN"><link data-react-helmet="true" rel="alternate" href="https://luo-dahui.github.io//docs/Wasm_Operation_Principle" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/docs/assets/css/styles.9355613d.css">
<link rel="preload" href="/docs/assets/js/runtime~main.04d2f2cd.js" as="script">
<link rel="preload" href="/docs/assets/js/main.16343a54.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_OuoZ">Skip to main content</a></div><nav class="navbar navbar--fixed-top navbar--dark"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/docs/"><img src="/docs/img/PlatON-logo.svg" alt="PlatON" class="themedImage_TMUO themedImage--light_4Vu1 navbar__logo"><img src="/docs/img/PlatON-logo.svg" alt="PlatON" class="themedImage_TMUO themedImage--dark_uzRr navbar__logo"></a></div><div class="navbar__items navbar__items--right"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" class="navbar__item navbar__link"><span>English</span></a><ul class="dropdown__menu"><li><a href="/docs/Wasm_Operation_Principle" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" style="text-transform:capitalize">English</a></li><li><a href="/docs/Wasm_Operation_Principle" target="_self" rel="noopener noreferrer" class="dropdown__link" style="text-transform:capitalize">中文</a></li></ul></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/docs/"><img src="/docs/img/PlatON-logo.svg" alt="PlatON" class="themedImage_TMUO themedImage--light_4Vu1 navbar__logo"><img src="/docs/img/PlatON-logo.svg" alt="PlatON" class="themedImage_TMUO themedImage--dark_uzRr navbar__logo"></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a href="#" role="button" class="menu__link menu__link--sublist"><span>Languages</span></a><ul class="menu__list"><li class="menu__list-item"><a href="/docs/Wasm_Operation_Principle" target="_self" rel="noopener noreferrer" class="menu__link dropdown__link--active" style="text-transform:capitalize">English</a></li><li class="menu__list-item"><a href="/docs/Wasm_Operation_Principle" target="_self" rel="noopener noreferrer" class="menu__link" style="text-transform:capitalize">中文</a></li></ul></li></ul></div></div></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_lDyR"><aside class="docSidebarContainer_0YBq"><div class="sidebar_a3j0"><nav class="menu menu--responsive thin-scrollbar menu_cyFh menuWithAnnouncementBar_+O1J" aria-label="Sidebar navigation"><button aria-label="Open menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg class="sidebarMenuIcon_iZzd" width="24" height="24" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/">Overview</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Basics</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/lat_introduced">Intro to LAT</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/staking_and_delegation">Staking&amp;Delegation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/Network_Description">Networks</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Advanced</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/PlatON_Overall_Solution">Architecture</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Economic_Model">Economic model</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/PlatON_Solution">PlatON Consensus Solution</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/PlatON_Governance_Solution">Governance mechanism</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/Wasm_Operation_Principle">WebAssembly(Wasm)</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">PlatON Node</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/PlatON_Validation_Introduce">Intro to validator</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/Become_PlatON_Main_Verification">Run a validator node</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="-1">Tools for nodes</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/OnLine_MTool_Manual">MTool online tutorial</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/OffLine_MTool_Manual">MTool offline tutorial</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/Command_Line_Tools">Command line tools</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/CTool_Manual">CTool tutorial</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Developers</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/PlatON_Overview_DevGuide">Development guide</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="-1">Set up local environment</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/Join_Dev_Network">Dev Network</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/Build_Private_Chain">Private Network</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="-1">Smart contract</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="-1">System contract</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/PlatON_system_contract">System contracts</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/PlatON_system_contract_api">System contract api</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="-1">Solidity contract</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/Solidity_Dev_Manual">Getting started</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/Solidity_Contract_Migrate">Migration tutorial</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/Solidity_Contract_Dev_Costs">Development costs</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/Solidity_Contract_Best_Practice">Best practices</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/Solidity_Contract_Security_Dev_Guide">Contract security</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/Solidity_Inner_Contract">Call Inner Contract</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="-1">Wasm contract</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/Wasm_Dev_Manual">Getting started</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/Wasm_Contract_Dev_Costs">Development Costs</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/Wasm_Contract_Best_Practice">Best practices</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/Wasm_Contract_API">Wasm API</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="-1">References</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/Python_SDK">Python SDK</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/JS_SDK">JS SDK</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/Java_SDK">Java SDK</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/Go_SDK">Go SDK</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/NET_SDK">.NET SDK</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/Json_Rpc">JSON-RPC</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/GraphQL_Server">GraphQL Server</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/Explorer_API">Explorer API</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/Samurai_API">Samurai API</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="-1">PRC Token</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/PRC20_contract">PRC-20</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/PRC721_contract">PRC-721</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Data and analytics</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/PlatON_BlockChain_Browser">PlatScan</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/PlatEye">PlatEye</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Tutorials</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/DApp_migrate">DApp Quick Migration Tutorial</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/qianqian_prc721_tutorial">PRC721 NFT Release Tutorial</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="-1">WASM Tutorials</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/WASM_Contract_1">WASM—Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/WASM_Contract_2">WASM—Cross contracts Interaction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/WASM_Contract_3">WASM—Contract Event</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/WASM_Contract_4">WASM—Parameters</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/WASM_Contract_5">WASM—Proxy</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/WASM_Contract_6">WASM—Proxy Event</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/WASM_Contract_7">WASM—General Proxy</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/WASM_Contract_8">WASM—Build-in Type</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/WASM_Contract_9">WASM—Build-in Type Performance Test</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="-1">WalletConnect</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/walletconnect_tutorial">WalletConnect</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/DApp_integration_with_WalletConnect_for_ATON">WalletConnect integration Tutorial</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/get_vrf_random_number">Get a Random Number</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/adapting_to_new_chainid">Adapting to new chainid</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/eip55-bech32-compatible">EIP55 and Bech32 address</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Wallet</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ATON-user-manual">ATON Wallet User Manual</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/Samurai_user_manual">Samurai</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/Third_Party_Walle">Third-party wallets</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/Ledger-hardware-wallet">Ledger hardware wallet</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/MetaMask">MetaMask</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/docs/community">Community Projects</a></li></ul></nav></div></aside><main class="docMainContainer_r8cw"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_zHA2"><div class="docItemContainer_oiyr"><article><div class="markdown"><header><h1 class="h1Heading_dC7a">WebAssembly(Wasm)</h1></header><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="preface"></a>Preface<a class="hash-link" href="#preface" title="Direct link to heading">#</a></h2><p>WASM (WebAssembly) is not a language, but a new bytecode format, a brand-new underlying binary grammar, and instruction code compiled by the compiler. Small in size, portable, fast in loading, and compatible with the latest format of the Web, WASM is a new technology to run portable programs safely and effectively. This article analyzes the introduction, advantages, operation mechanism and use of the PlatON WASM contract in detail.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="introduction-of-wasm"></a>Introduction of WASM<a class="hash-link" href="#introduction-of-wasm" title="Direct link to heading">#</a></h2><p>WASM was mainly applied on the Web in the early days. As it continues to develop, it is used as the final format of smart contracts by increasing projects, and runs with the corresponding VM loaded, such as wavm and wagon. Bytecodes are parsed and operate in the core virtual machine module. </p><p>The virtual machine (VM) refers to a complete computer system that is simulated by software, has functions of a complete hardware system and runs in an isolated environment, such as the Vmware virtual machine for operating system virtualization and the JVM virtual machine for the software operating environment. The virtual machine in the blockchain is a code operating environment built on the blockchain, mainly to process the smart contracts of the blockchain.</p><p><strong>Why does PlatON introduce the WASM virtual machine as a supplement to the EVM?</strong> </p><p>As the demand for virtual machines and smart contracts in blockchain applications grows, the blockchain virtual machine technology is being improved as time goes by. At present, WASM-based virtual machines have been significantly improved in terms of speed and performance, and support multiple high-level development languages such as C, C++, Rust, and Golang, lowering the development threshold. </p><p>To facilitate the development of blockchain applications, PlatON has launched a dual virtual machine engine that supports the WASM virtual machine and the EVM at the same time. Blockchain applications that originally run on public chains that support EVM, such as Ethereum, can migrate easily and seamlessly if they need to use PlatON due to performance and other reasons. </p><p>EVM is essentially a script program, a stack-based virtual machine, which needs to be executed after being translated into instructions by a compiler, which is quite inefficient. At the same time, EVM also has some problems in its architecture and use, such as: </p><ul><li><em>Strong coupling and difficult scalability</em>: The chain and the EVM are internally dependent upon each other;</li><li><em>Lack of a standard library</em>: There is basically no standard library in solidity, and you must independently code corresponding functions, such as string comparison.</li></ul><p>Compared with EVM, WASM, as a kind of intermediate code, runs smart contracts faster, and can be developed in any familiar programming language (C/C++/Rust/Golang). It also has many other features:</p><ul><li><em>Efficient performance</em>: Binary coding adopted has superior performance during program execution;</li><li><em>Support by multiple languages</em>: You can use C/C++/Rust/Golang and other languages to write the contract and then compile the contract into bytecode;</li><li><em>Abundant standard libraries</em>: There are abundant standard libraries available for use in different languages.</li></ul><p>At the same time, WASM has been applied by a growing number of projects, including Ethereum that has introduced the EVM. The popularity of WASM has driven its community ecosystem to improve.</p><p>In order to adapt the existing WASM applications and developers familiar with WASM to the PlatON ecosystem, PlatON decided after comprehensive consideration to adopt dual virtual machines, that is, to introduce the WASM virtual machine as a supplement to the EVM.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="advantages-of-platon-to-introduce-wasm"></a>Advantages of PlatON to Introduce WASM<a class="hash-link" href="#advantages-of-platon-to-introduce-wasm" title="Direct link to heading">#</a></h2><p>PlatON factored in some of the disadvantages of the EVM upon its decision to introduce the virtual machine. Right after the EVM was introduced, PlatON began the design and development of the WASM virtual machine, and kept making innovations and improvements in terms of scalability, stability, and operating efficiency. The main functions include:</p><ul><li>With a complete set of contract development kit <a href="https://github.com/PlatONnetwork/PlatON-CDT" target="_blank" rel="noopener noreferrer">PlatON-CDT</a>;</li><li>Smaller contract bytecode. WASM binary code compiled by CDT suite is half smaller compared with other projects;</li><li>With a smart contract framework <a href="https://github.com/PlatONnetwork/platon-truffle" target="_blank" rel="noopener noreferrer">PlatON-Truffle</a> for rapid development;</li><li>With support for string, address, hash, u128 and other data types;</li><li>The gas mechanism introduced. Every time a contract instruction is executed, the corresponding gas will be deducted to ensure that the execution of the contract instruction can be terminated after a limited number of operations, thereby effectively preventing code from attacks of the infinite loop;</li><li>Contract nested call introduced, which can immediately obtain the result of another contract call, making calls between contracts as convenient as function calls;</li><li>With support for the automatic expansion of linear memory and caching WASM module to optimize the loading performance of the contract, thereby greatly improving the operating performance of the virtual machine.</li></ul><p>Based on the application and optimization of WASM, PlatON&#x27;s smart contract module boasts higher compatibility and performance, as well as better security and flexibility. After successfully integrating WASM and applying dual virtual machines, PlatON tested the performance of the EVM and WASM for comparison under the same environment.</p><p>The test results show that the execution efficiency of the WASM virtual machine is much higher than that of the EVM. EVM uses 256-bit machine code that greatly affects the performance of the execution and at the same time increases the memory usage.</p><p>PlatON has the following advantages after introducing the WASM virtual machine as part of the dual virtual machines:</p><ul><li><p>Mainstream WASM smart contracts can be easily and quickly migrated to the PlatON network;</p></li><li><p>The threshold for contract developers is lowered, with little learning cost;</p></li><li><p>Developers who use other WASM-based networks can be well-adapted to the WASM virtual machine and get started quickly;</p></li><li><p>The execution of smart contracts is more efficient;</p></li><li><p>Abundant development libraries can improve the efficiency of smart contract development.</p></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="the-operating-mechanism-of-wasm"></a>The Operating Mechanism of WASM<a class="hash-link" href="#the-operating-mechanism-of-wasm" title="Direct link to heading">#</a></h2><p>The WASM virtual machine is a completely independent sandbox. Fully isolated from the outside, the contract code runs inside the virtual machine, and cannot access the network, file system or other processes. At the same time, to prevent the virtual machine from executing too many computation instructions and falling into an infinite loop, both the gas mechanism and the timeout mechanism are introduced as dual controls.</p><p><strong>The working principle of dual virtual machines:</strong></p><img src="/docs/img/en/Wasm.assets/wasm-dual.png"><p>As shown in the figure: Smart contracts written in languages such as solidity/c/c++ are compiled into bytecode by a compiler. At the same time, different types of contracts come with different bytecode features. By recognizing the features, the engine of the dual virtual machines of PlatON can select a specific virtual machine to load the bytecode, parse it, and then execute the corresponding function according to the instruction.</p><p><strong>Usage process of the smart contract:</strong></p><img src="/docs/img/en/Wasm.assets/wasm-contract.webp"><p>As shown in the figure, you can use C++ to write a smart contract based on WASM, or solidity to write a smart contract that belongs to the EVM, then compile and generate bytecode and other information through the toolset, and then send it to a node on the PlatON network by the transaction through the SDK development toolset. That is a complete process of a contract-related transaction.</p><p>PlatON provides a complete WASM contract development kit named PlatON-CDT. Using this kit, you can quickly write smart contracts for the WASM virtual machine. The kit encapsulates various types of data, and is equipped with a simple API interface and detailed interface documentation. At the same time, you can also use the smart contract testing framework PlatON-Truffle for development, compilation, deployment, contract interface testing and other functions, which is convenient for developers to develop and test contracts.</p><p>PlatON provides an automated <a href="https://github.com/PlatONnetwork/client-sdk-java" target="_blank" rel="noopener noreferrer">Contract SDK</a> generation tool, which can automatically generate the code for the back-end system to call the contract interface and can shield the parameter encoding and decoding details when calling the contract. In this way, it helps developers quickly integrate contract business into the system, so that they can be more focused on developing the business logic of smart contracts.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="summary"></a>Summary<a class="hash-link" href="#summary" title="Direct link to heading">#</a></h2><p>This article mainly discusses the background and original intention of PlatON to support the WASM virtual machine and introduces the unique advantages brought by the introduction of WASM. It also briefly explains the basic principles and operating mechanisms of the WASM virtual machine. With this article, the author hopes to provide some useful experience for community users, developers, and blockchain professionals participating in PlatON. From a bust to a boom, WASM will be applied in increasing projects as the underlying level of distributed application development in the future.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><a href="https://github.com/PlatONnetwork/docs/tree/master/docs/WASM虚拟机.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_mS5F" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_wj+Z"></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/PlatON_Governance_Solution"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« Governance mechanism</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/PlatON_Validation_Introduce"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Intro to validator »</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_vrFS thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#preface" class="table-of-contents__link">Preface</a></li><li><a href="#introduction-of-wasm" class="table-of-contents__link">Introduction of WASM</a></li><li><a href="#advantages-of-platon-to-introduce-wasm" class="table-of-contents__link">Advantages of PlatON to Introduce WASM</a></li><li><a href="#the-operating-mechanism-of-wasm" class="table-of-contents__link">The Operating Mechanism of WASM</a></li><li><a href="#summary" class="table-of-contents__link">Summary</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><ul class="footer__items"><li class="footer__item"><a href="https://www.platon.network/en" target="_blank" class="footer-logo-home" rel="noreferrer noopener"><img src="/docs/img/PlatON-logo2.svg" width="66" height="58"></a></li></ul></div><div class="col footer__col"><ul class="footer__items"><li class="footer__item"><a href="https://www.platon.network/en" target="_blank" rel="noopener noreferrer" class="footer__link-item" hrefzh="https://www.platon.network/">PlatON network</a></li><li class="footer__item"><a href="https://latticex.foundation/home" target="_blank" rel="noopener noreferrer" class="footer__link-item" hrefzh="https://latticex.foundation/home">LatticeX.Foundation</a></li><li class="footer__item"><a href="https://forum.latticex.foundation/" target="_blank" rel="noopener noreferrer" class="footer__link-item" hrefzh="https://forum.latticex.foundation/">Forum</a></li></ul></div><div class="gitstar"><a class="github-button" href="https://github.com/PlatONnetwork/PlatON-Go" data-color-scheme="no-preference: light; light: light; dark: light;" data-icon="octicon-star" data-size="small" data-show-count="true" aria-label="Star PlatONnetwork/PlatON-Go on GitHub">Star</a></div></div><div class="footer__bottom text--center"><div class="footer__copyright">COPYRIGHT  © 2022 PLATON NETWORK.</div></div></div></footer></div>
<script src="/docs/assets/js/runtime~main.04d2f2cd.js"></script>
<script src="/docs/assets/js/main.16343a54.js"></script>
</body>
</html>